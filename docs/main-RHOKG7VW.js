import{A as Go,B as wv,C as bv,D as P,E as lt,F as Ne,G as hd,H as Sv,I as Uo,J as Ke,K as wn,L as Ba,M as pd,N as Iv,O as hi,P as $o,Q as Mv,R as Av,S as Kn,T as gt,a as D,b as W,c as ae,d as hv,e as ka,f as pv,g as gv,h as C,i as fi,j as Fa,k as mv,l as vv,m as Oe,n as yv,o as fd,p as _v,q as tn,r as Cv,s as Ev,t as La,u as Ae,v as Tv,w as Dv,x as bt,y as qn,z as Va}from"./chunk-YI2MOBZN.js";function Nv(t,e){return Object.is(t,e)}var Pe=null,Wo=!1,ja=1,jt=Symbol("SIGNAL");function Y(t){let e=Pe;return Pe=t,e}function Pv(){return Pe}function Pb(){return Wo}var pi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ga(t){if(Wo)throw new Error("");if(Pe===null)return;Pe.consumerOnSignalRead(t);let e=Pe.nextProducerIndex++;if(qa(Pe),e<Pe.producerNode.length&&Pe.producerNode[e]!==t&&zo(Pe)){let n=Pe.producerNode[e];za(n,Pe.producerIndexOfThis[e])}Pe.producerNode[e]!==t&&(Pe.producerNode[e]=t,Pe.producerIndexOfThis[e]=zo(Pe)?Fv(t,Pe,e):0),Pe.producerLastReadVersion[e]=t.version}function xb(){ja++}function xv(t){if(!(zo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ja)){if(!t.producerMustRecompute(t)&&!$a(t)){t.dirty=!1,t.lastCleanEpoch=ja;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ja}}function Rv(t){if(t.liveConsumerNode===void 0)return;let e=Wo;Wo=!0;try{for(let n of t.liveConsumerNode)n.dirty||kv(n)}finally{Wo=e}}function Ov(){return Pe?.consumerAllowSignalWrites!==!1}function kv(t){t.dirty=!0,Rv(t),t.consumerMarkedDirty?.(t)}function qo(t){return t&&(t.nextProducerIndex=0),Y(t)}function Ua(t,e){if(Y(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(zo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)za(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function $a(t){qa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(xv(n),r!==n.version))return!0}return!1}function Wa(t){if(qa(t),zo(t))for(let e=0;e<t.producerNode.length;e++)za(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Fv(t,e,n){if(Lv(t),t.liveConsumerNode.length===0&&Vv(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Fv(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function za(t,e){if(Lv(t),t.liveConsumerNode.length===1&&Vv(t))for(let r=0;r<t.producerNode.length;r++)za(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];qa(i),i.producerIndexOfThis[r]=e}}function zo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function qa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Lv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Vv(t){return t.producerNode!==void 0}function Bv(t){let e=Object.create(Rb);e.computation=t;let n=()=>{if(xv(e),Ga(e),e.value===Ha)throw e.error;return e.value};return n[jt]=e,n}var gd=Symbol("UNSET"),md=Symbol("COMPUTING"),Ha=Symbol("ERRORED"),Rb=W(D({},pi),{value:gd,dirty:!0,error:null,equal:Nv,producerMustRecompute(t){return t.value===gd||t.value===md},producerRecomputeValue(t){if(t.value===md)throw new Error("Detected cycle in computations.");let e=t.value;t.value=md;let n=qo(t),r;try{r=t.computation()}catch(i){r=Ha,t.error=i}finally{Ua(t,n)}if(e!==gd&&e!==Ha&&r!==Ha&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Ob(){throw new Error}var jv=Ob;function Hv(){jv()}function Gv(t){jv=t}var kb=null;function Uv(t){let e=Object.create(yd);e.value=t;let n=()=>(Ga(e),e.value);return n[jt]=e,n}function Ka(t,e){Ov()||Hv(),t.equal(t.value,e)||(t.value=e,Fb(t))}function $v(t,e){Ov()||Hv(),Ka(t,e(t.value))}var yd=W(D({},pi),{equal:Nv,value:void 0});function Fb(t){t.version++,xb(),Rv(t),kb?.()}function Wv(t,e,n){let r=Object.create(Lb);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=l=>{r.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(Wa(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=vd)}let a=()=>{if(r.fn===null)return;if(Pb())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!$a(r))return;r.hasRun=!0;let l=qo(r);try{r.cleanupFn(),r.cleanupFn=vd,r.fn(i)}finally{Ua(r,l)}};return r.ref={notify:()=>kv(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[jt]:r},r.ref}var vd=()=>{},Lb=W(D({},pi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:vd});function F(t){return typeof t=="function"}function gi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Xa=gi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Mr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var be=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){e=o instanceof Xa?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zv(o)}catch(s){e=e??[],s instanceof Xa?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Xa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Mr(n,e)}remove(e){let{_finalizers:n}=this;n&&Mr(n,e),e instanceof t&&e._removeParent(this)}};be.EMPTY=(()=>{let t=new be;return t.closed=!0,t})();var _d=be.EMPTY;function Qa(t){return t instanceof be||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function zv(t){F(t)?t():t.unsubscribe()}var Ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var mi={setTimeout(t,e,...n){let{delegate:r}=mi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=mi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ya(t){mi.setTimeout(()=>{let{onUnhandledError:e}=Ht;if(e)e(t);else throw t})}function Ar(){}var qv=Cd("C",void 0,void 0);function Kv(t){return Cd("E",void 0,t)}function Xv(t){return Cd("N",t,void 0)}function Cd(t,e,n){return{kind:t,value:e,error:n}}var Nr=null;function vi(t){if(Ht.useDeprecatedSynchronousErrorHandling){let e=!Nr;if(e&&(Nr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Nr;if(Nr=null,n)throw r}}else t()}function Qv(t){Ht.useDeprecatedSynchronousErrorHandling&&Nr&&(Nr.errorThrown=!0,Nr.error=t)}var Pr=class extends be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qa(e)&&e.add(this)):this.destination=jb}static create(e,n,r){return new Gt(e,n,r)}next(e){this.isStopped?Td(Xv(e),this):this._next(e)}error(e){this.isStopped?Td(Kv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Td(qv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Vb=Function.prototype.bind;function Ed(t,e){return Vb.call(t,e)}var Dd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Za(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Za(r)}else Za(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Za(n)}}},Gt=class extends Pr{constructor(e,n,r){super();let i;if(F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ht.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ed(e.next,o),error:e.error&&Ed(e.error,o),complete:e.complete&&Ed(e.complete,o)}):i=e}this.destination=new Dd(i)}};function Za(t){Ht.useDeprecatedSynchronousErrorHandling?Qv(t):Ya(t)}function Bb(t){throw t}function Td(t,e){let{onStoppedNotification:n}=Ht;n&&mi.setTimeout(()=>n(t,e))}var jb={closed:!0,next:Ar,error:Bb,complete:Ar};var yi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function He(t){return t}function wd(...t){return bd(t)}function bd(t){return t.length===0?He:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var G=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Gb(n)?n:new Gt(n,r,i);return vi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Yv(r),new r((i,o)=>{let s=new Gt({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[yi](){return this}pipe(...n){return bd(n)(this)}toPromise(n){return n=Yv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Yv(t){var e;return(e=t??Ht.Promise)!==null&&e!==void 0?e:Promise}function Hb(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function Gb(t){return t&&t instanceof Pr||Hb(t)&&Qa(t)}function Sd(t){return F(t?.lift)}function B(t){return e=>{if(Sd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function L(t,e,n,r,i){return new Id(t,e,n,r,i)}var Id=class extends Pr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function _i(){return B((t,e)=>{let n=null;t._refCount++;let r=L(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ci=class extends G{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Sd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new be;let n=this.getSubject();e.add(this.source.subscribe(L(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=be.EMPTY)}return e}refCount(){return _i()(this)}};var Zv=gi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ja(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Zv}next(n){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?_d:(this.currentObservers=null,o.push(n),new be(()=>{this.currentObservers=null,Mr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return t.create=(e,n)=>new Ja(e,n),t})(),Ja=class extends Ce{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:_d}};var Ge=class extends Ce{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ko={now(){return(Ko.delegate||Date).now()},delegate:void 0};var el=class extends Ce{constructor(e=1/0,n=1/0,r=Ko){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var tl=class extends be{constructor(e,n){super()}schedule(e,n=0){return this}};var Xo={setInterval(t,e,...n){let{delegate:r}=Xo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Xo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ei=class extends tl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Xo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Xo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Mr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ti=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ti.now=Ko.now;var Di=class extends Ti{constructor(e,n=Ti.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Qo=new Di(Ei);var nl=class extends Ei{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var rl=class extends Di{};var Md=new rl(nl);var Xe=new G(t=>t.complete());function Jv(t){return t&&F(t.schedule)}function Ad(t){return t[t.length-1]}function wi(t){return F(Ad(t))?t.pop():void 0}function nn(t){return Jv(Ad(t))?t.pop():void 0}function ey(t,e){return typeof Ad(t)=="number"?t.pop():e}var il=t=>t&&typeof t.length=="number"&&typeof t!="function";function ol(t){return F(t?.then)}function sl(t){return F(t[yi])}function al(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function ll(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ub(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cl=Ub();function ul(t){return F(t?.[cl])}function dl(t){return pv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ka(n.read());if(i)return yield ka(void 0);yield yield ka(r)}}finally{n.releaseLock()}})}function fl(t){return F(t?.getReader)}function ue(t){if(t instanceof G)return t;if(t!=null){if(sl(t))return $b(t);if(il(t))return Wb(t);if(ol(t))return zb(t);if(al(t))return ty(t);if(ul(t))return qb(t);if(fl(t))return Kb(t)}throw ll(t)}function $b(t){return new G(e=>{let n=t[yi]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Wb(t){return new G(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function zb(t){return new G(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ya)})}function qb(t){return new G(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ty(t){return new G(e=>{Xb(t,e).catch(n=>e.error(n))})}function Kb(t){return ty(dl(t))}function Xb(t,e){var n,r,i,o;return hv(this,void 0,void 0,function*(){try{for(n=gv(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ct(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function St(t,e=0){return B((n,r)=>{n.subscribe(L(r,i=>ct(r,t,()=>r.next(i),e),()=>ct(r,t,()=>r.complete(),e),i=>ct(r,t,()=>r.error(i),e)))})}function Ut(t,e=0){return B((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ny(t,e){return ue(t).pipe(Ut(e),St(e))}function ry(t,e){return ue(t).pipe(Ut(e),St(e))}function iy(t,e){return new G(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function oy(t,e){return new G(n=>{let r;return ct(n,e,()=>{r=t[cl](),ct(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function hl(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(n=>{ct(n,e,()=>{let r=t[Symbol.asyncIterator]();ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function sy(t,e){return hl(dl(t),e)}function ay(t,e){if(t!=null){if(sl(t))return ny(t,e);if(il(t))return iy(t,e);if(ol(t))return ry(t,e);if(al(t))return hl(t,e);if(ul(t))return oy(t,e);if(fl(t))return sy(t,e)}throw ll(t)}function le(t,e){return e?ay(t,e):ue(t)}function M(...t){let e=nn(t);return le(t,e)}function bn(t,e){let n=F(t)?t:()=>t,r=i=>i.error(n());return new G(e?i=>e.schedule(r,0,i):r)}function Nd(t){return!!t&&(t instanceof G||F(t.lift)&&F(t.subscribe))}var $t=gi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Pd(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Gt({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new $t)}});t.subscribe(o)})}function A(t,e){return B((n,r)=>{let i=0;n.subscribe(L(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Qb}=Array;function Yb(t,e){return Qb(e)?t(...e):t(e)}function pl(t){return A(e=>Yb(t,e))}var{isArray:Zb}=Array,{getPrototypeOf:Jb,prototype:eS,keys:tS}=Object;function gl(t){if(t.length===1){let e=t[0];if(Zb(e))return{args:e,keys:null};if(nS(e)){let n=tS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function nS(t){return t&&typeof t=="object"&&Jb(t)===eS}function ml(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function vl(...t){let e=nn(t),n=wi(t),{args:r,keys:i}=gl(t);if(r.length===0)return le([],e);let o=new G(rS(r,e,i?s=>ml(i,s):He));return n?o.pipe(pl(n)):o}function rS(t,e,n=He){return r=>{ly(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)ly(e,()=>{let c=le(t[l],e),u=!1;c.subscribe(L(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ly(t,e,n){t?ct(n,t,e):e()}function cy(t,e,n,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=y=>c<r?g(y):l.push(y),g=y=>{o&&e.next(y),c++;let v=!1;ue(n(y,u++)).subscribe(L(e,T=>{i?.(T),o?h(T):e.next(T)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<r;){let T=l.shift();s?ct(e,s,()=>g(T)):g(T)}f()}catch(T){e.error(T)}}))};return t.subscribe(L(e,h,()=>{d=!0,f()})),()=>{a?.()}}function xe(t,e,n=1/0){return F(e)?xe((r,i)=>A((o,s)=>e(r,o,i,s))(ue(t(r,i))),n):(typeof e=="number"&&(n=e),B((r,i)=>cy(r,i,t,n)))}function Yo(t=1/0){return xe(He,t)}function uy(){return Yo(1)}function bi(...t){return uy()(le(t,nn(t)))}function yl(t){return new G(e=>{ue(t()).subscribe(e)})}function xd(...t){let e=wi(t),{args:n,keys:r}=gl(t),i=new G(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;ue(n[u]).subscribe(L(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?ml(r,a):a),o.complete())}))}});return e?i.pipe(pl(e)):i}function Si(...t){let e=nn(t),n=ey(t,1/0),r=t;return r.length?r.length===1?ue(r[0]):Yo(n)(le(r,e)):Xe}function Qe(t,e){return B((n,r)=>{let i=0;n.subscribe(L(r,o=>t.call(e,o,i++)&&r.next(o)))})}function rn(t){return B((e,n)=>{let r=null,i=!1,o;r=e.subscribe(L(n,void 0,void 0,s=>{o=ue(t(s,rn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function dy(t,e,n,r,i){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(L(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Xn(t,e){return F(e)?xe(t,e,1):xe(t,1)}function Qn(t){return B((e,n)=>{let r=!1;e.subscribe(L(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Sn(t){return t<=0?()=>Xe:B((e,n)=>{let r=0;e.subscribe(L(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Rd(t){return A(()=>t)}function Od(t,e=He){return t=t??iS,B((n,r)=>{let i,o=!0;n.subscribe(L(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function iS(t,e){return t===e}function _l(t=oS){return B((e,n)=>{let r=!1;e.subscribe(L(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function oS(){return new $t}function on(t){return B((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ye(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qe((i,o)=>t(i,o,r)):He,Sn(1),n?Qn(e):_l(()=>new $t))}function Ii(t){return t<=0?()=>Xe:B((e,n)=>{let r=[];e.subscribe(L(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function kd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qe((i,o)=>t(i,o,r)):He,Ii(1),n?Qn(e):_l(()=>new $t))}function Mi(t,e){return B(dy(t,e,arguments.length>=2,!0))}function xr(t={}){let{connector:e=()=>new Ce,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},g=()=>{let y=s;h(),y?.unsubscribe()};return B((y,v)=>{c++,!d&&!u&&f();let T=l=l??e();v.add(()=>{c--,c===0&&!d&&!u&&(a=Fd(g,i))}),T.subscribe(v),!s&&c>0&&(s=new Gt({next:x=>T.next(x),error:x=>{d=!0,f(),a=Fd(h,n,x),T.error(x)},complete:()=>{u=!0,f(),a=Fd(h,r),T.complete()}}),ue(y).subscribe(s))})(o)}}function Fd(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Gt({next:()=>{r.unsubscribe(),t()}});return ue(e(...n)).subscribe(r)}function Cl(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,xr({connector:()=>new el(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ld(t){return B((e,n)=>{let r=!1,i=0;e.subscribe(L(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}function Vd(...t){let e=nn(t);return B((n,r)=>{(e?bi(t,n,e):bi(t,n)).subscribe(r)})}function ve(t,e){return B((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(L(r,l=>{i?.unsubscribe();let c=0,u=o++;ue(t(l,u)).subscribe(i=L(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function El(t,e){return F(e)?ve(()=>t,e):ve(()=>t)}function Bd(t){return B((e,n)=>{ue(t).subscribe(L(n,()=>n.complete(),Ar)),!n.closed&&e.subscribe(n)})}function Se(t,e,n){let r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?B((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(L(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):He}function jd(...t){let e=wi(t);return B((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let l=0;l<i;l++)ue(t[l]).subscribe(L(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(He))&&(s=null))},Ar));n.subscribe(L(r,l=>{if(a){let c=[l,...o];r.next(e?e(...c):c)}}))})}var sS="https://g.co/ng/security#xss",I=class extends Error{constructor(e,n){super(Zl(e,n)),this.code=e}};function Zl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Yy=Symbol("InputSignalNode#UNSET"),aS=W(D({},yd),{transformFn:void 0,applyValueToInputSignal(t,e){Ka(t,e)}});function Zy(t,e){let n=Object.create(aS);n.value=t,n.transformFn=e?.transform;function r(){if(Ga(n),n.value===Yy)throw new I(-950,!1);return n.value}return r[jt]=n,r}function cs(t){return{toString:t}.toString()}var Tl="__parameters__";function lS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Jy(t,e,n){return cs(()=>{let r=lS(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Tl)?l[Tl]:Object.defineProperty(l,Tl,{value:[]})[Tl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var tf=globalThis;function de(t){for(let e in t)if(t[e]===de)return e;throw Error("Could not find renamed property on target object.")}function cS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function fy(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var uS=de({__forward_ref__:de});function dn(t){return t.__forward_ref__=dn,t.toString=function(){return ut(this())},t}function Ze(t){return e0(t)?t():t}function e0(t){return typeof t=="function"&&t.hasOwnProperty(uS)&&t.__forward_ref__===dn}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jl(t){return hy(t,n0)||hy(t,r0)}function t0(t){return Jl(t)!==null}function hy(t,e){return t.hasOwnProperty(e)?t[e]:null}function dS(t){let e=t&&(t[n0]||t[r0]);return e||null}function py(t){return t&&(t.hasOwnProperty(gy)||t.hasOwnProperty(fS))?t[gy]:null}var n0=de({\u0275prov:de}),gy=de({\u0275inj:de}),r0=de({ngInjectableDef:de}),fS=de({ngInjectorDef:de}),w=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function i0(t){return t&&!!t.\u0275providers}var hS=de({\u0275cmp:de}),pS=de({\u0275dir:de}),gS=de({\u0275pipe:de}),mS=de({\u0275mod:de}),Pl=de({\u0275fac:de}),Zo=de({__NG_ELEMENT_ID__:de}),my=de({__NG_ENV_ID__:de});function o0(t){return typeof t=="string"?t:t==null?"":String(t)}function vS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():o0(t)}function yS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new I(-200,t)}function Qf(t,e){throw new I(-201,!1)}var z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(z||{}),nf;function s0(){return nf}function It(t){let e=nf;return nf=t,e}function a0(t,e,n){let r=Jl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&z.Optional)return null;if(e!==void 0)return e;Qf(t,"Injector")}var _S={},Jo=_S,rf="__NG_DI_FLAG__",xl="ngTempTokenPath",CS="ngTokenPath",ES=/\n/gm,TS="\u0275",vy="__source",xi;function DS(){return xi}function Yn(t){let e=xi;return xi=t,e}function wS(t,e=z.Default){if(xi===void 0)throw new I(-203,!1);return xi===null?a0(t,void 0,e):xi.get(t,e&z.Optional?null:void 0,e)}function E(t,e=z.Default){return(s0()||wS)(Ze(t),e)}function _(t,e=z.Default){return E(t,ec(e))}function ec(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function of(t){let e=[];for(let n=0;n<t.length;n++){let r=Ze(t[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,o=z.Default;for(let s=0;s<r.length;s++){let a=r[s],l=bS(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(E(i,o))}else e.push(E(r))}return e}function l0(t,e){return t[rf]=e,t.prototype[rf]=e,t}function bS(t){return t[rf]}function SS(t,e,n,r){let i=t[xl];throw e[vy]&&i.unshift(e[vy]),t.message=IS(`
`+t.message,i,n,r),t[CS]=i,t[xl]=null,t}function IS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==TS?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ut(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ES,`
  `)}`}var Gr=l0(Jy("Optional"),8);var tc=l0(Jy("SkipSelf"),4);function Oi(t,e){let n=t.hasOwnProperty(Pl);return n?t[Pl]:null}function Yf(t,e){t.forEach(n=>Array.isArray(n)?Yf(n,e):e(n))}function c0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Rl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function MS(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function AS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function NS(t,e,n){let r=us(t,e);return r>=0?t[r|1]=n:(r=~r,AS(t,r,e,n)),r}function Hd(t,e){let n=us(t,e);if(n>=0)return t[n|1]}function us(t,e){return PS(t,e,1)}function PS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ki={},Mt=[],Fi=new w(""),u0=new w("",-1),d0=new w(""),Ol=class{get(e,n=Jo){if(n===Jo){let r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}},f0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(f0||{}),ln=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ln||{}),er=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(er||{});function xS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function sf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];OS(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function RS(t){return t===3||t===4||t===6}function OS(t){return t.charCodeAt(0)===64}function es(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?yy(t,n,i,null,e[++r]):yy(t,n,i,null,null))}}return t}function yy(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var h0="ng-template";function kS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&xS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Zf(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Zf(t){return t.type===4&&t.value!==h0}function FS(t,e,n){let r=t.type===4&&!n?h0:t.value;return e===r}function LS(t,e,n){let r=4,i=t.attrs,o=i!==null?jS(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Wt(r)&&!Wt(l))return!1;if(s&&Wt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!FS(t,l,n)||l===""&&e.length===1){if(Wt(r))return!1;s=!0}}else if(r&8){if(i===null||!kS(t,i,l,n)){if(Wt(r))return!1;s=!0}}else{let c=e[++a],u=VS(l,i,Zf(t),n);if(u===-1){if(Wt(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Wt(r))return!1;s=!0}}}}return Wt(r)||s}function Wt(t){return(t&1)===0}function VS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return HS(e,t)}function p0(t,e,n=!1){for(let r=0;r<e.length;r++)if(LS(t,e[r],n))return!0;return!1}function BS(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function jS(t){for(let e=0;e<t.length;e++){let n=t[e];if(RS(n))return e}return t.length}function HS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function GS(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function _y(t,e){return t?":not("+e.trim()+")":e}function US(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Wt(s)&&(e+=_y(o,i),i=""),r=s,o=o||!Wt(r);n++}return i!==""&&(e+=_y(o,i)),e}function $S(t){return t.map(US).join(",")}function WS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Wt(i))break;i=o}r++}return{attrs:e,classes:n}}function Nt(t){return cs(()=>{let e=_0(t),n=W(D({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===f0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ln.Emulated,styles:t.styles||Mt,_:null,schemas:t.schemas||null,tView:null,id:""});C0(n);let r=t.dependencies;return n.directiveDefs=Ey(r,!1),n.pipeDefs=Ey(r,!0),n.id=KS(n),n})}function zS(t){return kr(t)||g0(t)}function qS(t){return t!==null}function nt(t){return cs(()=>({type:t.type,bootstrap:t.bootstrap||Mt,declarations:t.declarations||Mt,imports:t.imports||Mt,exports:t.exports||Mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Cy(t,e){if(t==null)return ki;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=er.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==er.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ft(t){return cs(()=>{let e=_0(t);return C0(e),e})}function kr(t){return t[hS]||null}function g0(t){return t[pS]||null}function m0(t){return t[gS]||null}function v0(t){let e=kr(t)||g0(t)||m0(t);return e!==null?e.standalone:!1}function y0(t,e){let n=t[mS]||null;if(!n&&e===!0)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function _0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ki,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cy(t.inputs,e),outputs:Cy(t.outputs),debugInfo:null}}function C0(t){t.features?.forEach(e=>e(t))}function Ey(t,e){if(!t)return null;let n=e?m0:zS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(qS)}function KS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ur(t){return{\u0275providers:t}}function Jf(...t){return{\u0275providers:E0(!0,t),\u0275fromNgModule:!0}}function E0(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Yf(e,s=>{let a=s;af(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&T0(i,o),n}function T0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];eh(i,o=>{e(o,r)})}}function af(t,e,n,r){if(t=Ze(t),!t)return!1;let i=null,o=py(t),s=!o&&kr(t);if(!o&&!s){let l=t.ngModule;if(o=py(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)af(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Yf(o.imports,u=>{af(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&T0(c,e)}if(!a){let c=Oi(i)||(()=>new i);e({provide:i,useFactory:c,deps:Mt},i),e({provide:d0,useValue:i,multi:!0},i),e({provide:Fi,useValue:()=>E(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;eh(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function eh(t,e){for(let n of t)i0(n)&&(n=n.\u0275providers),Array.isArray(n)?eh(n,e):e(n)}var XS=de({provide:String,useValue:de});function D0(t){return t!==null&&typeof t=="object"&&XS in t}function QS(t){return!!(t&&t.useExisting)}function YS(t){return!!(t&&t.useFactory)}function Li(t){return typeof t=="function"}function ZS(t){return!!t.useClass}var nc=new w(""),bl={},JS={},Gd;function th(){return Gd===void 0&&(Gd=new Ol),Gd}var dt=class{},ts=class extends dt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cf(e,s=>this.processProvider(s)),this.records.set(u0,Ai(void 0,this)),i.has("environment")&&this.records.set(dt,Ai(void 0,this));let o=this.records.get(nc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(d0,Mt,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Y(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Yn(this),r=It(void 0),i;try{return e()}finally{Yn(n),It(r)}}get(e,n=Jo,r=z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(my))return e[my](this);r=ec(r);let i,o=Yn(this),s=It(void 0);try{if(!(r&z.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=iI(e)&&Jl(e);c&&this.injectableDefInScope(c)?l=Ai(lf(e),bl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&z.Self?th():this.parent;return n=r&z.Optional&&n===Jo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[xl]=a[xl]||[]).unshift(ut(e)),o)throw a;return SS(a,e,"R3InjectorError",this.source)}else throw a}finally{It(s),Yn(o)}}resolveInjectorInitializers(){let e=Y(null),n=Yn(this),r=It(void 0),i;try{let o=this.get(Fi,Mt,z.Self);for(let s of o)s()}finally{Yn(n),It(r),Y(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){e=Ze(e);let n=Li(e)?e:Ze(e&&e.provide),r=tI(e);if(!Li(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ai(void 0,bl,!0),i.factory=()=>of(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Y(null);try{return n.value===bl&&(n.value=JS,n.value=n.factory()),typeof n.value=="object"&&n.value&&rI(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Y(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ze(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function lf(t){let e=Jl(t),n=e!==null?e.factory:Oi(t);if(n!==null)return n;if(t instanceof w)throw new I(204,!1);if(t instanceof Function)return eI(t);throw new I(204,!1)}function eI(t){if(t.length>0)throw new I(204,!1);let n=dS(t);return n!==null?()=>n.factory(t):()=>new t}function tI(t){if(D0(t))return Ai(void 0,t.useValue);{let e=w0(t);return Ai(e,bl)}}function w0(t,e,n){let r;if(Li(t)){let i=Ze(t);return Oi(i)||lf(i)}else if(D0(t))r=()=>Ze(t.useValue);else if(YS(t))r=()=>t.useFactory(...of(t.deps||[]));else if(QS(t))r=()=>E(Ze(t.useExisting));else{let i=Ze(t&&(t.useClass||t.provide));if(nI(t))r=()=>new i(...of(t.deps));else return Oi(i)||lf(i)}return r}function Ai(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function nI(t){return!!t.deps}function rI(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function iI(t){return typeof t=="function"||typeof t=="object"&&t instanceof w}function cf(t,e){for(let n of t)Array.isArray(n)?cf(n,e):n&&i0(n)?cf(n.\u0275providers,e):e(n)}function qt(t,e){t instanceof ts&&t.assertNotDestroyed();let n,r=Yn(t),i=It(void 0);try{return e()}finally{Yn(r),It(i)}}function b0(){return s0()!==void 0||DS()!=null}function oI(t){if(!b0())throw new I(-203,!1)}function sI(t){return typeof t=="function"}var Pn=0,U=1,O=2,et=3,zt=4,ht=5,Vi=6,kl=7,We=8,Bi=9,In=10,Re=11,ns=12,Ty=13,Qi=14,mt=15,ji=16,Ni=17,Hi=18,rc=19,S0=20,Zn=21,Sl=22,At=23,vt=25,I0=1;var Fr=7,Fl=8,Ll=9,Je=10,Vl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Vl||{});function Jn(t){return Array.isArray(t)&&typeof t[I0]=="object"}function xn(t){return Array.isArray(t)&&t[I0]===!0}function M0(t){return(t.flags&4)!==0}function ic(t){return t.componentOffset>-1}function nh(t){return(t.flags&1)===1}function tr(t){return!!t.template}function uf(t){return(t[O]&512)!==0}var df=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function A0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function rr(){return N0}function N0(t){return t.type.prototype.ngOnChanges&&(t.setInput=lI),aI}rr.ngInherit=!0;function aI(){let t=x0(this),e=t?.current;if(e){let n=t.previous;if(n===ki)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function lI(t,e,n,r,i){let o=this.declaredInputs[r],s=x0(t)||cI(t,{previous:ki,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new df(c&&c.currentValue,n,l===ki),A0(t,e,i,n)}var P0="__ngSimpleChanges__";function x0(t){return t[P0]||null}function cI(t,e){return t[P0]=e}var Dy=null;var sn=function(t,e,n){Dy?.(t,e,n)},uI="svg",dI="math";function cn(t){for(;Array.isArray(t);)t=t[Pn];return t}function R0(t,e){return cn(e[t])}function Kt(t,e){return cn(e[t.index])}function rh(t,e){return t.data[e]}function ir(t,e){let n=e[t];return Jn(n)?n:n[Pn]}function ih(t){return(t[O]&128)===128}function fI(t){return xn(t[et])}function Gi(t,e){return e==null?null:t[e]}function O0(t){t[Ni]=0}function k0(t){t[O]&1024||(t[O]|=1024,ih(t)&&oc(t))}function hI(t,e){for(;t>0;)e=e[Qi],t--;return e}function rs(t){return!!(t[O]&9216||t[At]?.dirty)}function ff(t){t[In].changeDetectionScheduler?.notify(7),t[O]&64&&(t[O]|=1024),rs(t)&&oc(t)}function oc(t){t[In].changeDetectionScheduler?.notify(0);let e=Lr(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!ih(e)));)e=Lr(e)}function F0(t,e){if((t[O]&256)===256)throw new I(911,!1);t[Zn]===null&&(t[Zn]=[]),t[Zn].push(e)}function pI(t,e){if(t[Zn]===null)return;let n=t[Zn].indexOf(e);n!==-1&&t[Zn].splice(n,1)}function Lr(t){let e=t[et];return xn(e)?e[et]:e}var ee={lFrame:q0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var L0=!1;function gI(){return ee.lFrame.elementDepthCount}function mI(){ee.lFrame.elementDepthCount++}function vI(){ee.lFrame.elementDepthCount--}function V0(){return ee.bindingsEnabled}function B0(){return ee.skipHydrationRootTNode!==null}function yI(t){return ee.skipHydrationRootTNode===t}function _I(){ee.skipHydrationRootTNode=null}function ce(){return ee.lFrame.lView}function pt(){return ee.lFrame.tView}function sc(t){return ee.lFrame.contextLView=t,t[We]}function ac(t){return ee.lFrame.contextLView=null,t}function yt(){let t=j0();for(;t!==null&&t.type===64;)t=t.parent;return t}function j0(){return ee.lFrame.currentTNode}function CI(){let t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ds(t,e){let n=ee.lFrame;n.currentTNode=t,n.isParent=e}function H0(){return ee.lFrame.isParent}function G0(){ee.lFrame.isParent=!1}function U0(){return L0}function wy(t){L0=t}function EI(t){return ee.lFrame.bindingIndex=t}function fs(){return ee.lFrame.bindingIndex++}function TI(t){let e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function DI(){return ee.lFrame.inI18n}function wI(t,e){let n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,hf(e)}function bI(){return ee.lFrame.currentDirectiveIndex}function hf(t){ee.lFrame.currentDirectiveIndex=t}function SI(t){let e=ee.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $0(t){ee.lFrame.currentQueryIndex=t}function II(t){let e=t[U];return e.type===2?e.declTNode:e.type===1?t[ht]:null}function W0(t,e,n){if(n&z.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&z.Host);)if(i=II(o),i===null||(o=o[Qi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ee.lFrame=z0();return r.currentTNode=e,r.lView=t,!0}function oh(t){let e=z0(),n=t[U];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function z0(){let t=ee.lFrame,e=t===null?null:t.child;return e===null?q0(t):e}function q0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function K0(){let t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var X0=K0;function sh(){let t=K0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function MI(t){return(ee.lFrame.contextLView=hI(t,ee.lFrame.contextLView))[We]}function $r(){return ee.lFrame.selectedIndex}function Vr(t){ee.lFrame.selectedIndex=t}function Q0(){let t=ee.lFrame;return rh(t.tView,t.selectedIndex)}function AI(){return ee.lFrame.currentNamespace}var Y0=!0;function ah(){return Y0}function lh(t){Y0=t}function NI(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=N0(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ch(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Il(t,e,n){Z0(t,e,3,n)}function Ml(t,e,n,r){(t[O]&3)===n&&Z0(t,e,n,r)}function Ud(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function Z0(t,e,n,r){let i=r!==void 0?t[Ni]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Ni]+=65536),(a<o||o==-1)&&(PI(t,n,e,l),t[Ni]=(t[Ni]&4294901760)+l+2),l++}function by(t,e){sn(4,t,e);let n=Y(null);try{e.call(t)}finally{Y(n),sn(5,t,e)}}function PI(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[O]>>14<t[Ni]>>16&&(t[O]&3)===e&&(t[O]+=16384,by(a,o)):by(a,o)}var Ri=-1,Br=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function xI(t){return t instanceof Br}function RI(t){return(t.flags&8)!==0}function OI(t){return(t.flags&16)!==0}var $d={},pf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ec(r);let i=this.injector.get(e,$d,r);return i!==$d||n===$d?i:this.parentInjector.get(e,n,r)}};function J0(t){return t!==Ri}function Bl(t){return t&32767}function kI(t){return t>>16}function jl(t,e){let n=kI(t),r=e;for(;n>0;)r=r[Qi],n--;return r}var gf=!0;function Sy(t){let e=gf;return gf=t,e}var FI=256,e_=FI-1,t_=5,LI=0,an={};function VI(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zo)&&(r=n[Zo]),r==null&&(r=n[Zo]=LI++);let i=r&e_,o=1<<i;e.data[t+(i>>t_)]|=o}function Hl(t,e){let n=n_(t,e);if(n!==-1)return n;let r=e[U];r.firstCreatePass&&(t.injectorIndex=e.length,Wd(r.data,t),Wd(e,null),Wd(r.blueprint,null));let i=uh(t,e),o=t.injectorIndex;if(J0(i)){let s=Bl(i),a=jl(i,e),l=a[U].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Wd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function n_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function uh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=a_(i),r===null)return Ri;if(n++,i=i[Qi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ri}function mf(t,e,n){VI(t,e,n)}function r_(t,e,n){if(n&z.Optional||t!==void 0)return t;Qf(e,"NodeInjector")}function i_(t,e,n,r){if(n&z.Optional&&r===void 0&&(r=null),!(n&(z.Self|z.Host))){let i=t[Bi],o=It(void 0);try{return i?i.get(e,r,n&z.Optional):a0(e,r,n&z.Optional)}finally{It(o)}}return r_(r,e,n)}function o_(t,e,n,r=z.Default,i){if(t!==null){if(e[O]&2048&&!(r&z.Self)){let s=UI(t,e,n,r,an);if(s!==an)return s}let o=s_(t,e,n,r,an);if(o!==an)return o}return i_(e,n,r,i)}function s_(t,e,n,r,i){let o=HI(n);if(typeof o=="function"){if(!W0(e,t,r))return r&z.Host?r_(i,n,r):i_(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&z.Optional))Qf(n);else return s}finally{X0()}}else if(typeof o=="number"){let s=null,a=n_(t,e),l=Ri,c=r&z.Host?e[mt][ht]:null;for((a===-1||r&z.SkipSelf)&&(l=a===-1?uh(t,e):e[a+8],l===Ri||!My(r,!1)?a=-1:(s=e[U],a=Bl(l),e=jl(l,e)));a!==-1;){let u=e[U];if(Iy(o,a,u.data)){let d=BI(a,e,n,s,r,c);if(d!==an)return d}l=e[a+8],l!==Ri&&My(r,e[U].data[a+8]===c)&&Iy(o,a,e)?(s=u,a=Bl(l),e=jl(l,e)):a=-1}}return i}function BI(t,e,n,r,i,o){let s=e[U],a=s.data[t+8],l=r==null?ic(a)&&gf:r!=s&&(a.type&3)!==0,c=i&z.Host&&o===a,u=jI(a,s,n,l,c);return u!==null?Ui(e,s,u,a):an}function jI(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let g=s[h];if(h<l&&n===g||h>=l&&g.type===n)return h}if(i){let h=s[l];if(h&&tr(h)&&h.type===n)return l}return null}function Ui(t,e,n,r){let i=t[n],o=e.data;if(xI(i)){let s=i;s.resolving&&yS(vS(o[n]));let a=Sy(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?It(s.injectImpl):null,u=W0(t,r,z.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&NI(n,o[n],e)}finally{c!==null&&It(c),Sy(a),s.resolving=!1,X0()}}return i}function HI(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Zo)?t[Zo]:void 0;return typeof e=="number"?e>=0?e&e_:GI:e}function Iy(t,e,n){let r=1<<t;return!!(n[e+(t>>t_)]&r)}function My(t,e){return!(t&z.Self)&&!(t&z.Host&&e)}var Or=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return o_(this._tNode,this._lView,e,ec(r),n)}};function GI(){return new Or(yt(),ce())}function Yi(t){return cs(()=>{let e=t.prototype.constructor,n=e[Pl]||vf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Pl]||vf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function vf(t){return e0(t)?()=>{let e=vf(Ze(t));return e&&e()}:Oi(t)}function UI(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[O]&2048&&!(s[O]&512);){let a=s_(o,s,n,r|z.Self,an);if(a!==an)return a;let l=o.parent;if(!l){let c=s[S0];if(c){let u=c.get(n,an,r);if(u!==an)return u}l=a_(s),s=s[Qi]}o=l}return i}function a_(t){let e=t[U],n=e.type;return n===2?e.declTNode:n===1?t[ht]:null}function Ay(t,e=null,n=null,r){let i=l_(t,e,n,r);return i.resolveInjectorInitializers(),i}function l_(t,e=null,n=null,r,i=new Set){let o=[n||Mt,Jf(t)];return r=r||(typeof t=="object"?void 0:ut(t)),new ts(o,e||th(),r||null,i)}var Rr=class Rr{static create(e,n){if(Array.isArray(e))return Ay({name:""},n,e,"");{let r=e.name??"";return Ay({name:r},e.parent,e.providers,r)}}};Rr.THROW_IF_NOT_FOUND=Jo,Rr.NULL=new Ol,Rr.\u0275prov=b({token:Rr,providedIn:"any",factory:()=>E(u0)}),Rr.__NG_ELEMENT_ID__=-1;var Mn=Rr;var $I=new w("");$I.__NG_ELEMENT_ID__=t=>{let e=yt();if(e===null)throw new I(204,!1);if(e.type&2)return e.value;if(t&z.Optional)return null;throw new I(204,!1)};var WI="ngOriginalError";function zd(t){return t[WI]}var un=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zd(e);for(;n&&zd(n);)n=zd(n);return n||null}},c_=new w("",{providedIn:"root",factory:()=>_(un).handleError.bind(void 0)}),dh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zI,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),yf=class extends dh{constructor(e){super(),this._lView=e}onDestroy(e){return F0(this._lView,e),()=>pI(this._lView,e)}};function zI(){return new yf(ce())}function Ny(t,e){return Zy(t,e)}function qI(t){return Zy(Yy,t)}var fn=(Ny.required=qI,Ny);function KI(){return fh(yt(),ce())}function fh(t,e){return new Rn(Kt(t,e))}var Rn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=KI;let t=e;return t})();var hn=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ge(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var _f=class extends Ce{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,b0()&&(this.destroyRef=_(dh,{optional:!0})??void 0,this.pendingTasks=_(hn,{optional:!0})??void 0)}emit(e){let n=Y(null);try{super.next(e)}finally{Y(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof be&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Me=_f;function u_(t){return(t.flags&128)===128}var d_=new Map,XI=0;function QI(){return XI++}function YI(t){d_.set(t[rc],t)}function ZI(t){d_.delete(t[rc])}var Py="__ngContext__";function jr(t,e){Jn(e)?(t[Py]=e[rc],YI(e)):t[Py]=e}function f_(t){return p_(t[ns])}function h_(t){return p_(t[zt])}function p_(t){for(;t!==null&&!xn(t);)t=t[zt];return t}var Cf;function g_(t){Cf=t}function JI(){if(Cf!==void 0)return Cf;if(typeof document<"u")return document;throw new I(210,!1)}var hh=new w("",{providedIn:"root",factory:()=>eM}),eM="ng",ph=new w(""),ze=new w("",{providedIn:"platform",factory:()=>"unknown"});var gh=new w("",{providedIn:"root",factory:()=>JI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tM="h",nM="b";var rM=()=>null;function mh(t,e,n=!1){return rM(t,e,n)}var m_=!1,iM=new w("",{providedIn:"root",factory:()=>m_});var Ef=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sS})`}};function vh(t){return t instanceof Ef?t.changingThisBreaksApplicationSecurity:t}function v_(t){return t instanceof Function?t():t}var An=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(An||{}),oM;function yh(t,e){return oM(t,e)}function Pi(t,e,n,r,i){if(r!=null){let o,s=!1;xn(r)?o=r:Jn(r)&&(s=!0,r=r[Pn]);let a=cn(r);t===0&&n!==null?i==null?T_(e,n,a):Gl(e,n,a,i||null,!0):t===1&&n!==null?Gl(e,n,a,i||null,!0):t===2?_M(e,a,s):t===3&&e.destroyNode(a),o!=null&&EM(e,t,o,n,i)}}function sM(t,e){return t.createText(e)}function aM(t,e,n){t.setValue(e,n)}function y_(t,e,n){return t.createElement(e,n)}function lM(t,e){__(t,e),e[Pn]=null,e[ht]=null}function cM(t,e,n,r,i,o){r[Pn]=i,r[ht]=e,cc(t,r,n,1,i,o)}function __(t,e){e[In].changeDetectionScheduler?.notify(8),cc(t,e,e[Re],2,null,null)}function uM(t){let e=t[ns];if(!e)return qd(t[U],t);for(;e;){let n=null;if(Jn(e))n=e[ns];else{let r=e[Je];r&&(n=r)}if(!n){for(;e&&!e[zt]&&e!==t;)Jn(e)&&qd(e[U],e),e=e[et];e===null&&(e=t),Jn(e)&&qd(e[U],e),n=e&&e[zt]}e=n}}function dM(t,e,n,r){let i=Je+r,o=n.length;r>0&&(n[i-1][zt]=e),r<o-Je?(e[zt]=n[i],c0(n,Je+r,e)):(n.push(e),e[zt]=null),e[et]=n;let s=e[ji];s!==null&&n!==s&&C_(s,e);let a=e[Hi];a!==null&&a.insertView(t),ff(e),e[O]|=128}function C_(t,e){let n=t[Ll],r=e[et];if(Jn(r))t[O]|=Vl.HasTransplantedViews;else{let i=r[et][mt];e[mt]!==i&&(t[O]|=Vl.HasTransplantedViews)}n===null?t[Ll]=[e]:n.push(e)}function _h(t,e){let n=t[Ll],r=n.indexOf(e);n.splice(r,1)}function is(t,e){if(t.length<=Je)return;let n=Je+e,r=t[n];if(r){let i=r[ji];i!==null&&i!==t&&_h(i,r),e>0&&(t[n-1][zt]=r[zt]);let o=Rl(t,Je+e);lM(r[U],r);let s=o[Hi];s!==null&&s.detachView(o[U]),r[et]=null,r[zt]=null,r[O]&=-129}return r}function lc(t,e){if(!(e[O]&256)){let n=e[Re];n.destroyNode&&cc(t,e,n,3,null,null),uM(e)}}function qd(t,e){if(e[O]&256)return;let n=Y(null);try{e[O]&=-129,e[O]|=256,e[At]&&Wa(e[At]),hM(t,e),fM(t,e),e[U].type===1&&e[Re].destroy();let r=e[ji];if(r!==null&&xn(e[et])){r!==e[et]&&_h(r,e);let i=e[Hi];i!==null&&i.detachView(t)}ZI(e)}finally{Y(n)}}function fM(t,e){let n=t.cleanup,r=e[kl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[kl]=null);let i=e[Zn];if(i!==null){e[Zn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function hM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Br)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];sn(4,a,l);try{l.call(a)}finally{sn(5,a,l)}}else{sn(4,i,o);try{o.call(i)}finally{sn(5,i,o)}}}}}function E_(t,e,n){return pM(t,e.parent,n)}function pM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Pn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===ln.None||o===ln.Emulated)return null}return Kt(r,n)}}function Gl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function T_(t,e,n){t.appendChild(e,n)}function xy(t,e,n,r,i){r!==null?Gl(t,e,n,r,i):T_(t,e,n)}function gM(t,e,n,r){t.removeChild(e,n,r)}function Ch(t,e){return t.parentNode(e)}function mM(t,e){return t.nextSibling(e)}function D_(t,e,n){return yM(t,e,n)}function vM(t,e,n){return t.type&40?Kt(t,n):null}var yM=vM,Ry;function Eh(t,e,n,r){let i=E_(t,r,e),o=e[Re],s=r.parent||e[ht],a=D_(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)xy(o,i,n[l],a,!1);else xy(o,i,n,a,!1);Ry!==void 0&&Ry(o,r,e,n,i)}function Al(t,e){if(e!==null){let n=e.type;if(n&3)return Kt(e,t);if(n&4)return Tf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Al(t,r);{let i=t[e.index];return xn(i)?Tf(-1,i):cn(i)}}else{if(n&32)return yh(e,t)()||cn(t[e.index]);{let r=w_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Lr(t[mt]);return Al(i,r)}else return Al(t,e.next)}}}return null}function w_(t,e){if(e!==null){let r=t[mt][ht],i=e.projection;return r.projection[i]}return null}function Tf(t,e){let n=Je+t+1;if(n<e.length){let r=e[n],i=r[U].firstChild;if(i!==null)return Al(r,i)}return e[Fr]}function _M(t,e,n){let r=Ch(t,e);r&&gM(t,r,e,n)}function Th(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&jr(cn(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Th(t,e,n.child,r,i,o,!1),Pi(e,t,i,a,o);else if(l&32){let c=yh(n,r),u;for(;u=c();)Pi(e,t,i,u,o);Pi(e,t,i,a,o)}else l&16?b_(t,e,r,n,i,o):Pi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function cc(t,e,n,r,i,o){Th(n,r,t.firstChild,e,i,o,!1)}function CM(t,e,n){let r=e[Re],i=E_(t,n,e),o=n.parent||e[ht],s=D_(o,n,e);b_(r,0,e,n,i,s)}function b_(t,e,n,r,i,o){let s=n[mt],l=s[ht].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Pi(e,t,i,u,o)}else{let c=l,u=s[et];u_(r)&&(c.flags|=128),Th(t,e,c,u,i,o,!0)}}function EM(t,e,n,r,i){let o=n[Fr],s=cn(n);o!==s&&Pi(e,t,r,o,i);for(let a=Je;a<n.length;a++){let l=n[a];cc(l[U],l,t,e,r,o)}}function TM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:An.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=An.Important),t.setStyle(n,r,i,o))}}function DM(t,e,n){t.setAttribute(e,"style",n)}function S_(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function I_(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&sf(t,e,r),i!==null&&S_(t,e,i),o!==null&&DM(t,e,o)}var Wr={};function ke(t=1){M_(pt(),ce(),$r()+t,!1)}function M_(t,e,n,r){if(!r)if((e[O]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Il(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ml(e,o,0,n)}Vr(n)}function te(t,e=z.Default){let n=ce();if(n===null)return E(t,e);let r=yt();return o_(r,n,Ze(t),e)}function A_(t,e,n,r,i,o){let s=Y(null);try{let a=null;i&er.SignalBased&&(a=e[r][jt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&er.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):A0(e,a,r,o)}finally{Y(s)}}function wM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Vr(~i);else{let o=i,s=n[++r],a=n[++r];wI(s,o);let l=e[o];a(2,l)}}}finally{Vr(-1)}}function uc(t,e,n,r,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[Pn]=i,d[O]=r|4|128|8|64,(c!==null||t&&t[O]&2048)&&(d[O]|=2048),O0(d),d[et]=d[Qi]=t,d[We]=n,d[In]=s||t&&t[In],d[Re]=a||t&&t[Re],d[Bi]=l||t&&t[Bi]||null,d[ht]=o,d[rc]=QI(),d[Vi]=u,d[S0]=c,d[mt]=e.type==2?t[mt]:d,d}function hs(t,e,n,r,i){let o=t.data[e];if(o===null)o=bM(t,e,n,r,i),DI()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=CI();o.injectorIndex=s===null?-1:s.injectorIndex}return ds(o,!0),o}function bM(t,e,n,r,i){let o=j0(),s=H0(),a=s?o:o&&o.parent,l=t.data[e]=NM(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function N_(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function P_(t,e,n,r,i){let o=$r(),s=r&2;try{Vr(-1),s&&e.length>vt&&M_(t,e,vt,!1),sn(s?2:0,i),n(r,i)}finally{Vr(o),sn(s?3:1,i)}}function x_(t,e,n){if(M0(e)){let r=Y(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Y(r)}}}function R_(t,e,n){V0()&&(FM(t,e,n,Kt(n,e)),(n.flags&64)===64&&B_(t,e,n))}function O_(t,e,n=Kt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function k_(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Dh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Dh(t,e,n,r,i,o,s,a,l,c,u){let d=vt+r,f=d+i,h=SM(d,f),g=typeof c=="function"?c():c;return h[U]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function SM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Wr);return n}function IM(t,e,n,r){let o=r.get(iM,m_)||n===ln.ShadowDom,s=t.selectRootElement(e,o);return MM(s),s}function MM(t){AM(t)}var AM=()=>null;function NM(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return B0()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Oy(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=er.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?ky(r,n,c,a,l):ky(r,n,c,a)}return r}function ky(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function PM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,g=f?f.outputs:null;l=Oy(0,d.inputs,u,l,h),c=Oy(1,d.outputs,u,c,g);let y=l!==null&&s!==null&&!Zf(e)?WM(l,u,s):null;a.push(y)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function xM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function F_(t,e,n,r,i,o,s,a){let l=Kt(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(wh(t,n,u,r,i),ic(e)&&RM(n,e.index)):e.type&3?(r=xM(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function RM(t,e){let n=ir(e,t);n[O]&16||(n[O]|=64)}function L_(t,e,n,r){if(V0()){let i=r===null?null:{"":-1},o=VM(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&V_(t,e,n,s,i,a),i&&BM(n,r,i)}n.mergedAttrs=es(n.mergedAttrs,n.attrs)}function V_(t,e,n,r,i,o){for(let c=0;c<r.length;c++)mf(Hl(n,e),t,r[c].type);HM(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=N_(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=es(n.mergedAttrs,u.hostAttrs),GM(t,n,e,l,u),jM(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}PM(t,n,o)}function OM(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;kM(s)!=a&&s.push(a),s.push(n,r,o)}}function kM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function FM(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ic(n)&&UM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Hl(n,e),jr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],c=Ui(e,t,a,n);if(jr(c,e),s!==null&&$M(e,a-i,c,l,n,s),tr(l)){let u=ir(n.index,e);u[We]=Ui(e,t,a,n)}}}function B_(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=bI();try{Vr(o);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];hf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&LM(l,c)}}finally{Vr(-1),hf(s)}}function LM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function VM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(p0(e,s.selectors,!1))if(r||(r=[]),tr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Df(t,e,l)}else r.unshift(s),Df(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Df(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function BM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new I(-301,!1);r.push(e[i],o)}}}function jM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;tr(e)&&(n[""]=t)}}function HM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function GM(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Oi(i.type,!0)),s=new Br(o,tr(i),te);t.blueprint[r]=s,n[r]=s,OM(t,e,r,N_(t,n,i.hostVars,Wr),i)}function UM(t,e,n){let r=Kt(e,t),i=k_(n),o=t[In].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=dc(t,uc(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function $M(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];A_(r,n,l,c,u,d)}}function WM(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function j_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function H_(t,e){let n=t.contentQueries;if(n!==null){let r=Y(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];$0(o),a.contentQueries(2,e[s],s)}}}finally{Y(r)}}}function dc(t,e){return t[ns]?t[Ty][zt]=e:t[ns]=e,t[Ty]=e,e}function wf(t,e,n){$0(0);let r=Y(null);try{e(t,n)}finally{Y(r)}}function zM(t){return t[kl]??=[]}function qM(t){return t.cleanup??=[]}function G_(t,e){let n=t[Bi],r=n?n.get(un,null):null;r&&r.handleError(e)}function wh(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=e[s],u=t.data[s];A_(u,c,r,a,l,i)}}function KM(t,e,n){let r=R0(e,t);aM(t[Re],r,n)}function XM(t,e){let n=ir(e,t),r=n[U];QM(r,n);let i=n[Pn];i!==null&&n[Vi]===null&&(n[Vi]=mh(i,n[Bi])),bh(r,n,n[We])}function QM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function bh(t,e,n){oh(e);try{let r=t.viewQuery;r!==null&&wf(1,r,n);let i=t.template;i!==null&&P_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Hi]?.finishViewCreation(t),t.staticContentQueries&&H_(t,e),t.staticViewQueries&&wf(2,t.viewQuery,n);let o=t.components;o!==null&&YM(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,sh()}}function YM(t,e){for(let n=0;n<e.length;n++)XM(t,e[n])}function fc(t,e,n,r){let i=Y(null);try{let o=e.tView,a=t[O]&4096?4096:16,l=uc(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[ji]=c;let u=t[Hi];return u!==null&&(l[Hi]=u.createEmbeddedView(o)),bh(o,l,n),l}finally{Y(i)}}function U_(t,e){let n=Je+e;if(n<t.length)return t[n]}function $i(t,e){return!e||e.firstChild===null||u_(t)}function ps(t,e,n,r=!0){let i=e[U];if(dM(i,e,t,n),r){let s=Tf(n,t),a=e[Re],l=Ch(a,t[Fr]);l!==null&&cM(i,t[ht],a,e,l,s)}let o=e[Vi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $_(t,e){let n=is(t,e);return n!==void 0&&lc(n[U],n),n}function Ul(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(cn(o)),xn(o)&&ZM(o,r);let s=n.type;if(s&8)Ul(t,e,n.child,r);else if(s&32){let a=yh(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=w_(e,n);if(Array.isArray(a))r.push(...a);else{let l=Lr(e[mt]);Ul(l[U],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ZM(t,e){for(let n=Je;n<t.length;n++){let r=t[n],i=r[U].firstChild;i!==null&&Ul(r[U],r,i,e)}t[Fr]!==t[Pn]&&e.push(t[Fr])}var W_=[];function JM(t){return t[At]??eA(t)}function eA(t){let e=W_.pop()??Object.create(nA);return e.lView=t,e}function tA(t){t.lView[At]!==t&&(t.lView=null,W_.push(t))}var nA=W(D({},pi),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{oc(t.lView)},consumerOnSignalRead(){this.lView[At]=this}});function rA(t){let e=t[At]??Object.create(iA);return e.lView=t,e}var iA=W(D({},pi),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Lr(t.lView);for(;e&&!z_(e[U]);)e=Lr(e);e&&k0(e)},consumerOnSignalRead(){this.lView[At]=this}});function z_(t){return t.type!==2}var oA=100;function q_(t,e=!0,n=0){let r=t[In],i=r.rendererFactory,o=!1;o||i.begin?.();try{sA(t,n)}catch(s){throw e&&G_(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function sA(t,e){let n=U0();try{wy(!0),bf(t,e);let r=0;for(;rs(t);){if(r===oA)throw new I(103,!1);r++,bf(t,1)}}finally{wy(n)}}function aA(t,e,n,r){let i=e[O];if((i&256)===256)return;let o=!1,s=!1;!o&&e[In].inlineEffectRunner?.flush(),oh(e);let a=!0,l=null,c=null;o||(z_(t)?(c=JM(e),l=qo(c)):Pv()===null?(a=!1,c=rA(e),l=qo(c)):e[At]&&(Wa(e[At]),e[At]=null));try{O0(e),EI(t.bindingStartIndex),n!==null&&P_(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&Il(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Ml(e,h,0,null),Ud(e,0)}if(s||lA(e),K_(e,0),t.contentQueries!==null&&H_(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&Il(e,h)}else{let h=t.contentHooks;h!==null&&Ml(e,h,1),Ud(e,1)}wM(t,e);let d=t.components;d!==null&&Q_(e,d,0);let f=t.viewQuery;if(f!==null&&wf(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&Il(e,h)}else{let h=t.viewHooks;h!==null&&Ml(e,h,2),Ud(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Sl]){for(let h of e[Sl])h();e[Sl]=null}o||(e[O]&=-73)}catch(u){throw o||oc(e),u}finally{c!==null&&(Ua(c,l),a&&tA(c)),sh()}}function K_(t,e){for(let n=f_(t);n!==null;n=h_(n))for(let r=Je;r<n.length;r++){let i=n[r];X_(i,e)}}function lA(t){for(let e=f_(t);e!==null;e=h_(e)){if(!(e[O]&Vl.HasTransplantedViews))continue;let n=e[Ll];for(let r=0;r<n.length;r++){let i=n[r];k0(i)}}}function cA(t,e,n){let r=ir(e,t);X_(r,n)}function X_(t,e){ih(t)&&bf(t,e)}function bf(t,e){let r=t[U],i=t[O],o=t[At],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&$a(o)),s||=!1,o&&(o.dirty=!1),t[O]&=-9217,s)aA(r,t,r.template,t[We]);else if(i&8192){K_(t,1);let a=r.components;a!==null&&Q_(t,a,1)}}function Q_(t,e,n){for(let r=0;r<e.length;r++)cA(t,e[r],n)}function Sh(t,e){let n=U0()?64:1088;for(t[In].changeDetectionScheduler?.notify(e);t;){t[O]|=n;let r=Lr(t);if(uf(t)&&!r)return t;t=r}return null}var Wi=class{get rootNodes(){let e=this._lView,n=e[U];return Ul(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[We]}set context(e){this._lView[We]=e}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[et];if(xn(e)){let n=e[Fl],r=n?n.indexOf(this):-1;r>-1&&(is(e,r),Rl(n,r))}this._attachedToViewContainer=!1}lc(this._lView[U],this._lView)}onDestroy(e){F0(this._lView,e)}markForCheck(){Sh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){ff(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,q_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=uf(this._lView),n=this._lView[ji];n!==null&&!e&&_h(n,this._lView),__(this._lView[U],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e;let n=uf(this._lView),r=this._lView[ji];r!==null&&!n&&C_(r,this._lView),ff(this._lView)}};var BU=new RegExp(`^(\\d+)*(${nM}|${tM})*(.*)`);var uA=()=>null;function zi(t,e){return uA(t,e)}var os=class{},Ih=new w("",{providedIn:"root",factory:()=>!1});var Y_=new w(""),Sf=class{},$l=class{};function dA(t){let e=Error(`No component factory found for ${ut(t)}.`);return e[fA]=t,e}var fA="ngComponent";var If=class{resolveComponentFactory(e){throw dA(e)}},Rh=class Rh{};Rh.NULL=new If;var qi=Rh,Ki=class{},or=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>hA();let t=e;return t})();function hA(){let t=ce(),e=yt(),n=ir(e.index,t);return(Jn(n)?n:t)[Re]}var pA=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var Fy=new Set;function On(t){Fy.has(t)||(Fy.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Z_(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof tf.requestAnimationFrame=="function"&&tf.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function Ly(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function Vy(...t){}var oe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Me(!1),this.onMicrotaskEmpty=new Me(!1),this.onStable=new Me(!1),this.onError=new Me(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,vA(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new I(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,gA,Vy,Vy);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},gA={};function Mh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mA(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{Z_(()=>{t.callbackScheduled=!1,Mf(t),t.isCheckStableRunning=!0,Mh(t),t.isCheckStableRunning=!1})}),Mf(t))}function vA(t){let e=()=>{mA(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(yA(a))return n.invokeTask(i,o,s,a);try{return By(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),jy(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return By(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!_A(a)&&e(),jy(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Mf(t),Mh(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Mf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function By(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jy(t){t._nesting--,Mh(t)}var Af=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Me,this.onMicrotaskEmpty=new Me,this.onStable=new Me,this.onError=new Me}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function yA(t){return J_(t,"__ignore_ng_zone__")}function _A(t){return J_(t,"__scheduler_tick__")}function J_(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var eC=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Nf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=fy(i,a);else if(o==2){let l=a,c=e[++s];r=fy(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Wl=class extends qi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=kr(e);return new ss(n,this.ngModule)}};function Hy(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:er.None;e?n.push({propName:s,templateName:r,isSignal:(a&er.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function CA(t){let e=t.toLowerCase();return e==="svg"?uI:e==="math"?dI:null}var ss=class extends $l{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Hy(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Hy(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=$S(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Y(null);try{i=i||this.ngModule;let s=i instanceof dt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new pf(e,s):e,l=a.get(Ki,null);if(l===null)throw new I(407,!1);let c=a.get(pA,null),u=a.get(eC,null),d=a.get(os,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=r?IM(h,r,this.componentDef.encapsulation,a):y_(h,g,CA(g)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let T=null;y!==null&&(T=mh(y,a,!0));let x=Dh(0,null,null,1,0,null,null,null,null,null,null),S=uc(null,x,null,v,null,null,f,h,a,null,T);oh(S);let j,Te;try{let Ie=this.componentDef,st,zn=null;Ie.findHostDirectiveDefs?(st=[],zn=new Map,Ie.findHostDirectiveDefs(Ie,st,zn),st.push(Ie)):st=[Ie];let ld=EA(S,y),cd=TA(ld,y,Ie,st,S,f,h);Te=rh(x,vt),y&&bA(h,Ie,y,r),n!==void 0&&SA(Te,this.ngContentSelectors,n),j=wA(cd,Ie,st,zn,S,[IA]),bh(x,S,null)}finally{sh()}return new Pf(this.componentType,j,fh(Te,S),S,Te)}finally{Y(o)}}},Pf=class extends Sf{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Wi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;wh(o[U],o,i,e,n),this.previousInputValues.set(e,n);let s=ir(this._tNode.index,o);Sh(s,1)}}get injector(){return new Or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function EA(t,e){let n=t[U],r=vt;return t[r]=e,hs(n,r,2,"#host",null)}function TA(t,e,n,r,i,o,s){let a=i[U];DA(r,t,e,s);let l=null;e!==null&&(l=mh(e,i[Bi]));let c=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=uc(i,k_(n),null,u,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&Df(a,t,r.length-1),dc(i,d),i[t.index]=d}function DA(t,e,n,r){for(let i of t)e.mergedAttrs=es(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Nf(e,e.mergedAttrs,!0),n!==null&&I_(r,n,e))}function wA(t,e,n,r,i,o){let s=yt(),a=i[U],l=Kt(s,i);V_(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=Ui(i,a,d,s);jr(f,i)}B_(a,i,s),l&&jr(l,i);let c=Ui(i,a,s.directiveStart+s.componentOffset,s);if(t[We]=i[We]=c,o!==null)for(let u of o)u(c,e);return x_(a,s,i),c}function bA(t,e,n,r){if(r)sf(t,n,["ng-version","18.1.0"]);else{let{attrs:i,classes:o}=WS(e.selectors[0]);i&&sf(t,n,i),o&&o.length>0&&S_(t,n,o.join(" "))}}function SA(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function IA(){let t=yt();ch(ce()[U],t)}var hc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=MA;let t=e;return t})();function MA(){let t=yt();return NA(t,ce())}var AA=hc,tC=class extends AA{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fh(this._hostTNode,this._hostLView)}get injector(){return new Or(this._hostTNode,this._hostLView)}get parentInjector(){let e=uh(this._hostTNode,this._hostLView);if(J0(e)){let n=jl(e,this._hostLView),r=Bl(e),i=n[U].data[r+8];return new Or(i,n)}else return new Or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Gy(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Je}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=zi(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,$i(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!sI(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?e:new ss(kr(e)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let y=(s?c:this.parentInjector).get(dt,null);y&&(o=y)}let u=kr(l.componentType??{}),d=zi(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,$i(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(fI(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[et],c=new tC(l,l[ht],l[et]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ps(s,i,o,r),e.attachToViewContainerRef(),c0(Kd(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Gy(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=is(this._lContainer,n);r&&(Rl(Kd(this._lContainer),n),lc(r[U],r))}detach(e){let n=this._adjustIndex(e,-1),r=is(this._lContainer,n);return r&&Rl(Kd(this._lContainer),n)!=null?new Wi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Gy(t){return t[Fl]}function Kd(t){return t[Fl]||(t[Fl]=[])}function NA(t,e){let n,r=e[t.index];return xn(r)?n=r:(n=j_(r,e,null,t),e[t.index]=n,dc(e,n)),xA(n,e,t,r),new tC(n,t,e)}function PA(t,e){let n=t[Re],r=n.createComment(""),i=Kt(e,t),o=Ch(n,i);return Gl(n,o,r,mM(n,i),!1),r}var xA=kA,RA=()=>!1;function OA(t,e,n){return RA(t,e,n)}function kA(t,e,n,r){if(t[Fr])return;let i;n.type&8?i=cn(r):i=PA(e,n),t[Fr]=i}function FA(t){return typeof t=="function"&&t[jt]!==void 0}function zr(t,e){On("NgSignals");let n=Uv(t),r=n[jt];return e?.equal&&(r.equal=e.equal),n.set=i=>Ka(r,i),n.update=i=>$v(r,i),n.asReadonly=LA.bind(n),n}function LA(){let t=this[jt];if(t.readonlyFn===void 0){let e=()=>this();e[jt]=t,t.readonlyFn=e}return t.readonlyFn}function nC(t){return FA(t)&&typeof t.set=="function"}function VA(t){return Object.getPrototypeOf(t.prototype).constructor}function pn(t){let e=VA(t.type),n=!0,r=[t];for(;e;){let i;if(tr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Dl(t.inputs),s.inputTransforms=Dl(t.inputTransforms),s.declaredInputs=Dl(t.declaredInputs),s.outputs=Dl(t.outputs);let a=i.hostBindings;a&&UA(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&HA(t,l),c&&GA(t,c),BA(t,i),cS(t.outputs,i.outputs),tr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===pn&&(n=!1)}}e=Object.getPrototypeOf(e)}jA(r)}function BA(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function jA(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=es(i.hostAttrs,n=es(n,i.hostAttrs))}}function Dl(t){return t===ki?{}:t===Mt?[]:t}function HA(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function GA(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function UA(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var nr=class{},as=class{};var xf=class extends nr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wl(this);let i=y0(e);this._bootstrapComponents=v_(i.bootstrap),this._r3Injector=l_(e,n,[{provide:nr,useValue:this},{provide:qi,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Rf=class extends as{constructor(e){super(),this.moduleType=e}create(e){return new xf(this.moduleType,e,[])}};var zl=class extends nr{constructor(e){super(),this.componentFactoryResolver=new Wl(this),this.instance=null;let n=new ts([...e.providers,{provide:nr,useValue:this},{provide:qi,useValue:this.componentFactoryResolver}],e.parent||th(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ah(t,e,n=null){return new zl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function rC(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Zi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function $A(t){return(t.flags&32)===32}function WA(t,e,n,r,i,o,s,a,l){let c=e.consts,u=hs(e,t,4,s||null,a||null);L_(e,n,u,Gi(c,l)),ch(e,u);let d=u.tView=Dh(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function ql(t,e,n,r,i,o,s,a,l,c){let u=n+vt,d=e.firstCreatePass?WA(u,e,t,r,i,o,s,a,l):e.data[u];ds(d,!1);let f=zA(e,t,d,n);ah()&&Eh(e,t,f,d),jr(f,t);let h=j_(f,t,f,d);return t[u]=h,dc(t,h),OA(h,d,t),nh(d)&&R_(e,t,d),l!=null&&O_(t,d,c),d}function kn(t,e,n,r,i,o,s,a){let l=ce(),c=pt(),u=Gi(c.consts,o);return ql(l,c,t,e,n,r,i,u,s,a),kn}var zA=qA;function qA(t,e,n,r){return lh(!0),e[Re].createComment("")}function KA(t,e,n,r){return Zi(t,fs(),n)?e+o0(n)+r:Wr}function wl(t,e){return t<<17|e<<2}function Hr(t){return t>>17&32767}function XA(t){return(t&2)==2}function QA(t,e){return t&131071|e<<17}function Of(t){return t|2}function Xi(t){return(t&131068)>>2}function Xd(t,e){return t&-131069|e<<2}function YA(t){return(t&1)===1}function kf(t){return t|1}function ZA(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Hr(s),l=Xi(s);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||us(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=Hr(t[a+1]);t[r+1]=wl(f,a),f!==0&&(t[f+1]=Xd(t[f+1],r)),t[a+1]=QA(t[a+1],r)}else t[r+1]=wl(a,0),a!==0&&(t[a+1]=Xd(t[a+1],r)),a=r;else t[r+1]=wl(l,0),a===0?a=r:t[l+1]=Xd(t[l+1],r),l=r;c&&(t[r+1]=Of(t[r+1])),Uy(t,u,r,!0),Uy(t,u,r,!1),JA(e,u,t,r,o),s=wl(a,l),o?e.classBindings=s:e.styleBindings=s}function JA(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&us(o,e)>=0&&(n[r+1]=kf(n[r+1]))}function Uy(t,e,n,r){let i=t[n+1],o=e===null,s=r?Hr(i):Xi(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];eN(l,e)&&(a=!0,t[s+1]=r?kf(c):Of(c)),s=r?Hr(c):Xi(c)}a&&(t[n+1]=r?Of(i):kf(i))}function eN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?us(t,e)>=0:!1}function Fn(t,e,n){let r=ce(),i=fs();if(Zi(r,i,e)){let o=pt(),s=Q0();F_(o,s,r,t,e,r[Re],n,!1)}return Fn}function $y(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";wh(t,n,o[s],s,r)}function pc(t,e){return tN(t,e,null,!0),pc}function tN(t,e,n,r){let i=ce(),o=pt(),s=TI(2);if(o.firstUpdatePass&&rN(o,t,s,r),e!==Wr&&Zi(i,s,e)){let a=o.data[$r()];lN(o,a,i,i[Re],t,i[s+1]=cN(e,n),r,s)}}function nN(t,e){return e>=t.expandoStartIndex}function rN(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[$r()],s=nN(t,n);uN(o,r)&&e===null&&!s&&(e=!1),e=iN(i,o,e,r),ZA(i,o,e,n,s,r)}}function iN(t,e,n,r){let i=SI(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Qd(null,t,e,n,r),n=ls(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Qd(i,t,e,n,r),o===null){let l=oN(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Qd(null,t,e,l[1],r),l=ls(l,e.attrs,r),sN(t,e,r,l))}else o=aN(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function oN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Xi(r)!==0)return t[Hr(r)]}function sN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Hr(i)]=r}function aN(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ls(r,s,n)}return ls(r,e.attrs,n)}function Qd(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ls(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ls(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),NS(t,s,n?!0:e[++o]))}return t===void 0?null:t}function lN(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=YA(c)?Wy(l,e,n,i,Xi(c),s):void 0;if(!Kl(u)){Kl(o)||XA(c)&&(o=Wy(l,null,n,i,a,s));let d=R0($r(),n);TM(r,s,d,i,o)}}function Wy(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===Wr&&(f=d?Mt:void 0);let h=d?Hd(f,r):u===r?f:void 0;if(c&&!Kl(h)&&(h=Hd(l,r)),Kl(h)&&(a=h,s))return a;let g=t[i+1];i=s?Hr(g):Xi(g)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Hd(l,r))}return a}function Kl(t){return t!==void 0}function cN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ut(vh(t)))),t}function uN(t,e){return(t.flags&(e?8:16))!==0}var Ff=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Yd(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function dN(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=t.at(o),u=e[o],d=Yd(o,c,o,u,n);if(d!==0){d<0&&t.updateValue(o,u),o++;continue}let f=t.at(s),h=e[l],g=Yd(s,f,l,h,n);if(g!==0){g<0&&t.updateValue(s,h),s--,l--;continue}let y=n(o,c),v=n(s,f),T=n(o,u);if(Object.is(T,v)){let x=n(l,h);Object.is(x,y)?(t.swap(o,s),t.updateValue(s,h),l--,s--):t.move(s,o),t.updateValue(o,u),o++;continue}if(r??=new Xl,i??=qy(t,o,s,n),Lf(t,r,o,T))t.updateValue(o,u),o++,s++;else if(i.has(T))r.set(y,t.detach(o)),s--;else{let x=t.create(o,e[o]);t.attach(o,x),o++,s++}}for(;o<=l;)zy(t,r,n,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=t.at(o),d=c.value,f=Yd(o,u,o,d,n);if(f!==0)f<0&&t.updateValue(o,d),o++,c=l.next();else{r??=new Xl,i??=qy(t,o,s,n);let h=n(o,d);if(Lf(t,r,o,h))t.updateValue(o,d),o++,s++,c=l.next();else if(!i.has(h))t.attach(o,t.create(o,d)),o++,s++,c=l.next();else{let g=n(o,u);r.set(g,t.detach(o)),s--}}}for(;!c.done;)zy(t,r,n,t.length,c.value),c=l.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(l=>{t.destroy(l)})}function Lf(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function zy(t,e,n,r,i){if(Lf(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function qy(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Xl=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Ln(t,e){On("NgControlFlow");let n=ce(),r=fs(),i=n[r]!==Wr?n[r]:-1,o=i!==-1?Ql(n,vt+i):void 0,s=0;if(Zi(n,r,t)){let a=Y(null);try{if(o!==void 0&&$_(o,s),t!==-1){let l=vt+t,c=Ql(n,l),u=Hf(n[U],l),d=zi(c,u.tView.ssrId),f=fc(n,u,e,{dehydratedView:d});ps(c,f,s,$i(u,d))}}finally{Y(a)}}else if(o!==void 0){let a=U_(o,s);a!==void 0&&(a[We]=e)}}var Vf=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Je}};function iC(t,e){return e}var Bf=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function oC(t,e,n,r,i,o,s,a,l,c,u,d,f){On("NgControlFlow");let h=ce(),g=pt(),y=l!==void 0,v=ce(),T=a?s.bind(v[mt][We]):s,x=new Bf(y,T);v[vt+t]=x,ql(h,g,t+1,e,n,r,i,Gi(g.consts,o)),y&&ql(h,g,t+2,l,c,u,d,Gi(g.consts,f))}var jf=class extends Ff{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Je}at(e){return this.getLView(e)[We].$implicit}attach(e,n){let r=n[Vi];this.needsIndexUpdate||=e!==this.length,ps(this.lContainer,n,e,$i(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,fN(this.lContainer,e)}create(e,n){let r=zi(this.lContainer,this.templateTNode.tView.ssrId),i=fc(this.hostLView,this.templateTNode,new Vf(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){lc(e[U],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[We].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[We].$index=e}getLView(e){return hN(this.lContainer,e)}};function sC(t){let e=Y(null),n=$r();try{let r=ce(),i=r[U],o=r[n],s=n+1,a=Ql(r,s);if(o.liveCollection===void 0){let c=Hf(i,s);o.liveCollection=new jf(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(dN(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=fs(),u=l.length===0;if(Zi(r,c,u)){let d=n+2,f=Ql(r,d);if(u){let h=Hf(i,d),g=zi(f,h.tView.ssrId),y=fc(r,h,void 0,{dehydratedView:g});ps(f,y,0,$i(h,g))}else $_(f,0)}}}finally{Y(e)}}function Ql(t,e){return t[e]}function fN(t,e){return is(t,e)}function hN(t,e){return U_(t,e)}function Hf(t,e){return rh(t,e)}function pN(t,e,n,r,i,o){let s=e.consts,a=Gi(s,i),l=hs(e,t,2,r,a);return L_(e,n,l,Gi(s,o)),l.attrs!==null&&Nf(l,l.attrs,!1),l.mergedAttrs!==null&&Nf(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function ye(t,e,n,r){let i=ce(),o=pt(),s=vt+t,a=i[Re],l=o.firstCreatePass?pN(s,o,i,e,n,r):o.data[s],c=gN(o,i,l,a,e,t);i[s]=c;let u=nh(l);return ds(l,!0),I_(a,c,l),!$A(l)&&ah()&&Eh(o,i,c,l),gI()===0&&jr(c,i),mI(),u&&(R_(o,i,l),x_(o,l,i)),r!==null&&O_(i,l),ye}function fe(){let t=yt();H0()?G0():(t=t.parent,ds(t,!1));let e=t;yI(e)&&_I(),vI();let n=pt();return n.firstCreatePass&&(ch(n,t),M0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&RI(e)&&$y(n,e,ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&OI(e)&&$y(n,e,ce(),e.stylesWithoutHost,!1),fe}function Xt(t,e,n,r){return ye(t,e,n,r),fe(),Xt}var gN=(t,e,n,r,i,o)=>(lh(!0),y_(r,i,AI()));function aC(){return ce()}var Yl="en-US";var mN=Yl;function vN(t){typeof t=="string"&&(mN=t.toLowerCase().replace(/_/g,"-"))}var yN=(t,e,n)=>{};function Pt(t,e,n,r){let i=ce(),o=pt(),s=yt();return lC(o,i,i[Re],s,t,e,r),Pt}function _N(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[kl],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function lC(t,e,n,r,i,o,s){let a=nh(r),c=t.firstCreatePass&&qM(t),u=e[We],d=zM(e),f=!0;if(r.type&3||s){let y=Kt(r,e),v=s?s(y):y,T=d.length,x=s?j=>s(cn(j[r.index])):r.index,S=null;if(!s&&a&&(S=_N(t,e,i,r.index)),S!==null){let j=S.__ngLastListenerFn__||S;j.__ngNextListenerFn__=o,S.__ngLastListenerFn__=o,f=!1}else{o=Xy(r,e,u,o),yN(y,i,o);let j=n.listen(v,i,o);d.push(o,j),c&&c.push(i,x,T,T+1)}}else o=Xy(r,e,u,o);let h=r.outputs,g;if(f&&h!==null&&(g=h[i])){let y=g.length;if(y)for(let v=0;v<y;v+=2){let T=g[v],x=g[v+1],Te=e[T][x].subscribe(o),Ie=d.length;d.push(o,Te),c&&c.push(i,r.index,Ie,-(Ie+1))}}}function Ky(t,e,n,r){let i=Y(null);try{return sn(6,e,n),n(r)!==!1}catch(o){return G_(t,o),!1}finally{sn(7,e,n),Y(i)}}function Xy(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?ir(t.index,e):e;Sh(s,5);let a=Ky(e,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=Ky(e,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function xt(t=1){return MI(t)}function CN(t,e){let n=null,r=BS(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?p0(t,o,!0):GS(r,o))return i}return n}function cC(t){let e=ce()[mt][ht];if(!e.projection){let n=t?t.length:1,r=e.projection=MS(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?CN(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function uC(t,e=0,n,r,i,o){let s=ce(),a=pt(),l=r?t+1:null;l!==null&&ql(s,a,l,r,i,o,null,n);let c=hs(a,vt+t,16,null,n||null);c.projection===null&&(c.projection=e),G0();let d=!s[Vi]||B0();s[mt][ht].projection[c.projection]===null&&l!==null?EN(s,a,l):d&&(c.flags&32)!==32&&CM(a,s,c)}function EN(t,e,n){let r=vt+n,i=e.data[r],o=t[r],s=zi(o,i.tView.ssrId),a=fc(t,i,void 0,{dehydratedView:s});ps(o,a,0,$i(i,s))}function Fe(t,e=""){let n=ce(),r=pt(),i=t+vt,o=r.firstCreatePass?hs(r,i,1,e,null):r.data[i],s=TN(r,n,o,e,t);n[i]=s,ah()&&Eh(r,n,s,o),ds(o,!1)}var TN=(t,e,n,r,i)=>(lh(!0),sM(e[Re],r));function Ji(t){return gc("",t,""),Ji}function gc(t,e,n){let r=ce(),i=KA(r,t,e,n);return i!==Wr&&KM(r,$r(),i),gc}function eo(t,e,n){nC(e)&&(e=e());let r=ce(),i=fs();if(Zi(r,i,e)){let o=pt(),s=Q0();F_(o,s,r,t,e,r[Re],n,!1)}return eo}function gs(t,e){let n=nC(t);return n&&t.set(e),n}function to(t,e){let n=ce(),r=pt(),i=yt();return lC(r,n,n[Re],i,t,e),to}function DN(t,e,n){let r=pt();if(r.firstCreatePass){let i=tr(t);Gf(n,r.data,r.blueprint,i,!0),Gf(e,r.data,r.blueprint,i,!1)}}function Gf(t,e,n,r,i){if(t=Ze(t),Array.isArray(t))for(let o=0;o<t.length;o++)Gf(t[o],e,n,r,i);else{let o=pt(),s=ce(),a=yt(),l=Li(t)?t:Ze(t.provide),c=w0(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Li(t)||!t.multi){let h=new Br(c,i,te),g=Jd(l,e,i?u:u+f,d);g===-1?(mf(Hl(a,s),o,l),Zd(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[g]=h,s[g]=h)}else{let h=Jd(l,e,u+f,d),g=Jd(l,e,u,u+f),y=h>=0&&n[h],v=g>=0&&n[g];if(i&&!v||!i&&!y){mf(Hl(a,s),o,l);let T=SN(i?bN:wN,n.length,i,r,c);!i&&v&&(n[g].providerFactory=T),Zd(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else{let T=dC(n[i?g:h],c,!i&&r);Zd(o,t,h>-1?h:g,T)}!i&&r&&v&&n[g].componentProviders++}}}function Zd(t,e,n,r){let i=Li(e),o=ZS(e);if(i||o){let l=(o?Ze(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function dC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Jd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function wN(t,e,n,r){return Uf(this.multi,[])}function bN(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ui(n,n[U],this.providerFactory.index,r);o=a.slice(0,s),Uf(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Uf(i,o);return o}function Uf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function SN(t,e,n,r,i){let o=new Br(t,n,te);return o.multi=[],o.index=e,o.componentProviders=0,dC(o,i,r&&!n),o}function sr(t,e=[]){return n=>{n.providersResolver=(r,i)=>DN(r,i?i(t):t,e)}}var IN=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=E0(!1,r.type),o=i.length>0?Ah([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(E(dt))});let t=e;return t})();function Rt(t){On("NgStandalone"),t.getStandaloneInjector=e=>e.get(IN).getOrCreateStandaloneInjector(t)}var Nn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},fC=new Nn("18.1.0");var mc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var hC=new w("");function qr(t){return!!t&&typeof t.then=="function"}function pC(t){return!!t&&typeof t.subscribe=="function"}var gC=new w(""),mC=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=_(gC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(qr(s))r.push(s);else if(pC(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vc=new w("");function MN(){Gv(()=>{throw new I(600,!1)})}function AN(t){return t.isBoundToModule}var NN=10;function PN(t,e,n){try{let r=n();return qr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Kr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(c_),this.afterRenderEffectManager=_(eC),this.zonelessEnabled=_(Ih),this.externalTestViews=new Set,this.beforeRender=new Ce,this.afterTick=new Ce,this.componentTypes=[],this.components=[],this.isStable=_(hn).hasPendingTasks.pipe(A(r=>!r)),this._injector=_(dt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof $l;if(!this._injector.get(mC).done){let h=!o&&v0(r),g=!1;throw new I(405,g)}let a;o?a=r:a=this._injector.get(qi).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=AN(a)?void 0:this._injector.get(nr),c=i||a.selector,u=a.create(Mn.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(hC,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),ef(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new I(101,!1);let i=Y(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Y(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(Ki,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<NN;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)xN(l,c,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>rs(l))&&(s.execute(),!this.allViews.some(({_lView:l})=>rs(l))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ef(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(vc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ef(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new I(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ef(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xN(t,e,n,r){if(!n&&!rs(t))return;q_(t,e,n&&!r?0:1)}var $f=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Nh=(()=>{let e=class e{compileModuleSync(r){return new Rf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=y0(r),s=v_(o.declarations).reduce((a,l)=>{let c=kr(l);return c&&a.push(new ss(c)),a},[]);return new $f(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var RN=(()=>{let e=class e{constructor(){this.zone=_(oe),this.changeDetectionScheduler=_(os),this.applicationRef=_(Kr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ON=new w("",{factory:()=>!1});function vC({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new oe(_C()),[{provide:oe,useFactory:t},{provide:Fi,multi:!0,useFactory:()=>{let n=_(RN,{optional:!0});return()=>n.initialize()}},{provide:Fi,multi:!0,useFactory:()=>{let n=_(FN);return()=>{n.initialize()}}},{provide:c_,useFactory:kN},e===!0?{provide:Y_,useValue:!0}:[]]}function kN(){let t=_(oe),e=_(un);return n=>t.runOutsideAngular(()=>e.handleError(n))}function yC(t){let e=t?.ignoreChangesOutsideZone,n=vC({ngZoneFactory:()=>{let r=_C(t);return r.shouldCoalesceEventChangeDetection&&On("NgZone_CoalesceEvent"),new oe(r)},ignoreChangesOutsideZone:e});return Ur([{provide:ON,useValue:!0},{provide:Ih,useValue:!1},n])}function _C(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var FN=(()=>{let e=class e{constructor(){this.subscription=new be,this.initialized=!1,this.zone=_(oe),this.pendingTasks=_(hn)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var LN=(()=>{let e=class e{constructor(){this.appRef=_(Kr),this.taskService=_(hn),this.ngZone=_(oe),this.zonelessEnabled=_(Ih),this.disableScheduling=_(Y_,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new be,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Af||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Ly:Z_;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&oe.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ly(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function VN(){return typeof $localize<"u"&&$localize.locale||Yl}var Ph=new w("",{providedIn:"root",factory:()=>_(Ph,z.Optional|z.SkipSelf)||VN()});var CC=new w("");var Nl=null;function BN(t=[],e){return Mn.create({name:e,providers:[{provide:nc,useValue:"platform"},{provide:CC,useValue:new Set([()=>Nl=null])},...t]})}function jN(t=[]){if(Nl)return Nl;let e=BN(t);return Nl=e,MN(),HN(e),e}function HN(t){t.get(ph,null)?.forEach(n=>n())}function xh(){return!1}var ar=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=GN;let t=e;return t})();function GN(t){return UN(yt(),ce(),(t&16)===16)}function UN(t,e,n){if(ic(t)&&!n){let r=ir(t.index,e);return new Wi(r,r)}else if(t.type&175){let r=e[mt];return new Wi(r,e)}return null}var Wf=class{constructor(){}supports(e){return e instanceof Map||rC(e)}create(){return new zf}},zf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||rC(e)))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new qf(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},qf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Qy(){return new yc([new Wf])}var yc=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Qy()),deps:[[e,new tc,new Gr]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i)return i;throw new I(901,!1)}};e.\u0275prov=b({token:e,providedIn:"root",factory:Qy});let t=e;return t})();function EC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=jN(r),o=[vC({}),{provide:os,useExisting:LN},...n||[]],a=new zl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(oe);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(un,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:h=>{c.handleError(h)}})});let d=()=>a.destroy(),f=i.get(CC);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),PN(c,l,()=>{let h=a.get(mC);return h.runInitializers(),h.donePromise.then(()=>{let g=a.get(Ph,Yl);vN(g||Yl);let y=a.get(Kr);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}var TC=new w("");function _c(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ms(t,e){On("NgSignals");let n=Bv(t);return e?.equal&&(n[jt].equal=e.equal),n}function Vn(t){let e=Y(null);try{return t()}finally{Y(e)}}var $N=new w("",{providedIn:"root",factory:()=>_(WN)}),WN=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new Kf});let t=e;return t})(),Kf=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=_(hn),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Xf=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=Wv(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(un,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function gn(t,e){On("NgSignals"),!e?.injector&&oI(gn);let n=e?.injector??_(Mn),r=e?.manualCleanup!==!0?n.get(dh):null,i=new Xf(n.get($N),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(ar,null,{optional:!0});return!o||!(o._lView[O]&8)?i.watcher.notify():(o._lView[Sl]??=[]).push(i.watcher.notify),i}var bC=null;function Bn(){return bC}function SC(t){bC??=t}var Cc=class{};var Ue=new w(""),IC=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(XN),providedIn:"platform"});let t=e;return t})();var XN=(()=>{let e=class e extends IC{constructor(){super(),this._doc=_(Ue),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bn().getBaseHref(this._doc)}onPopState(r){let i=Bn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Bn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function MC(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function DC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Xr(t){return t&&t[0]!=="?"?"?"+t:t}var Ec=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(AC),providedIn:"root"});let t=e;return t})(),QN=new w(""),AC=(()=>{let e=class e extends Ec{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??_(Ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return MC(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Xr(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Xr(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Xr(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(E(IC),E(QN,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vs=(()=>{let e=class e{constructor(r){this._subject=new Me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=JN(DC(wC(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Xr(i))}normalize(r){return e.stripTrailingSlash(ZN(this._basePath,wC(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xr(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Xr,e.joinWithSlash=MC,e.stripTrailingSlash=DC,e.\u0275fac=function(i){return new(i||e)(E(Ec))},e.\u0275prov=b({token:e,factory:()=>YN(),providedIn:"root"});let t=e;return t})();function YN(){return new vs(E(Ec))}function ZN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function wC(t){return t.replace(/\/index.html$/,"")}function JN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Tc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Oh="browser",eP="server";function Dc(t){return t===Oh}function ro(t){return t===eP}var no=class{};var _s=class{},bc=class{},jn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Fh=class{encodeKey(e){return NC(e)}encodeValue(e){return NC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function nP(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var rP=/%(\d[a-f0-9])/gi,iP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function NC(t){return encodeURIComponent(t).replace(rP,(e,n)=>iP[n]??e)}function wc(t){return`${t}`}var cr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Fh,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=nP(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(wc):[wc(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(wc(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(wc(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Lh=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function oP(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function PC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function xC(t){return typeof Blob<"u"&&t instanceof Blob}function RC(t){return typeof FormData<"u"&&t instanceof FormData}function sP(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ys=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(oP(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new jn,this.context??=new Lh,!this.params)this.params=new cr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||PC(this.body)||xC(this.body)||RC(this.body)||sP(this.body)?this.body:this.body instanceof cr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||RC(this.body)?null:xC(this.body)?this.body.type||null:PC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof cr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},ur=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ur||{}),Cs=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new jn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Sc=class t extends Cs{constructor(e={}){super(e),this.type=ur.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Es=class t extends Cs{constructor(e={}){super(e),this.type=ur.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},lr=class extends Cs{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},VC=200,aP=204;function kh(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var jh=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof ys)s=r;else{let c;o.headers instanceof jn?c=o.headers:c=new jn(o.headers);let u;o.params&&(o.params instanceof cr?u=o.params:u=new cr({fromObject:o.params})),s=new ys(r,i,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=M(s).pipe(Xn(c=>this.handler.handle(c)));if(r instanceof ys||o.observe==="events")return a;let l=a.pipe(Qe(c=>c instanceof Es));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(A(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(A(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(A(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(A(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new cr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,kh(o,i))}post(r,i,o={}){return this.request("POST",r,kh(o,i))}put(r,i,o={}){return this.request("PUT",r,kh(o,i))}};e.\u0275fac=function(i){return new(i||e)(E(_s))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),lP=/^\)\]\}',?\n/,cP="X-Request-URL";function OC(t){if(t.url)return t.url;let e=cP.toLocaleLowerCase();return t.headers.get(e)}var uP=(()=>{let e=class e{constructor(){this.fetchImpl=_(Vh,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=_(oe)}handle(r){return new G(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(Bh,s=>i.error(new lr({error:s}))),()=>o.abort()})}doRequest(r,i,o){return ae(this,null,function*(){let s=this.createRequestInit(r),a;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,D({signal:i},s)));dP(g),o.next({type:ur.Sent}),a=yield g}catch(g){o.error(new lr({error:g,status:g.status??0,statusText:g.statusText,url:r.urlWithParams,headers:g.headers}));return}let l=new jn(a.headers),c=a.statusText,u=OC(a)??r.urlWithParams,d=a.status,f=null;if(r.reportProgress&&o.next(new Sc({headers:l,status:d,statusText:c,url:u})),a.body){let g=a.headers.get("content-length"),y=[],v=a.body.getReader(),T=0,x,S,j=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>ae(this,null,function*(){for(;;){let{done:Ie,value:st}=yield v.read();if(Ie)break;if(y.push(st),T+=st.length,r.reportProgress){S=r.responseType==="text"?(S??"")+(x??=new TextDecoder).decode(st,{stream:!0}):void 0;let zn=()=>o.next({type:ur.DownloadProgress,total:g?+g:void 0,loaded:T,partialText:S});j?j.run(zn):zn()}}}));let Te=this.concatChunks(y,T);try{let Ie=a.headers.get("Content-Type")??"";f=this.parseBody(r,Te,Ie)}catch(Ie){o.error(new lr({error:Ie,headers:new jn(a.headers),status:a.status,statusText:a.statusText,url:OC(a)??r.urlWithParams}));return}}d===0&&(d=f?VC:0),d>=200&&d<300?(o.next(new Es({body:f,headers:l,status:d,statusText:c,url:u})),o.complete()):o.error(new lr({error:f,headers:l,status:d,statusText:c,url:u}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(lP,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Vh=class{};function Bh(){}function dP(t){t.then(Bh,Bh)}function BC(t,e){return e(t)}function fP(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function hP(t,e,n){return(r,i)=>qt(n,()=>e(r,o=>t(o,i)))}var pP=new w(""),Hh=new w(""),gP=new w(""),jC=new w("",{providedIn:"root",factory:()=>!0});function mP(){let t=null;return(e,n)=>{t===null&&(t=(_(pP,{optional:!0})??[]).reduceRight(fP,BC));let r=_(hn);if(_(jC)){let o=r.add();return t(e,n).pipe(on(()=>r.remove(o)))}else return t(e,n)}}var kC=(()=>{let e=class e extends _s{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=_(hn),this.contributeToStability=_(jC)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Hh),...this.injector.get(gP,[])]));this.chain=i.reduceRight((o,s)=>hP(o,s,this.injector),BC)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(on(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(E(bc),E(dt))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();var vP=/^\)\]\}',?\n/;function yP(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var FC=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new I(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?le(i.\u0275loadImpl()):M(null)).pipe(ve(()=>new G(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((v,T)=>a.setRequestHeader(v,T.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let v=r.detectContentTypeHeader();v!==null&&a.setRequestHeader("Content-Type",v)}if(r.responseType){let v=r.responseType.toLowerCase();a.responseType=v!=="json"?v:"text"}let l=r.serializeBody(),c=null,u=()=>{if(c!==null)return c;let v=a.statusText||"OK",T=new jn(a.getAllResponseHeaders()),x=yP(a)||r.url;return c=new Sc({headers:T,status:a.status,statusText:v,url:x}),c},d=()=>{let{headers:v,status:T,statusText:x,url:S}=u(),j=null;T!==aP&&(j=typeof a.response>"u"?a.responseText:a.response),T===0&&(T=j?VC:0);let Te=T>=200&&T<300;if(r.responseType==="json"&&typeof j=="string"){let Ie=j;j=j.replace(vP,"");try{j=j!==""?JSON.parse(j):null}catch(st){j=Ie,Te&&(Te=!1,j={error:st,text:j})}}Te?(s.next(new Es({body:j,headers:v,status:T,statusText:x,url:S||void 0})),s.complete()):s.error(new lr({error:j,headers:v,status:T,statusText:x,url:S||void 0}))},f=v=>{let{url:T}=u(),x=new lr({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:T||void 0});s.error(x)},h=!1,g=v=>{h||(s.next(u()),h=!0);let T={type:ur.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(T.total=v.total),r.responseType==="text"&&a.responseText&&(T.partialText=a.responseText),s.next(T)},y=v=>{let T={type:ur.UploadProgress,loaded:v.loaded};v.lengthComputable&&(T.total=v.total),s.next(T)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",g),l!==null&&a.upload&&a.upload.addEventListener("progress",y)),a.send(l),s.next({type:ur.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",g),l!==null&&a.upload&&a.upload.removeEventListener("progress",y)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(E(no))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),HC=new w(""),_P="XSRF-TOKEN",CP=new w("",{providedIn:"root",factory:()=>_P}),EP="X-XSRF-TOKEN",TP=new w("",{providedIn:"root",factory:()=>EP}),Ic=class{},DP=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Tc(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(E(Ue),E(ze),E(CP))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function wP(t,e){let n=t.url.toLowerCase();if(!_(HC)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=_(Ic).getToken(),i=_(TP);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var GC=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(GC||{});function bP(t,e){return{\u0275kind:t,\u0275providers:e}}function SP(...t){let e=[jh,FC,kC,{provide:_s,useExisting:kC},{provide:bc,useFactory:()=>_(uP,{optional:!0})??_(FC)},{provide:Hh,useValue:wP,multi:!0},{provide:HC,useValue:!0},{provide:Ic,useClass:DP}];for(let n of t)e.push(...n.\u0275providers);return Ur(e)}var LC=new w("");function IP(){return bP(GC.LegacyInterceptors,[{provide:LC,useFactory:mP},{provide:Hh,useExisting:LC,multi:!0}])}var UC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=nt({type:e}),e.\u0275inj=tt({providers:[SP(IP())]});let t=e;return t})();var $h=class extends Cc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Wh=class t extends $h{static makeCurrent(){SC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=AP();return n==null?null:NP(n)}resetBaseElement(){Ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Tc(document.cookie,e)}},Ts=null;function AP(){return Ts=Ts||document.querySelector("base"),Ts?Ts.getAttribute("href"):null}function NP(t){return new URL(t,document.baseURI).pathname}var PP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Mc=new w(""),qC=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(E(Mc),E(oe))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Ds=class{constructor(e){this._doc=e}},Gh="ng-app-id",KC=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ro(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Gh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Gh),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Gh,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(E(Ue),E(hh),E(gh,8),E(ze))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Uh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},qh=/%COMP%/g,XC="%COMP%",xP=`_nghost-${XC}`,RP=`_ngcontent-${XC}`,OP=!0,kP=new w("",{providedIn:"root",factory:()=>OP});function FP(t){return RP.replace(qh,t)}function LP(t){return xP.replace(qh,t)}function QC(t,e){return e.map(n=>n.replace(qh,t))}var $C=(()=>{let e=class e{constructor(r,i,o,s,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ro(l),this.defaultRenderer=new ws(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ln.ShadowDom&&(i=W(D({},i),{encapsulation:ln.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Ac?o.applyToHost(r):o instanceof bs&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case ln.Emulated:s=new Ac(c,u,i,this.appId,d,a,l,f);break;case ln.ShadowDom:return new zh(c,u,r,i,a,l,this.nonce,f);default:s=new bs(c,u,i,d,a,l,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(E(qC),E(KC),E(hh),E(kP),E(Ue),E(ze),E(oe),E(gh))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),ws=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Uh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(WC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(WC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Uh[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Uh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(n,r,i&An.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&An.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Bn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function WC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var zh=class extends ws{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=QC(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},bs=class extends ws{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?QC(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ac=class extends bs{constructor(e,n,r,i,o,s,a,l){let c=i+"-"+r.id;super(e,n,r,o,s,a,l,c),this.contentAttr=FP(c),this.hostAttr=LP(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},VP=(()=>{let e=class e extends Ds{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(E(Ue))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),BP=(()=>{let e=class e extends Ds{constructor(r){super(r),this.delegate=_(TC,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(E(Ue))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),zC=["alt","control","meta","shift"],jP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},GP=(()=>{let e=class e extends Ds{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),zC.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=jP[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),zC.forEach(a=>{if(a!==o){let l=HP[a];l(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(E(Ue))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function YC(t,e){return EC(D({rootComponent:t},UP(e)))}function UP(t){return{appProviders:[...KP,...t?.providers??[]],platformProviders:qP}}function $P(){Wh.makeCurrent()}function WP(){return new un}function zP(){return g_(document),document}var qP=[{provide:ze,useValue:Oh},{provide:ph,useValue:$P,multi:!0},{provide:Ue,useFactory:zP,deps:[]}];var KP=[{provide:nc,useValue:"root"},{provide:un,useFactory:WP,deps:[]},{provide:Mc,useClass:VP,multi:!0,deps:[Ue,oe,ze]},{provide:Mc,useClass:GP,multi:!0,deps:[Ue]},{provide:Mc,useClass:BP,multi:!0},$C,KC,qC,{provide:Ki,useExisting:$C},{provide:no,useClass:PP,deps:[]},[]];var ZC=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(E(Ue))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var H="primary",Gs=Symbol("RouteTitle"),Zh=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function co(t){return new Zh(t)}function YP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ZP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mn(t[n],e[n]))return!1;return!0}function mn(t,e){let n=t?Jh(t):void 0,r=e?Jh(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!sE(t[i],e[i]))return!1;return!0}function Jh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function sE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function aE(t){return t.length>0?t[t.length-1]:null}function dr(t){return Nd(t)?t:qr(t)?le(Promise.resolve(t)):M(t)}var JP={exact:cE,subset:uE},lE={exact:e1,subset:t1,ignored:()=>!0};function JC(t,e,n){return JP[n.paths](t.root,e.root,n.matrixParams)&&lE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function e1(t,e){return mn(t,e)}function cE(t,e,n){if(!Yr(t.segments,e.segments)||!xc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!cE(t.children[r],e.children[r],n))return!1;return!0}function t1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>sE(t[n],e[n]))}function uE(t,e,n){return dE(t,e,e.segments,n)}function dE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Yr(i,n)||e.hasChildren()||!xc(i,n,r))}else if(t.segments.length===n.length){if(!Yr(t.segments,n)||!xc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!uE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Yr(t.segments,i)||!xc(t.segments,i,r)||!t.children[H]?!1:dE(t.children[H],e,o,r)}}function xc(t,e,n){return e.every((r,i)=>lE[n](t[i].parameters,r.parameters))}var Gn=class{constructor(e=new se([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=co(this.queryParams),this._queryParamMap}toString(){return i1.serialize(this)}},se=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rc(this)}},Qr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=co(this.parameters),this._parameterMap}toString(){return hE(this)}};function n1(t,e){return Yr(t,e)&&t.every((n,r)=>mn(n.parameters,e[r].parameters))}function Yr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function r1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===H&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==H&&(n=n.concat(e(i,r)))}),n}var bp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new xs,providedIn:"root"});let t=e;return t})(),xs=class{parse(e){let n=new tp(e);return new Gn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ss(e.root,!0)}`,r=a1(e.queryParams),i=typeof e.fragment=="string"?`#${o1(e.fragment)}`:"";return`${n}${r}${i}`}},i1=new xs;function Rc(t){return t.segments.map(e=>hE(e)).join("/")}function Ss(t,e){if(!t.hasChildren())return Rc(t);if(e){let n=t.children[H]?Ss(t.children[H],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==H&&r.push(`${i}:${Ss(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=r1(t,(r,i)=>i===H?[Ss(t.children[H],!1)]:[`${i}:${Ss(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[H]!=null?`${Rc(t)}/${n[0]}`:`${Rc(t)}/(${n.join("//")})`}}function fE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nc(t){return fE(t).replace(/%3B/gi,";")}function o1(t){return encodeURI(t)}function ep(t){return fE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oc(t){return decodeURIComponent(t)}function eE(t){return Oc(t.replace(/\+/g,"%20"))}function hE(t){return`${ep(t.path)}${s1(t.parameters)}`}function s1(t){return Object.entries(t).map(([e,n])=>`;${ep(e)}=${ep(n)}`).join("")}function a1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Nc(n)}=${Nc(i)}`).join("&"):`${Nc(n)}=${Nc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var l1=/^[^\/()?;#]+/;function Kh(t){let e=t.match(l1);return e?e[0]:""}var c1=/^[^\/()?;=#]+/;function u1(t){let e=t.match(c1);return e?e[0]:""}var d1=/^[^=?&#]+/;function f1(t){let e=t.match(d1);return e?e[0]:""}var h1=/^[^&#]+/;function p1(t){let e=t.match(h1);return e?e[0]:""}var tp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[H]=new se(e,n)),r}parseSegment(){let e=Kh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new Qr(Oc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=u1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Kh(this.remaining);i&&(r=i,this.capture(r))}e[Oc(n)]=Oc(r)}parseQueryParam(e){let n=f1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=p1(this.remaining);s&&(r=s,this.capture(r))}let i=eE(n),o=eE(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Kh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=H);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[H]:new se([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}};function pE(t){return t.segments.length>0?new se([],{[H]:t}):t}function gE(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=gE(i);if(r===H&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new se(t.segments,e);return g1(n)}function g1(t){if(t.numberOfChildren===1&&t.children[H]){let e=t.children[H];return new se(t.segments.concat(e.segments),e.children)}return t}function Rs(t){return t instanceof Gn}function m1(t,e,n=null,r=null){let i=mE(t);return vE(i,e,n,r)}function mE(t){let e;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new se(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=pE(r);return e??i}function vE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Xh(i,i,i,n,r);let o=v1(e);if(o.toRoot())return Xh(i,i,new se([],{}),n,r);let s=y1(o,i,t),a=s.processChildren?As(s.segmentGroup,s.index,o.commands):_E(s.segmentGroup,s.index,o.commands);return Xh(i,s.segmentGroup,a,n,r)}function kc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Os(t){return typeof t=="object"&&t!=null&&t.outlets}function Xh(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=n:s=yE(t,e,n);let a=pE(gE(s));return new Gn(a,o,i)}function yE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=yE(o,e,n)}),new se(t.segments,r)}var Fc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kc(r[0]))throw new I(4003,!1);let i=r.find(Os);if(i&&i!==aE(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function v1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Fc(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Fc(n,e,r)}var so=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function y1(t,e,n){if(t.isAbsolute)return new so(e,!0,0);if(!n)return new so(e,!1,NaN);if(n.parent===null)return new so(n,!0,0);let r=kc(t.commands[0])?0:1,i=n.segments.length-1+r;return _1(n,i,t.numberOfDoubleDots)}function _1(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new so(r,!1,i-o)}function C1(t){return Os(t[0])?t[0].outlets:{[H]:t}}function _E(t,e,n){if(t??=new se([],{}),t.segments.length===0&&t.hasChildren())return As(t,e,n);let r=E1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new se(t.segments.slice(0,r.pathIndex),{});return o.children[H]=new se(t.segments.slice(r.pathIndex),t.children),As(o,0,i)}else return r.match&&i.length===0?new se(t.segments,{}):r.match&&!t.hasChildren()?np(t,e,n):r.match?As(t,0,i):np(t,e,n)}function As(t,e,n){if(n.length===0)return new se(t.segments,{});{let r=C1(n),i={};if(Object.keys(r).some(o=>o!==H)&&t.children[H]&&t.numberOfChildren===1&&t.children[H].segments.length===0){let o=As(t.children[H],e,n);return new se(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=_E(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new se(t.segments,i)}}function E1(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Os(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!nE(l,c,s))return o;r+=2}else{if(!nE(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function np(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Os(o)){let l=T1(o.outlets);return new se(r,l)}if(i===0&&kc(n[0])){let l=t.segments[e];r.push(new Qr(l.path,tE(n[0]))),i++;continue}let s=Os(o)?o.outlets[H]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&kc(a)?(r.push(new Qr(s,tE(a))),i+=2):(r.push(new Qr(s,{})),i++)}return new se(r,{})}function T1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=np(new se([],{}),0,r))}),e}function tE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function nE(t,e,n){return t==n.path&&mn(e,n.parameters)}var Ns="imperative",$e=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}($e||{}),Ot=class{constructor(e,n){this.id=e,this.url=n}},ks=class extends Ot{constructor(e,n,r="imperative",i=null){super(e,n),this.type=$e.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zr=class extends Ot{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=$e.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ct=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ct||{}),rp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(rp||{}),Hn=class extends Ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=$e.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jr=class extends Ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=$e.NavigationSkipped}},Fs=class extends Ot{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=$e.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lc=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$e.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ip=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$e.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},op=class extends Ot{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=$e.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sp=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$e.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ap=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$e.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lp=class{constructor(e){this.route=e,this.type=$e.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cp=class{constructor(e){this.route=e,this.type=$e.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},up=class{constructor(e){this.snapshot=e,this.type=$e.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dp=class{constructor(e){this.snapshot=e,this.type=$e.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fp=class{constructor(e){this.snapshot=e,this.type=$e.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hp=class{constructor(e){this.snapshot=e,this.type=$e.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ls=class{},uo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function D1(t,e){return t.providers&&!t._injector&&(t._injector=Ah(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Qt(t){return t.outlet||H}function w1(t,e){let n=t.filter(r=>Qt(r)===e);return n.push(...t.filter(r=>Qt(r)!==e)),n}function Us(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var pp=class{get injector(){return Us(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new $c(this.rootInjector),this.attachRef=null}},$c=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new pp(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(E(dt))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=gp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=gp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=mp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mp(e,this._root).map(n=>n.value)}};function gp(t,e){if(t===e.value)return e;for(let n of e.children){let r=gp(t,n);if(r)return r}return null}function mp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=mp(t,n);if(r.length)return r.unshift(e),r}return[]}var _t=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function oo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Bc=class extends Vc{constructor(e,n){super(e),this.snapshot=n,Sp(this,e)}toString(){return this.snapshot.toString()}};function CE(t){let e=b1(t),n=new Ge([new Qr("",{})]),r=new Ge({}),i=new Ge({}),o=new Ge({}),s=new Ge(""),a=new fo(n,r,o,s,i,H,t,e.root);return a.snapshot=e.root,new Bc(new _t(a,[]),e)}function b1(t){let e={},n={},r={},i="",o=new ao([],e,r,i,n,H,t,null,{});return new Hc("",new _t(o,[]))}var fo=class{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(A(c=>c[Gs]))??M(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(A(e=>co(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(A(e=>co(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jc(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),t.params),data:D(D({},e.data),t.data),resolve:D(D(D(D({},t.data),e.data),i?.data),t._resolvedData)}:r={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},i&&TE(i)&&(r.resolve[Gs]=i.title),r}var ao=class{get title(){return this.data?.[Gs]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=co(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Hc=class extends Vc{constructor(e,n){super(n),this.url=e,Sp(this,n)}toString(){return EE(this._root)}};function Sp(t,e){e.value._routerState=t,e.children.forEach(n=>Sp(t,n))}function EE(t){let e=t.children.length>0?` { ${t.children.map(EE).join(", ")} } `:"";return`${t.value}${e}`}function Qh(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),mn(e.params,n.params)||t.paramsSubject.next(n.params),ZP(e.url,n.url)||t.urlSubject.next(n.url),mn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vp(t,e){let n=mn(t.params,e.params)&&n1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||vp(t.parent,e.parent))}function TE(t){return typeof t.title=="string"||t.title===null}var Ip=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new Me,this.deactivateEvents=new Me,this.attachEvents=new Me,this.detachEvents=new Me,this.parentContexts=_($c),this.location=_(hc),this.changeDetector=_(ar),this.inputBinder=_(Mp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new yp(r,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ft({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rr]});let t=e;return t})(),yp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===fo?this.route:e===$c?this.childContexts:this.parent.get(e,n)}},Mp=new w("");function S1(t,e,n){let r=Vs(t,e._root,n?n._root:void 0);return new Bc(r,e)}function Vs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=I1(t,e,n);return new _t(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Vs(t,a)),s}}let r=M1(e.value),i=e.children.map(o=>Vs(t,o));return new _t(r,i)}}function I1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Vs(t,r,i);return Vs(t,r)})}function M1(t){return new fo(new Ge(t.url),new Ge(t.params),new Ge(t.queryParams),new Ge(t.fragment),new Ge(t.data),t.outlet,t.component,t)}var Bs=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},DE="ngNavigationCancelingError";function Gc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Rs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wE(!1,Ct.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function wE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[DE]=!0,n.cancellationCode=e,n}function A1(t){return bE(t)&&Rs(t.url)}function bE(t){return!!t&&t[DE]}var N1=(t,e,n,r)=>A(i=>(new _p(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),_p=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Qh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=oo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=oo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=oo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=oo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new hp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new dp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Qh(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Qh(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Uc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},lo=class{constructor(e,n){this.component=e,this.route=n}};function P1(t,e,n){let r=t._root,i=e?e._root:null;return Is(r,i,n,[r.value])}function x1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function po(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!t0(t)?t:e.get(t):r}function Is(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=oo(e);return t.children.forEach(s=>{R1(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ps(a,n.getContext(s),i)),i}function R1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=O1(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Uc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Is(t,e,a?a.children:null,r,i):Is(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new lo(a.outlet.component,s))}else s&&Ps(e,a,i),i.canActivateChecks.push(new Uc(r)),o.component?Is(t,null,a?a.children:null,r,i):Is(t,null,n,r,i);return i}function O1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Yr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Yr(t.url,e.url)||!mn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vp(t,e)||!mn(t.queryParams,e.queryParams);case"paramsChange":default:return!vp(t,e)}}function Ps(t,e,n){let r=oo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ps(s,e.children.getContext(o),n):Ps(s,null,n):Ps(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new lo(e.outlet.component,i)):n.canDeactivateChecks.push(new lo(null,i)):n.canDeactivateChecks.push(new lo(null,i))}function $s(t){return typeof t=="function"}function k1(t){return typeof t=="boolean"}function F1(t){return t&&$s(t.canLoad)}function L1(t){return t&&$s(t.canActivate)}function V1(t){return t&&$s(t.canActivateChild)}function B1(t){return t&&$s(t.canDeactivate)}function j1(t){return t&&$s(t.canMatch)}function SE(t){return t instanceof $t||t?.name==="EmptyError"}var Pc=Symbol("INITIAL_VALUE");function ho(){return ve(t=>vl(t.map(e=>e.pipe(Sn(1),Vd(Pc)))).pipe(A(e=>{for(let n of e)if(n!==!0){if(n===Pc)return Pc;if(n===!1||H1(n))return n}return!0}),Qe(e=>e!==Pc),Sn(1)))}function H1(t){return Rs(t)||t instanceof Bs}function G1(t,e){return xe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?M(W(D({},n),{guardsResult:!0})):U1(s,r,i,t).pipe(xe(a=>a&&k1(a)?$1(r,o,t,e):M(a)),A(a=>W(D({},n),{guardsResult:a})))})}function U1(t,e,n,r){return le(t).pipe(xe(i=>X1(i.component,i.route,n,e,r)),Ye(i=>i!==!0,!0))}function $1(t,e,n,r){return le(e).pipe(Xn(i=>bi(z1(i.route.parent,r),W1(i.route,r),K1(t,i.path,n),q1(t,i.route,n))),Ye(i=>i!==!0,!0))}function W1(t,e){return t!==null&&e&&e(new fp(t)),M(!0)}function z1(t,e){return t!==null&&e&&e(new up(t)),M(!0)}function q1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return M(!0);let i=r.map(o=>yl(()=>{let s=Us(e)??n,a=po(o,s),l=L1(a)?a.canActivate(e,t):qt(s,()=>a(e,t));return dr(l).pipe(Ye())}));return M(i).pipe(ho())}function K1(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>x1(s)).filter(s=>s!==null).map(s=>yl(()=>{let a=s.guards.map(l=>{let c=Us(s.node)??n,u=po(l,c),d=V1(u)?u.canActivateChild(r,t):qt(c,()=>u(r,t));return dr(d).pipe(Ye())});return M(a).pipe(ho())}));return M(o).pipe(ho())}function X1(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return M(!0);let s=o.map(a=>{let l=Us(e)??i,c=po(a,l),u=B1(c)?c.canDeactivate(t,e,n,r):qt(l,()=>c(t,e,n,r));return dr(u).pipe(Ye())});return M(s).pipe(ho())}function Q1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return M(!0);let o=i.map(s=>{let a=po(s,t),l=F1(a)?a.canLoad(e,n):qt(t,()=>a(e,n));return dr(l)});return M(o).pipe(ho(),IE(r))}function IE(t){return wd(Se(e=>{if(typeof e!="boolean")throw Gc(t,e)}),A(e=>e===!0))}function Y1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return M(!0);let o=i.map(s=>{let a=po(s,t),l=j1(a)?a.canMatch(e,n):qt(t,()=>a(e,n));return dr(l)});return M(o).pipe(ho(),IE(r))}var js=class{constructor(e){this.segmentGroup=e||null}},Hs=class extends Error{constructor(e){super(),this.urlTree=e}};function io(t){return bn(new js(t))}function Z1(t){return bn(new I(4e3,!1))}function J1(t){return bn(wE(!1,Ct.GuardRejected))}var Cp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return M(r);if(i.numberOfChildren>1||!i.children[H])return Z1(`${e.redirectTo}`);i=i.children[H]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:g,title:y}=i,v=qt(o,()=>a({params:h,data:g,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:y}));if(v instanceof Gn)throw new Hs(v);n=v}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Hs(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Gn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new se(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ep={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ex(t,e,n,r,i){let o=Ap(t,e,n);return o.matched?(r=D1(e,r),Y1(r,e,n,i).pipe(A(s=>s===!0?o:D({},Ep)))):M(o)}function Ap(t,e,n){if(e.path==="**")return tx(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?D({},Ep):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||YP)(n,t,e);if(!i)return D({},Ep);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function tx(t){return{matched:!0,parameters:t.length>0?aE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function rE(t,e,n,r){return n.length>0&&ix(t,n,r)?{segmentGroup:new se(e,rx(r,new se(n,t.children))),slicedSegments:[]}:n.length===0&&ox(t,n,r)?{segmentGroup:new se(t.segments,nx(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new se(t.segments,t.children),slicedSegments:n}}function nx(t,e,n,r){let i={};for(let o of n)if(Wc(t,e,o)&&!r[Qt(o)]){let s=new se([],{});i[Qt(o)]=s}return D(D({},r),i)}function rx(t,e){let n={};n[H]=e;for(let r of t)if(r.path===""&&Qt(r)!==H){let i=new se([],{});n[Qt(r)]=i}return n}function ix(t,e,n){return n.some(r=>Wc(t,e,r)&&Qt(r)!==H)}function ox(t,e,n){return n.some(r=>Wc(t,e,r))}function Wc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function sx(t,e,n,r){return Qt(t)!==r&&(r===H||!Wc(e,n,t))?!1:Ap(e,t,n).matched}function ax(t,e,n){return e.length===0&&!t.children[n]}var Tp=class{};function lx(t,e,n,r,i,o,s="emptyOnly"){return new Dp(t,e,n,r,i,s,o).recognize()}var cx=31,Dp=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Cp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new I(4002,`'${e.segmentGroup}'`)}recognize(){let e=rE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(A(({children:n,rootSnapshot:r})=>{let i=new _t(r,n),o=new Hc("",i),s=m1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ao([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,H,n).pipe(A(r=>({children:r,rootSnapshot:n})),rn(r=>{if(r instanceof Hs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof js?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(A(s=>s instanceof _t?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return le(o).pipe(Xn(s=>{let a=r.children[s],l=w1(n,s);return this.processSegmentGroup(e,l,a,s,i)}),Mi((s,a)=>(s.push(...a),s)),Qn(null),kd(),xe(s=>{if(s===null)return io(r);let a=ME(s);return ux(a),M(a)}))}processSegment(e,n,r,i,o,s,a){return le(n).pipe(Xn(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,a).pipe(rn(c=>{if(c instanceof js)return M(null);throw c}))),Ye(l=>!!l),rn(l=>{if(SE(l))return ax(r,i,o)?M(new Tp):io(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return sx(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):io(i):io(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=Ap(n,i,o);if(!l)return io(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>cx&&(this.allowRedirects=!1));let h=new ao(o,c,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,iE(i),Qt(i),i.component??i._loadedComponent??null,i,oE(i)),g=jc(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let y=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,y).pipe(xe(v=>this.processSegment(e,r,n,v.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=ex(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(ve(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ve(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=l,g=new ao(f,d,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,iE(r),Qt(r),r.component??r._loadedComponent??null,r,oE(r)),y=jc(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let{segmentGroup:v,slicedSegments:T}=rE(n,f,h,c);if(T.length===0&&v.hasChildren())return this.processChildren(u,c,v,g).pipe(A(S=>new _t(g,S)));if(c.length===0&&T.length===0)return M(new _t(g,[]));let x=Qt(r)===o;return this.processSegment(u,c,v,T,x?H:o,!0,g).pipe(A(S=>new _t(g,S instanceof _t?[S]:[])))}))):io(n)))}getChildConfig(e,n,r){return n.children?M({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?M({routes:n._loadedRoutes,injector:n._loadedInjector}):Q1(e,n,r,this.urlSerializer).pipe(xe(i=>i?this.configLoader.loadChildren(e,n).pipe(Se(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):J1(n))):M({routes:[],injector:e})}};function ux(t){t.sort((e,n)=>e.value.outlet===H?-1:n.value.outlet===H?1:e.value.outlet.localeCompare(n.value.outlet))}function dx(t){let e=t.value.routeConfig;return e&&e.path===""}function ME(t){let e=[],n=new Set;for(let r of t){if(!dx(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ME(r.children);e.push(new _t(r.value,i))}return e.filter(r=>!n.has(r))}function iE(t){return t.data||{}}function oE(t){return t.resolve||{}}function fx(t,e,n,r,i,o){return xe(s=>lx(t,e,n,r,s.extractedUrl,i,o).pipe(A(({state:a,tree:l})=>W(D({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function hx(t,e){return xe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return M(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of AE(l))s.add(c);let a=0;return le(s).pipe(Xn(l=>o.has(l)?px(l,r,t,e):(l.data=jc(l,l.parent,t).resolve,M(void 0))),Se(()=>a++),Ii(1),xe(l=>a===s.size?M(n):Xe))})}function AE(t){let e=t.children.map(n=>AE(n)).flat();return[t,...e]}function px(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!TE(i)&&(o[Gs]=i.title),gx(o,t,e,r).pipe(A(s=>(t._resolvedData=s,t.data=jc(t,t.parent,n).resolve,null)))}function gx(t,e,n,r){let i=Jh(t);if(i.length===0)return M({});let o={};return le(i).pipe(xe(s=>mx(t[s],e,n,r).pipe(Ye(),Se(a=>{if(a instanceof Bs)throw Gc(new xs,a);o[s]=a}))),Ii(1),Rd(o),rn(s=>SE(s)?Xe:bn(s)))}function mx(t,e,n,r){let i=Us(e)??r,o=po(t,i),s=o.resolve?o.resolve(e,n):qt(i,()=>o(e,n));return dr(s)}function Yh(t){return ve(e=>{let n=t(e);return n?le(n).pipe(A(()=>e)):M(e)})}var NE=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===H);return i}getResolvedTitleForRoute(r){return r.data[Gs]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(vx),providedIn:"root"});let t=e;return t})(),vx=(()=>{let e=class e extends NE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(E(ZC))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Np=new w("",{providedIn:"root",factory:()=>({})}),yx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Nt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Rt],decls:1,vars:0,template:function(i,o){i&1&&Xt(0,"router-outlet")},dependencies:[Ip],encapsulation:2});let t=e;return t})();function Pp(t){let e=t.children&&t.children.map(Pp),n=e?W(D({},t),{children:e}):D({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=yx),n}var xp=new w(""),_x=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(Nh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return M(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=dr(r.loadComponent()).pipe(A(PE),Se(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),on(()=>{this.componentLoaders.delete(r)})),o=new Ci(i,()=>new Ce).pipe(_i());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return M({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=Cx(i,this.compiler,r,this.onLoadEndListener).pipe(on(()=>{this.childrenLoaders.delete(i)})),a=new Ci(s,()=>new Ce).pipe(_i());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cx(t,e,n,r){return dr(t.loadChildren()).pipe(A(PE),xe(i=>i instanceof as||Array.isArray(i)?M(i):le(e.compileModuleAsync(i))),A(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(xp,[],{optional:!0,self:!0}).flat()),{routes:s.map(Pp),injector:o}}))}function Ex(t){return t&&typeof t=="object"&&"default"in t}function PE(t){return Ex(t)?t.default:t}var Rp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(Tx),providedIn:"root"});let t=e;return t})(),Tx=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dx=new w("");var wx=new w(""),bx=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ce,this.transitionAbortSubject=new Ce,this.configLoader=_(_x),this.environmentInjector=_(dt),this.urlSerializer=_(bp),this.rootContexts=_($c),this.location=_(vs),this.inputBindingEnabled=_(Mp,{optional:!0})!==null,this.titleStrategy=_(NE),this.options=_(Np,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(Rp),this.createViewTransition=_(Dx,{optional:!0}),this.navigationErrorHandler=_(wx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null;let r=o=>this.events.next(new lp(o)),i=o=>this.events.next(new cp(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(W(D(D({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ge({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ns,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qe(s=>s.id!==0),A(s=>W(D({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ve(s=>{let a=!1,l=!1;return M(s).pipe(ve(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ct.SupersededByNewNavigation),Xe;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?W(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new Jr(c.id,this.urlSerializer.serialize(c.rawUrl),f,rp.IgnoredSameUrlNavigation)),c.resolve(!1),Xe}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return M(c).pipe(ve(f=>{let h=this.transitions?.getValue();return this.events.next(new ks(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Xe:Promise.resolve(f)}),fx(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Se(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=W(D({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new Lc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:g,restoredState:y,extras:v}=c,T=new ks(f,this.urlSerializer.serialize(h),g,y);this.events.next(T);let x=CE(this.rootComponentType).snapshot;return this.currentTransition=s=W(D({},c),{targetSnapshot:x,urlAfterRedirects:h,extras:W(D({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,M(s)}else{let f="";return this.events.next(new Jr(c.id,this.urlSerializer.serialize(c.extractedUrl),f,rp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Xe}}),Se(c=>{let u=new ip(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),A(c=>(this.currentTransition=s=W(D({},c),{guards:P1(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),G1(this.environmentInjector,c=>this.events.next(c)),Se(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Gc(this.urlSerializer,c.guardsResult);let u=new op(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Qe(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Ct.GuardRejected),!1)),Yh(c=>{if(c.guards.canActivateChecks.length)return M(c).pipe(Se(u=>{let d=new sp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ve(u=>{let d=!1;return M(u).pipe(hx(this.paramsInheritanceStrategy,this.environmentInjector),Se({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Ct.NoDataFromResolver)}}))}),Se(u=>{let d=new ap(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Yh(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Se(h=>{d.component=h}),A(()=>{})));for(let h of d.children)f.push(...u(h));return f};return vl(u(c.targetSnapshot.root)).pipe(Qn(null),Sn(1))}),Yh(()=>this.afterPreactivation()),ve(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?le(d).pipe(A(()=>s)):M(s)}),A(c=>{let u=S1(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=W(D({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Se(()=>{this.events.next(new Ls)}),N1(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Sn(1),Se({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Bd(this.transitionAbortSubject.pipe(Se(c=>{throw c}))),on(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",Ct.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),rn(c=>{if(l=!0,bE(c))this.events.next(new Hn(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),A1(c)?this.events.next(new uo(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let u=new Fs(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let d=qt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Bs){let{message:f,cancellationCode:h}=Gc(this.urlSerializer,d);this.events.next(new Hn(s.id,this.urlSerializer.serialize(s.extractedUrl),f,h)),this.events.next(new uo(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=r.errorHandler(c);s.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Xe}))}))}cancelNavigationTransition(r,i,o){let s=new Hn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Sx(t){return t!==Ns}var Ix=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(Mx),providedIn:"root"});let t=e;return t})(),wp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Mx=(()=>{let e=class e extends wp{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Yi(e)))(o||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(Ax),providedIn:"root"});let t=e;return t})(),Ax=(()=>{let e=class e extends xE{constructor(){super(...arguments),this.location=_(vs),this.urlSerializer=_(bp),this.options=_(Np,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(Rp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=CE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ks)this.stateMemento=this.createStateMemento();else if(r instanceof Jr)this.rawUrlTree=i.initialUrl;else if(r instanceof Lc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof Ls?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Hn&&(r.code===Ct.GuardRejected||r.code===Ct.NoDataFromResolver)?this.restoreHistory(i):r instanceof Fs?this.restoreHistory(i,!0):r instanceof Zr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof Gn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=D(D({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=D(D({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Yi(e)))(o||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ms=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ms||{});function Nx(t,e){t.events.pipe(Qe(n=>n instanceof Zr||n instanceof Hn||n instanceof Fs||n instanceof Jr),A(n=>n instanceof Zr||n instanceof Jr?Ms.COMPLETE:(n instanceof Hn?n.code===Ct.Redirect||n.code===Ct.SupersededByNewNavigation:!1)?Ms.REDIRECTING:Ms.FAILED),Qe(n=>n!==Ms.REDIRECTING),Sn(1)).subscribe(()=>{e()})}function Px(t){throw t}var xx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},fr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=_(mc),this.stateManager=_(xE),this.options=_(Np,{optional:!0})||{},this.pendingTasks=_(hn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(bx),this.urlSerializer=_(bp),this.location=_(vs),this.urlHandlingStrategy=_(Rp),this._events=new Ce,this.errorHandler=this.options.errorHandler||Px,this.navigated=!1,this.routeReuseStrategy=_(Ix),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(xp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(Mp,{optional:!0}),this.eventsSubscription=new be,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Hn&&i.code!==Ct.Redirect&&i.code!==Ct.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Zr)this.navigated=!0;else if(i instanceof uo){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c=D({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Sx(o.source)},a);this.scheduleNavigation(l,Ns,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}kx(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ns,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=D({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Pp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=D(D({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=mE(h)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),f=this.currentUrlTree.root}return vE(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Rs(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ns,null,i)}navigate(r,i={skipLocationChange:!1}){return Ox(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=D({},xx):i===!1?o=D({},Rx):o=i,Rs(r))return JC(this.currentUrlTree,r,o);let s=this.parseUrl(r);return JC(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});let d=this.pendingTasks.add();return Nx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ox(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new I(4008,!1)}function kx(t){return!(t instanceof Ls)&&!(t instanceof uo)}var Fx=new w("");function RE(t,...e){return Ur([{provide:xp,multi:!0,useValue:t},[],{provide:fo,useFactory:Lx,deps:[fr]},{provide:vc,multi:!0,useFactory:Vx},e.map(n=>n.\u0275providers)])}function Lx(t){return t.routerState.root}function Vx(){let t=_(Mn);return e=>{let n=t.get(Kr);if(e!==n.components[0])return;let r=t.get(fr),i=t.get(Bx);t.get(jx)===1&&r.initialNavigation(),t.get(Hx,null,z.Optional)?.setUpPreloading(),t.get(Fx,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Bx=new w("",{factory:()=>new Ce}),jx=new w("",{providedIn:"root",factory:()=>1});var Hx=new w("");var HE=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(te(or),te(Rn))},e.\u0275dir=ft({type:e});let t=e;return t})(),GE=(()=>{let e=class e extends HE{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Yi(e)))(o||e)}})(),e.\u0275dir=ft({type:e,features:[pn]});let t=e;return t})(),yo=new w("");var Ux={provide:yo,useExisting:dn(()=>_o),multi:!0};function $x(){let t=Bn()?Bn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Wx=new w(""),_o=(()=>{let e=class e extends HE{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!$x())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(te(or),te(Rn),te(Wx,8))},e.\u0275dir=ft({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Pt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[sr([Ux]),pn]});let t=e;return t})();function hr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function UE(t){return t!=null&&typeof t.length=="number"}var Vp=new w(""),Bp=new w(""),zx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,vo=class{static min(e){return qx(e)}static max(e){return Kx(e)}static required(e){return Xx(e)}static requiredTrue(e){return Qx(e)}static email(e){return Yx(e)}static minLength(e){return Zx(e)}static maxLength(e){return Jx(e)}static pattern(e){return eR(e)}static nullValidator(e){return $E(e)}static compose(e){return QE(e)}static composeAsync(e){return ZE(e)}};function qx(t){return e=>{if(hr(e.value)||hr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Kx(t){return e=>{if(hr(e.value)||hr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Xx(t){return hr(t.value)?{required:!0}:null}function Qx(t){return t.value===!0?null:{required:!0}}function Yx(t){return hr(t.value)||zx.test(t.value)?null:{email:!0}}function Zx(t){return e=>hr(e.value)||!UE(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Jx(t){return e=>UE(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function eR(t){if(!t)return $E;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(hr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function $E(t){return null}function WE(t){return t!=null}function zE(t){return qr(t)?le(t):t}function qE(t){let e={};return t.forEach(n=>{e=n!=null?D(D({},e),n):e}),Object.keys(e).length===0?null:e}function KE(t,e){return e.map(n=>n(t))}function tR(t){return!t.validate}function XE(t){return t.map(e=>tR(e)?e:n=>e.validate(n))}function QE(t){if(!t)return null;let e=t.filter(WE);return e.length==0?null:function(n){return qE(KE(n,e))}}function YE(t){return t!=null?QE(XE(t)):null}function ZE(t){if(!t)return null;let e=t.filter(WE);return e.length==0?null:function(n){let r=KE(n,e).map(zE);return xd(r).pipe(A(qE))}}function JE(t){return t!=null?ZE(XE(t)):null}function OE(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function eT(t){return t._rawValidators}function tT(t){return t._rawAsyncValidators}function Op(t){return t?Array.isArray(t)?t:[t]:[]}function qc(t,e){return Array.isArray(t)?t.includes(e):t===e}function kE(t,e){let n=Op(e);return Op(t).forEach(i=>{qc(n,i)||n.push(i)}),n}function FE(t,e){return Op(e).filter(n=>!qc(t,n))}var Kc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=YE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=JE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ei=class extends Kc{get formDirective(){return null}get path(){return null}},ti=class extends Kc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Xc=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},nR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},U7=W(D({},nR),{"[class.ng-submitted]":"isSubmitted"}),Co=(()=>{let e=class e extends Xc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(te(ti,2))},e.\u0275dir=ft({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&pc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[pn]});let t=e;return t})(),nT=(()=>{let e=class e extends Xc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(te(ei,10))},e.\u0275dir=ft({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&pc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[pn]});let t=e;return t})();var Ws="VALID",zc="INVALID",go="PENDING",zs="DISABLED",pr=class{},Qc=class extends pr{constructor(e,n){super(),this.value=e,this.source=n}},qs=class extends pr{constructor(e,n){super(),this.pristine=e,this.source=n}},Ks=class extends pr{constructor(e,n){super(),this.touched=e,this.source=n}},mo=class extends pr{constructor(e,n){super(),this.status=e,this.source=n}},kp=class extends pr{constructor(e){super(),this.source=e}},Fp=class extends pr{constructor(e){super(),this.source=e}};function rT(t){return(tu(t)?t.validators:t)||null}function rR(t){return Array.isArray(t)?YE(t):t||null}function iT(t,e){return(tu(e)?e.asyncValidators:t)||null}function iR(t){return Array.isArray(t)?JE(t):t||null}function tu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function oR(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[n])throw new I(1001,"")}function sR(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new I(1002,"")})}var Yc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ms(()=>this.statusReactive()),this.statusReactive=zr(void 0),this._pristine=ms(()=>this.pristineReactive()),this.pristineReactive=zr(!0),this._touched=ms(()=>this.touchedReactive()),this.touchedReactive=zr(!1),this._events=new Ce,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Vn(this.statusReactive)}set status(e){Vn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ws}get invalid(){return this.status===zc}get pending(){return this.status==go}get disabled(){return this.status===zs}get enabled(){return this.status!==zs}get pristine(){return Vn(this.pristineReactive)}set pristine(e){Vn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Vn(this.touchedReactive)}set touched(e){Vn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FE(e,this._rawAsyncValidators))}hasValidator(e){return qc(this._rawValidators,e)}hasAsyncValidator(e){return qc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(W(D({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ks(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ks(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(W(D({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new qs(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new qs(!0,r))}markAsPending(e={}){this.status=go;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(W(D({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=zs,this.errors=null,this._forEachChild(i=>{i.disable(W(D({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qc(this.value,r)),this._events.next(new mo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(D({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ws,this._forEachChild(r=>{r.enable(W(D({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(W(D({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ws||this.status===go)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qc(this.value,n)),this._events.next(new mo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(W(D({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zs:Ws}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=go,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=zE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new mo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?zs:this.errors?zc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(go)?go:this._anyControlsHaveStatus(zc)?zc:Ws}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new qs(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ks(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=rR(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=iR(this._rawAsyncValidators)}},Zc=class extends Yc{constructor(e,n,r){super(rT(n),iT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){sR(this,!0,e),Object.keys(e).forEach(r=>{oR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var nu=new w("CallSetDisabledState",{providedIn:"root",factory:()=>ru}),ru="always";function oT(t,e){return[...e.path,t]}function Lp(t,e,n=ru){jp(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),lR(t,e),uR(t,e),cR(t,e),aR(t,e)}function LE(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),eu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Jc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function aR(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function jp(t,e){let n=eT(t);e.validator!==null?t.setValidators(OE(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=tT(t);e.asyncValidator!==null?t.setAsyncValidators(OE(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Jc(e._rawValidators,i),Jc(e._rawAsyncValidators,i)}function eu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=eT(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=tT(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Jc(e._rawValidators,r),Jc(e._rawAsyncValidators,r),n}function lR(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&sT(t,e)})}function cR(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&sT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function sT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uR(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function dR(t,e){t==null,jp(t,e)}function fR(t,e){return eu(t,e)}function aT(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function hR(t){return Object.getPrototypeOf(t.constructor)===GE}function pR(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function lT(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===_o?n=o:hR(o)?r=o:i=o}),i||r||n||null}function gR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function VE(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function BE(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Xs=class extends Yc{constructor(e=null,n,r){super(rT(n),iT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(BE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){VE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){VE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){BE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var mR=t=>t instanceof Xs;var vR={provide:ti,useExisting:dn(()=>Qs)},jE=Promise.resolve(),Qs=(()=>{let e=class e extends ti{constructor(r,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Xs,this._registered=!1,this.name="",this.update=new Me,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=lT(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),aT(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Lp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){jE.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&_c(i);jE.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?oT(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(te(ei,9),te(Vp,10),te(Bp,10),te(yo,10),te(ar,8),te(nu,8))},e.\u0275dir=ft({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[sr([vR]),pn,rr]});let t=e;return t})(),cT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ft({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var yR={provide:yo,useExisting:dn(()=>Hp),multi:!0},Hp=(()=>{let e=class e extends GE{writeValue(r){this.setProperty("value",parseFloat(r))}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Yi(e)))(o||e)}})(),e.\u0275dir=ft({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,o){i&1&&Pt("change",function(a){return o.onChange(a.target.value)})("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[sr([yR]),pn]});let t=e;return t})(),uT=new w("");var _R={provide:ei,useExisting:dn(()=>Gp)},Gp=(()=>{let e=class e extends ei{get submitted(){return Vn(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=ms(()=>this._submittedReactive()),this._submittedReactive=zr(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Me,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(eu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Lp(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){LE(r.control||null,r,!1),gR(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),pR(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new kp(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new Fp(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(LE(i||null,r),mR(o)&&(Lp(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);dR(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&fR(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jp(this.form,this),this._oldForm&&eu(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(te(Vp,10),te(Bp,10),te(nu,8))},e.\u0275dir=ft({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&Pt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[sr([_R]),pn,rr]});let t=e;return t})();var CR={provide:ti,useExisting:dn(()=>Up)},Up=(()=>{let e=class e extends ti{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Me,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=lT(this,s)}ngOnChanges(r){this._added||this._setUpControl(),aT(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return oT(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(te(ei,13),te(Vp,10),te(Bp,10),te(yo,10),te(uT,8))},e.\u0275dir=ft({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[sr([CR]),pn,rr]});let t=e;return t})();var dT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=nt({type:e}),e.\u0275inj=tt({});let t=e;return t})();var iu=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:nu,useValue:r.callSetDisabledState??ru}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=nt({type:e}),e.\u0275inj=tt({imports:[dT]});let t=e;return t})(),fT=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:uT,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:nu,useValue:r.callSetDisabledState??ru}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=nt({type:e}),e.\u0275inj=tt({imports:[dT]});let t=e;return t})();function ER(t,e){if(t&1&&(ye(0,"span"),Fe(1),fe()),t&2){let n=e.$implicit,r=xt();ke(),Ji(r.reverse?r.sliderLabels[r.sliderLabels.length-1-n]:n)}}var hT=(()=>{class t{reverse=!1;onChange=()=>{};onTouched=()=>{};sliderValue=0;maxValue=10;get value(){return this.reverse?this.maxValue-this.sliderValue:this.sliderValue}get sliderLabels(){return Array.from({length:this.maxValue+1},(n,r)=>r)}writeValue(n){this.sliderValue=this.reverse?this.maxValue-n:n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}onInput(n){let r=n.target;this.sliderValue=r.value?parseInt(r.value,10):0,this.onChange(this.value)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Nt({type:t,selectors:[["app-slider"]],inputs:{reverse:"reverse"},standalone:!0,features:[sr([{provide:yo,useExisting:dn(()=>t),multi:!0}]),Rt],decls:5,vars:2,consts:[[1,"slider-container"],["type","range","id","slider","min","0",3,"ngModelChange","input","ngModel","max"],[1,"slider-labels"]],template:function(r,i){r&1&&(ye(0,"div",0)(1,"input",1),to("ngModelChange",function(s){return gs(i.sliderValue,s)||(i.sliderValue=s),s}),Pt("input",function(s){return i.onInput(s)}),fe()(),ye(2,"div",2),oC(3,ER,2,1,"span",null,iC),fe()),r&2&&(ke(),eo("ngModel",i.sliderValue),Fn("max",i.maxValue),ke(2),sC(i.sliderLabels))},dependencies:[iu,_o,Hp,Co,Qs],styles:[".slider-container[_ngcontent-%COMP%]{padding:.5rem}.slider-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.slider-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem}.slider-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-align:center}"]})}return t})();var ou=function(t){return t.WERKBEOORDELING="werkbeoordeling",t}(ou||{});var TR=["*"],Ys=class{},DR=(()=>{let e=class e extends Ys{constructor(r){super(),this.http=r}getSvg(r){return this.http.get(r,{responseType:"text"})}};e.\u0275fac=function(i){return new(i||e)(E(jh))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),wR=new w("SERVER_URL"),su=(()=>{let e=class e{constructor(){this.loader=_(Ys),this.serverUrl=_(wR,{optional:!0}),this.document=_(Ue),this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map}addSvg(r,i){if(!this.iconsByUrl.has(r)){let o=this.document.createElement("DIV");o.innerHTML=i;let s=o.querySelector("svg");this.iconsByUrl.set(r,s)}}loadSvg(r,i=r){if(this.serverUrl&&r.match(/^(http(s)?):/)===null&&(r=this.serverUrl+r,i=r),this.iconsByUrl.has(i))return M(this.iconsByUrl.get(i));if(this.iconsLoadingByUrl.has(i))return this.iconsLoadingByUrl.get(i);let o=this.loader.getSvg(r).pipe(A(s=>{let a=this.document.createElement("DIV");return a.innerHTML=s,a.querySelector("svg")}),Se(s=>this.iconsByUrl.set(i,s)),rn(s=>(console.error(s),bn(s))),on(()=>this.iconsLoadingByUrl.delete(i)),xr());return this.iconsLoadingByUrl.set(i,o),o}getSvgByName(r){return this.iconsByUrl.has(r)?M(this.iconsByUrl.get(r)):this.iconsLoadingByUrl.has(r)?this.iconsLoadingByUrl.get(r):bn(`No svg with name '${r}' has been loaded`)}unloadSvg(r){this.iconsByUrl.has(r)&&this.iconsByUrl.delete(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function bR(t){return t||new su}var SR={provide:su,deps:[[new Gr,new tc,su]],useFactory:bR},au=class{constructor(){this.loaded=!1}},pT=(()=>{let e=class e{constructor(){this.element=_(Rn),this.differs=_(yc),this.renderer=_(or),this.iconReg=_(su),this.src=fn(),this.name=fn(),this.stretch=fn(!1),this.applyClass=fn(!1),this.svgClass=fn(),this.klass=fn(void 0,{alias:"class"}),this.viewBox=fn(),this.svgAriaLabel=fn(),this.svg=zr(0),this.svgStyle=fn(),this.helper=new au,gn(()=>{(this.src()||this.name())&&(this.destroy(),this.init(this.src(),this.name()))},{allowSignalWrites:!0}),gn(()=>{let o=this.viewBox();this.svg()&&this.updateViewBox(o)}),gn(()=>{let o=this.svgStyle()||{};this.svg()&&this.applyChanges(this.helper.differ.diff(o))}),gn(()=>{let o=this.svg();this.applyClass()?this.setClass(this.elemSvg,null,this.klass()):this.setClass(this.elemSvg,this.klass(),null)});let r;gn(()=>{let o=this.svg();this.setClass(this.elemSvg,r,this.svgClass()),r=this.svgClass()});let i;gn(()=>{let o=this.svg(),s=this.element.nativeElement;this.setClass(s,i,this.klass()),this.setClass(this.elemSvg,i,this.applyClass()?this.klass():null),i=this.klass()}),gn(()=>{let o=this.svg();this.doAria(this.svgAriaLabel())}),gn(()=>{let o=this.svg();this.stylize(this.stretch())})}ngOnDestroy(){this.destroy()}get elemSvg(){return this.element.nativeElement.firstChild}init(r,i){if(r&&i){let o=this.iconReg.loadSvg(r,i);o&&(this.helper.icnSub=o.subscribe(s=>this.initSvg(s)))}else if(i){let o=this.iconReg.getSvgByName(i);o&&(this.helper.icnSub=o.subscribe(s=>this.initSvg(s)))}else if(r){let o=this.iconReg.loadSvg(r);o&&(this.helper.icnSub=o.subscribe(s=>this.initSvg(s)))}else this.element.nativeElement.innerHTML="",this.svg.set(0)}initSvg(r){!this.helper.loaded&&r&&this.setSvg(r)}destroy(){this.helper.icnSub?.unsubscribe(),this.helper=new au,this.helper.differ=this.differs.find({}).create()}setSvg(r){if(!this.helper.loaded&&r){this.helper.svg=r;let i=r.cloneNode(!0),o=this.element.nativeElement;o.innerHTML="",this.renderer.appendChild(o,i),this.helper.loaded=!0,this.copyNgContentAttribute(o,i),this.svg.update(s=>s+1)}}updateViewBox(r){if(r){let i=this.elemSvg;if(r==="auto"){let o=i.getAttribute("width"),s=i.getAttribute("height");if(s&&o){let a=`0 0 ${o} ${s}`;this.renderer.setAttribute(i,"viewBox",a),this.renderer.removeAttribute(i,"width"),this.renderer.removeAttribute(i,"height")}}else r!==""&&(this.renderer.setAttribute(i,"viewBox",r),this.renderer.removeAttribute(i,"width"),this.renderer.removeAttribute(i,"height"))}}copyNgContentAttribute(r,i){let o=r.attributes,s=o.length;for(let a=0;a<s;a+=1){let l=o.item(a);if(l&&l.name.startsWith("_ngcontent")){this.setNgContentAttribute(i,l.name);break}}}setNgContentAttribute(r,i){this.renderer.setAttribute(r,i,"");let o=r.childNodes.length;for(let s=0;s<o;s+=1){let a=r.childNodes[s];a instanceof Element&&this.setNgContentAttribute(a,i)}}stylize(r){if(this.helper.svg){let i=this.element.nativeElement.firstChild;r===!0?this.renderer.setAttribute(i,"preserveAspectRatio","none"):r===!1&&this.renderer.removeAttribute(i,"preserveAspectRatio")}}applyChanges(r){r&&(r.forEachRemovedItem(i=>this.setStyle(i.key,null)),r.forEachAddedItem(i=>this.setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this.setStyle(i.key,i.currentValue)))}setStyle(r,i){let[o,s]=r.split(".");i=i!==null&&s?`${i}${s}`:i;let a=this.elemSvg;i!==null?this.renderer.setStyle(a,o,i):this.renderer.removeStyle(a,o)}setClass(r,i,o){if(r){if(i){let s=(Array.isArray(i)?i:i.split(" ")).filter(a=>a);for(let a of s)this.renderer.removeClass(r,a)}if(o){let s=(Array.isArray(o)?o:o.split(" ")).filter(a=>a);for(let a of s)this.renderer.addClass(r,a)}}}doAria(r){let i=this.element.nativeElement.firstChild;i&&!(r===void 0&&i.hasAttribute("aria-label"))&&(r===""?(this.renderer.setAttribute(i,"aria-hidden","true"),this.renderer.removeAttribute(i,"aria-label")):(this.renderer.removeAttribute(i,"aria-hidden"),this.renderer.setAttribute(i,"aria-label",r)))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Nt({type:e,selectors:[["svg-icon"]],inputs:{src:[1,"src"],name:[1,"name"],stretch:[1,"stretch"],applyClass:[1,"applyClass"],svgClass:[1,"svgClass"],klass:[1,"class","klass"],viewBox:[1,"viewBox"],svgAriaLabel:[1,"svgAriaLabel"],svgStyle:[1,"svgStyle"]},standalone:!0,features:[Rt],ngContentSelectors:TR,decls:1,vars:0,template:function(i,o){i&1&&(cC(),uC(0))},encapsulation:2,changeDetection:0});let t=e;return t})();var gT=(()=>{let e=class e{static forRoot(r={}){return{ngModule:e,providers:[SR,r.loader||{provide:Ys,useClass:DR}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=nt({type:e}),e.\u0275inj=tt({});let t=e;return t})();var IR="firebase",MR="10.12.3";Kn(IR,MR,"app");var Zs=new Nn("ANGULARFIRE2_VERSION");var AR=(t,e)=>{let n=e?[e]:Av(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ni=class{constructor(){return AR(NR)}},NR="app-check";function Wp(){}var lu=class{zone;delegate;constructor(e,n=Md){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},zp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wp,{},Wp,Wp)),n.pipe(Se({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},cu=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new lu(Zone.current)),this.insideAngular=n.run(()=>new lu(Zone.current,Qo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(E(oe))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PR(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Un(t){return xR(PR())(t)}function xR(t){return function(n){return n=n.lift(new zp(t.ngZone)),n.pipe(Ut(t.outsideAngular),St(t.insideAngular))}}var kR=new Map,FR={activated:!1,tokenObservers:[]},LR={initialized:!1,enabled:!1};function Yt(t){return kR.get(t)||Object.assign({},FR)}function ET(){return LR}var VR="https://content-firebaseappcheck.googleapis.com/v1";var BR="exchangeDebugToken",vT={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},D8=24*60*60*1e3;var Kp=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return ae(this,null,function*(){this.stop();try{this.pending=new Oe,this.pending.promise.catch(n=>{}),yield jR(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Oe,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function jR(t){return new Promise(e=>{setTimeout(e,t)})}var HR={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},gr=new Ev("appCheck","AppCheck",HR);function TT(t){if(!Yt(t).activated)throw gr.create("use-before-activation",{appName:t.name})}function DT(r,i){return ae(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(h){throw gr.create("fetch-network-error",{originalErrorMessage:h?.message})}if(l.status!==200)throw gr.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(h){throw gr.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw gr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function wT(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${VR}/projects/${n}/apps/${r}:${BR}?key=${i}`,body:{debug_token:e}}}var GR="firebase-app-check-database",UR=1,Xp="firebase-app-check-store";var uu=null;function $R(){return uu||(uu=new Promise((t,e)=>{try{let n=indexedDB.open(GR,UR);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(gr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Xp,{keyPath:"compositeKey"})}}}catch(n){e(gr.create("storage-open",{originalErrorMessage:n?.message}))}}),uu)}function WR(t,e){return zR(qR(t),e)}function zR(t,e){return ae(this,null,function*(){let r=(yield $R()).transaction(Xp,"readwrite"),o=r.objectStore(Xp).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(gr.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function qR(t){return`${t.options.appId}-${t.name}`}var Qp=new hi("@firebase/app-check");function qp(t,e){return Cv()?WR(t,e).catch(n=>{Qp.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function bT(){return ET().enabled}function ST(){return ae(this,null,function*(){let t=ET();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var KR={error:"UNKNOWN_ERROR"};function XR(t){return Fa.encodeString(JSON.stringify(t),!1)}function Yp(t,e=!1){return ae(this,null,function*(){let n=t.app;TT(n);let r=Yt(n),i=r.token,o;if(i&&!Js(i)&&(r.token=void 0,i=void 0),!i){let l=yield r.cachedTokenPromise;l&&(Js(l)?i=l:yield qp(n,void 0))}if(!e&&i&&Js(i))return{token:i.token};let s=!1;if(bT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=DT(wT(n,yield ST()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let l=yield r.exchangeTokenPromise;return yield qp(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Yt(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Qp.warn(l.message):Qp.error(l),o=l}let a;return i?o?Js(i)?a={token:i.token,internalError:o}:a=_T(o):(a={token:i.token},r.token=i,yield qp(n,i)):a=_T(o),s&&JR(n,a),a})}function QR(t){return ae(this,null,function*(){let e=t.app;TT(e);let{provider:n}=Yt(e);if(bT()){let r=yield ST(),{token:i}=yield DT(wT(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function YR(t,e,n,r){let{app:i}=t,o=Yt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Js(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),yT(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>yT(t))}function IT(t,e){let n=Yt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function yT(t){let{app:e}=t,n=Yt(e),r=n.tokenRefresher;r||(r=ZR(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ZR(t){let{app:e}=t;return new Kp(()=>ae(this,null,function*(){let n=Yt(e),r;if(n.token?r=yield Yp(t,!0):r=yield Yp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Yt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},vT.RETRIAL_MIN_WAIT,vT.RETRIAL_MAX_WAIT)}function JR(t,e){let n=Yt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Js(t){return t.expireTimeMillis-Date.now()>0}function _T(t){return{token:XR(KR),error:t}}var Zp=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Yt(this.app);for(let n of e)IT(this.app,n.next);return Promise.resolve()}};function eO(t,e){return new Zp(t,e)}function tO(t){return{getToken:e=>Yp(t,e),getLimitedUseToken:()=>QR(t),addTokenListener:e=>YR(t,"INTERNAL",e),removeTokenListener:e=>IT(t.app,e)}}var nO="@firebase/app-check",rO="0.8.5";var iO="app-check",CT="app-check-internal";function oO(){$o(new wn(iO,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return eO(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(CT).initialize()})),$o(new wn(CT,t=>{let e=t.getProvider("app-check").getImmediate();return tO(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Kn(nO,rO)}oO();var sO=["localhost","0.0.0.0","127.0.0.1"],k8=typeof window<"u"&&sO.includes(window.location.hostname);var aO="firebase",lO="10.12.3";gt.registerVersion(aO,lO,"app-compat");var cO=["ngOnDestroy"],NT=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(cO.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return r?.spy?.apply&&r.spy.apply(o,c,d),d})})})});var du=class{constructor(e){return e}},Eo=new w("angularfire2.app.options"),To=new w("angularfire2.app.name");function ea(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=gt.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>gt.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;uO("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new du(s)}var uO=(t,...e)=>{xh()&&typeof console<"u"&&console[t](...e)},dO={provide:du,useFactory:ea,deps:[Eo,oe,[new Gr,To]]},PT=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Eo,useValue:n},{provide:To,useValue:r}]}}constructor(n){gt.registerVersion("angularfire",Zs.full,"core"),gt.registerVersion("angularfire",Zs.full,"app-compat"),gt.registerVersion("angular",fC.full,n.toString())}static \u0275fac=function(r){return new(r||t)(E(ze))};static \u0275mod=nt({type:t});static \u0275inj=tt({providers:[dO]})}return t})();function fu(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return fO(i,s)||(AT("error",`${e} was already initialized on the ${n} Firebase App with different settings.${hO?" You may need to reload as Firebase is not HMR aware.":""}`),AT("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function fO(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var hO=typeof module<"u"&&!!module.hot,AT=(t,...e)=>{xh()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Jp=new w("angularfire2.auth.use-emulator"),eg=new w("angularfire2.auth.settings"),tg=new w("angularfire2.auth.tenant-id"),ng=new w("angularfire2.auth.langugage-code"),rg=new w("angularfire2.auth.use-device-language"),ig=new w("angularfire.auth.persistence"),og=(t,e,n,r,i,o,s,a)=>fu(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]),hu=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,l,c,u,d,f,h){let g=new Ce,y=M(void 0).pipe(St(s.outsideAngular),ve(()=>o.runOutsideAngular(()=>import("./chunk-AY2MJX7P.js"))),A(()=>ea(n,o,r)),A(v=>og(v,o,a,c,u,d,l,f)),Cl({bufferSize:1,refCount:!1}));if(ro(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=M(null);else{y.pipe(Ye()).subscribe();let v=y.pipe(ve(S=>S.getRedirectResult().then(j=>j,()=>null)),Un,Cl({bufferSize:1,refCount:!1})),T=y.pipe(ve(S=>new G(j=>({unsubscribe:o.runOutsideAngular(()=>S.onAuthStateChanged(Te=>j.next(Te),Te=>j.error(Te),()=>j.complete()))})))),x=y.pipe(ve(S=>new G(j=>({unsubscribe:o.runOutsideAngular(()=>S.onIdTokenChanged(Te=>j.next(Te),Te=>j.error(Te),()=>j.complete()))}))));this.authState=v.pipe(El(T),Ut(s.outsideAngular),St(s.insideAngular)),this.user=v.pipe(El(x),Ut(s.outsideAngular),St(s.insideAngular)),this.idToken=this.user.pipe(ve(S=>S?le(S.getIdToken()):M(null))),this.idTokenResult=this.user.pipe(ve(S=>S?le(S.getIdTokenResult()):M(null))),this.credential=Si(v,g,this.authState.pipe(Qe(S=>!S))).pipe(A(S=>S?.user?S:null),Ut(s.outsideAngular),St(s.insideAngular))}return NT(this,y,o,{spy:{apply:(v,T,x)=>{(v.startsWith("signIn")||v.startsWith("createUser"))&&x.then(S=>g.next(S))}}})}static \u0275fac=function(r){return new(r||t)(E(Eo),E(To,8),E(ze),E(oe),E(cu),E(Jp,8),E(eg,8),E(tg,8),E(ng,8),E(rg,8),E(ig,8),E(ni,8))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var RT="@firebase/database",OT="1.0.6";var vm="";function ym(t){vm=t}var hg=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ae(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:La(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var pg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return bt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var dD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new hg(e)}}catch{}return new pg},ii=dD("localStorage"),gg=dD("sessionStorage");var So=new hi("@firebase/database"),fD=function(){let t=1;return function(){return t++}}(),hD=function(t){let e=Sv(t),n=new bv;n.update(e);let r=n.digest();return Fa.encodeByteArray(r)},wa=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=wa.apply(null,r):typeof r=="object"?e+=Ae(r):e+=r,e+=" "}return e},oi=null,kT=!0,pD=function(t,e){C(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(So.logLevel=Iv.VERBOSE,oi=So.log.bind(So),e&&gg.set("logging_enabled",!0)):typeof t=="function"?oi=t:(oi=null,gg.remove("logging_enabled"))},Ve=function(...t){if(kT===!0&&(kT=!1,oi===null&&gg.get("logging_enabled")===!0&&pD(!0)),oi){let e=wa.apply(null,t);oi(e)}},ba=function(t){return function(...e){Ve(t,...e)}},mg=function(...t){let e="FIREBASE INTERNAL ERROR: "+wa(...t);So.error(e)},_n=function(...t){let e=`FIREBASE FATAL ERROR: ${wa(...t)}`;throw So.error(e),new Error(e)},qe=function(...t){let e="FIREBASE WARNING: "+wa(...t);So.warn(e)},pO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},gO=function(t){if(tn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},_r="[MIN_NAME]",$n="[MAX_NAME]",ai=function(t,e){if(t===e)return 0;if(t===_r||e===$n)return-1;if(e===_r||t===$n)return 1;{let n=FT(t),r=FT(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},mO=function(t,e){return t===e?0:t<e?-1:1},ta=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ae(e))},_m=function(t){if(typeof t!="object"||t===null)return Ae(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ae(e[r]),n+=":",n+=_m(t[e[r]]);return n+="}",n},gD=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Be(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var mD=function(t){C(!Hu(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},vO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},yO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _O(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var CO=new RegExp("^-?(0*)\\d{1,10}$"),EO=-2147483648,TO=2147483647,FT=function(t){if(CO.test(t)){let e=Number(t);if(e>=EO&&e<=TO)return e}return null},ko=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw qe("Exception was thrown by user callback.",n),e},Math.floor(0))}},DO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},oa=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var vg=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){qe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var yg=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qe(e)}},sa=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),gu="5",vD="v",yD="s",_D="r",CD="f",ED=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,TD="ls",DD="p",_g="ac",wD="websocket",bD="long_polling";var mu=class{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ii.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ii.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function wO(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function SD(t,e,n){C(typeof e=="string","typeof type must == string"),C(typeof n=="object","typeof params must == object");let r;if(e===wD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===bD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);wO(t)&&(n.ns=t.namespace);let i=[];return Be(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Cg=class{constructor(){this.counters_={}}incrementCounter(e,n=1){bt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return vv(this.counters_)}};var sg={},ag={};function Cm(t){let e=t.toString();return sg[e]||(sg[e]=new Cg),sg[e]}function bO(t,e){let n=t.toString();return ag[n]||(ag[n]=e()),ag[n]}var Eg=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ko(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var LT="start",SO="close",IO="pLPCommand",MO="pRTLPCB",ID="id",MD="pw",AD="ser",AO="cb",NO="seg",PO="ts",xO="d",RO="dframe",ND=1870,PD=30,OO=ND-PD,kO=25e3,FO=3e4,ua=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ba(e),this.stats_=Cm(n),this.urlFn=l=>(this.appCheckToken&&(l[_g]=this.appCheckToken),SD(n,bD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Eg(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FO)),gO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Tg((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===LT)this.id=a,this.password=l;else if(s===SO)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[LT]="t",r[AD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[AO]=this.scriptTagHolder.uniqueCallbackIdentifier),r[vD]=gu,this.transportSessionId&&(r[yD]=this.transportSessionId),this.lastSessionId&&(r[TD]=this.lastSessionId),this.applicationId&&(r[DD]=this.applicationId),this.appCheckToken&&(r[_g]=this.appCheckToken),typeof location<"u"&&location.hostname&&ED.test(location.hostname)&&(r[_D]=CD);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return tn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!vO()&&!yO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=mv(n),i=gD(r,OO);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(tn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[RO]="t",r[ID]=e,r[MD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Ae(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Tg=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,tn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=fD(),window[IO+this.uniqueCallbackIdentifier]=e,window[MO+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ve("frame writing exception"),a.stack&&Ve(a.stack),Ve(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ve("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[ID]=this.myID,e[MD]=this.myPW,e[AD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+PD+r.length<=ND;){let s=this.pendingSegs.shift();r=r+"&"+NO+i+"="+s.seg+"&"+PO+i+"="+s.ts+"&"+xO+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(kO)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){tn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ve("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var LO=16384,VO=45e3,vu=null;typeof MozWebSocket<"u"?vu=MozWebSocket:typeof WebSocket<"u"&&(vu=WebSocket);var wo=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ba(this.connId),this.stats_=Cm(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[vD]=gu,!tn()&&typeof location<"u"&&location.hostname&&ED.test(location.hostname)&&(a[_D]=CD),r&&(a[yD]=r),i&&(a[TD]=i),o&&(a[_g]=o),s&&(a[DD]=s),SD(n,wD,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ii.set("previous_websocket_failure",!0);try{let i;if(tn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${gu}/${vm}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new vu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&vu!==null&&!t.forceDisallow_}static previouslyFailed(){return ii.isInMemoryStorage||ii.get("previous_websocket_failure")===!0}markConnectionHealthy(){ii.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=La(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(C(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Ae(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=gD(r,LO);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(VO))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),xD=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[ua,wo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=wo&&wo.isAvailable(),i=r&&!wo.previouslyFailed();if(n.webSocketOnly&&(r||qe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[wo];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),BO=6e4,jO=5e3,HO=10*1024,GO=100*1024,lg="t",VT="d",UO="s",BT="r",$O="e",jT="o",HT="a",GT="n",UT="p",WO="h",Dg=class{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ba("c:"+this.id+":"),this.transportManager_=new xD(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=oa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>GO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>HO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(lg in e){let n=e[lg];n===HT?this.upgradeIfSecondaryHealthy_():n===BT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=ta("t",e),r=ta("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:UT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:HT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:GT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=ta("t",e),r=ta("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=ta(lg,e);if(VT in e){let r=e[VT];if(n===WO){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===GT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===UO?this.onConnectionShutdown_(r):n===BT?this.onReset_(r):n===$O?mg("Server Error: "+r):n===jT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mg("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),gu!==r&&qe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),oa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):oa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:UT,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ii.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var yu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var _u=class{constructor(e){this.allowedEvents_=e,this.listeners_={},C(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){C(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Cu=class t extends _u{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!fd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return C(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var $T=32,WT=768,ie=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function re(){return new ie("")}function q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Cr(t){return t.pieces_.length-t.pieceNum_}function he(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ie(t.pieces_,e)}function Em(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function zO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function da(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function RD(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ie(e,0)}function _e(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ie)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ie(n,0)}function K(t){return t.pieceNum_>=t.pieces_.length}function rt(t,e){let n=q(t),r=q(e);if(n===null)return e;if(n===r)return rt(he(t),he(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function qO(t,e){let n=da(t,0),r=da(e,0);for(let i=0;i<n.length&&i<r.length;i++){let o=ai(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Tm(t,e){if(Cr(t)!==Cr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function kt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Cr(t)>Cr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var wg=class{constructor(e,n){this.errorPrefix_=n,this.parts_=da(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Uo(this.parts_[r]);OD(this)}};function KO(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Uo(e),OD(t)}function XO(t){let e=t.parts_.pop();t.byteLength_-=Uo(e),t.parts_.length>0&&(t.byteLength_-=1)}function OD(t){if(t.byteLength_>WT)throw new Error(t.errorPrefix_+"has a key path longer than "+WT+" bytes ("+t.byteLength_+").");if(t.parts_.length>$T)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$T+") or object contains a cycle "+ri(t))}function ri(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var bg=class t extends _u{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return C(e==="visible","Unknown event type: "+e),[this.visible_]}};var na=1e3,QO=60*5*1e3,zT=30*1e3,YO=1.3,ZO=3e4,JO="server_kill",qT=3,Dm=(()=>{class t extends yu{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=ba("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=na,this.maxReconnectDelay_=QO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!tn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Cu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Ae(s)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Oe,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&bt(n,"w")){let i=qn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();qe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Dv(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zT)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=Tv(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ae(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):mg("Unrecognized action received from server: "+Ae(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=na,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=na,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ZO&&(this.reconnectDelay_=na),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*YO)}this.onConnectStatus_(!1)}establishConnection_(){return ae(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){C(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ve("getToken() completed but was canceled"):(Ve("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new Dg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{qe(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(JO)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&qe(f),c())}}})}interrupt(n){Ve("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ve("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Va(this.interruptReasons_)&&(this.reconnectDelay_=na,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>_m(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ie(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ve("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qT&&(this.reconnectDelay_=zT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ve("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";tn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+vm.replace(/\./g,"-")]=1,fd()?n["framework.cordova"]=1:_v()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Cu.getInstance().currentlyOnline();return Va(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Q=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Io=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Q(_r,e),i=new Q(_r,n);return this.compare(r,i)!==0}minPost(){return Q.MIN}};var pu,Eu=class extends Io{static get __EMPTY_NODE(){return pu}static set __EMPTY_NODE(e){pu=e}compare(e,n){return ai(e.name,n.name)}isDefinedOn(e){throw fi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Q.MIN}maxPost(){return new Q($n,pu)}makePost(e,n){return C(typeof e=="string","KeyIndex indexValue must always be a string."),new Q(e,pu)}toString(){return".key"}},yn=new Eu;var bo=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Zt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??Ft.EMPTY_NODE,this.right=s??Ft.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ft.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Sg=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Zt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ft=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Zt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Zt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new bo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new bo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new bo(this.root_,null,this.comparator_,!0,e)}};Ft.EMPTY_NODE=new Sg;function ek(t,e){return ai(t.name,e.name)}function wm(t,e){return ai(t,e)}var Ig;function tk(t){Ig=t}var kD=function(t){return typeof t=="number"?"number:"+mD(t):"string:"+t},FD=function(t){if(t.isLeafNode()){let e=t.val();C(typeof e=="string"||typeof e=="number"||typeof e=="object"&&bt(e,".sv"),"Priority must be a string or number.")}else C(t===Ig||t.isEmpty(),"priority of unexpected type.");C(t===Ig||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var KT,Mo=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),FD(this.priorityNode_)}static set __childrenNodeConstructor(n){KT=n}static get __childrenNodeConstructor(){return KT}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return K(n)?this:q(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=q(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(C(i!==".priority"||Cr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+kD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=mD(this.value_):n+=this.value_,this.lazyHash_=hD(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(C(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return C(o>=0,"Unknown leaf type: "+r),C(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),LD,VD;function nk(t){LD=t}function rk(t){VD=t}var Mg=class extends Io{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?ai(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Q.MIN}maxPost(){return new Q($n,new Mo("[PRIORITY-POST]",VD))}makePost(e,n){let r=LD(e);return new Q(n,new Mo("[PRIORITY-POST]",r))}toString(){return".priority"}},ge=new Mg;var ik=Math.log(2),Ag=class{constructor(e){let n=o=>parseInt(Math.log(o)/ik,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Tu=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new Zt(f,d.node,Zt.BLACK,null,null);{let h=parseInt(u/2,10)+l,g=i(l,h),y=i(h+1,c);return d=t[h],f=n?n(d):d,new Zt(f,d.node,Zt.BLACK,g,y)}},o=function(l){let c=null,u=null,d=t.length,f=function(g,y){let v=d-g,T=d;d-=g;let x=i(v+1,T),S=t[v],j=n?n(S):S;h(new Zt(j,S.node,y,null,x))},h=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){let y=l.nextBitIsOne(),v=Math.pow(2,l.count-(g+1));y?f(v,Zt.BLACK):(f(v,Zt.BLACK),f(v,Zt.RED))}return u},s=new Ag(t.length),a=o(s);return new Ft(r||e,a)};var cg,Do={},Ao=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return C(Do&&ge,"ChildrenNode.ts has not been loaded"),cg=cg||new t({".priority":Do},{".priority":ge}),cg}get(e){let n=qn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ft?n:null}hasIndex(e){return bt(this.indexSet_,e.toString())}addIndex(e,n){C(e!==yn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(Q.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Tu(r,e.getCompare()):a=Do;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=Go(this.indexes_,(i,o)=>{let s=qn(this.indexSet_,o);if(C(s,"Missing index implementation for "+o),i===Do)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator(Q.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Tu(a,s.getCompare())}else return Do;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new Q(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Go(this.indexes_,i=>{if(i===Do)return i;{let o=n.get(e.name);return o?i.remove(new Q(e.name,o)):i}});return new t(r,this.indexSet_)}};var ra,V=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&FD(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ra||(ra=new t(new Ft(wm),null,Ao.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ra}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ra:r}}getChild(n){let r=q(n);return r===null?this:this.getImmediateChild(r).getChild(he(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(C(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Q(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?ra:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=q(n);if(i===null)return r;{C(q(n)!==".priority"||Cr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(he(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(ge,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+kD(this.getPriority().val())+":"),this.forEachChild(ge,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":hD(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new Q(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Q(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Q(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,Q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,Q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Sa?-1:0}withIndex(n){if(n===yn||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===yn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ge),o=r.getIterator(ge),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===yn?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Ng=class extends V{constructor(){super(new Ft(wm),V.EMPTY_NODE,Ao.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return V.EMPTY_NODE}isEmpty(){return!1}},Sa=new Ng;Object.defineProperties(Q,{MIN:{value:new Q(_r,V.EMPTY_NODE)},MAX:{value:new Q($n,Sa)}});Eu.__EMPTY_NODE=V.EMPTY_NODE;Mo.__childrenNodeConstructor=V;tk(Sa);rk(Sa);var ok=!0;function Ee(t,e=null){if(t===null)return V.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),C(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Mo(n,Ee(e))}if(!(t instanceof Array)&&ok){let n=[],r=!1;if(Be(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=Ee(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Q(s,l)))}}),n.length===0)return V.EMPTY_NODE;let o=Tu(n,ek,s=>s.name,wm);if(r){let s=Tu(n,ge.getCompare());return new V(o,Ee(e),new Ao({".priority":s},{".priority":ge}))}else return new V(o,Ee(e),Ao.Default)}else{let n=V.EMPTY_NODE;return Be(t,(r,i)=>{if(bt(t,r)&&r.substring(0,1)!=="."){let o=Ee(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ee(e))}}nk(Ee);var fa=class extends Io{constructor(e){super(),this.indexPath_=e,C(!K(e)&&q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?ai(e.name,n.name):o}makePost(e,n){let r=Ee(e),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new Q(n,i)}maxPost(){let e=V.EMPTY_NODE.updateChild(this.indexPath_,Sa);return new Q($n,e)}toString(){return da(this.indexPath_,0).join("/")}};var Pg=class extends Io{compare(e,n){let r=e.node.compareTo(n.node);return r===0?ai(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Q.MIN}maxPost(){return Q.MAX}makePost(e,n){let r=Ee(e);return new Q(n,r)}toString(){return".value"}},bm=new Pg;function BD(t){return{type:"value",snapshotNode:t}}function No(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ha(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function pa(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function sk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var ga=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){C(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(ha(n,a)):C(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(No(n,r)):s.trackChildChange(pa(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ge,(i,o)=>{n.hasChild(i)||r.trackChildChange(ha(i,o))}),n.isLeafNode()||n.forEachChild(ge,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(pa(i,o,s))}else r.trackChildChange(No(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?V.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Du=class t{constructor(e){this.indexedFilter_=new ga(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Q(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(V.EMPTY_NODE);let o=this;return n.forEachChild(ge,(s,a)=>{o.matches(new Q(s,a))||(i=i.updateImmediateChild(s,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var xg=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Du(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Q(n,r))||(r=V.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=V.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(V.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;C(a.numChildren()===this.limit_,"");let l=new Q(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(pa(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(ha(n,d));let y=a.updateImmediateChild(n,V.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(No(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(ha(c.name,c.node)),o.trackChildChange(No(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,V.EMPTY_NODE)):e}};var ma=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_r}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$n}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ge}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function ak(t){return t.loadsAllData()?new ga(t.getIndex()):t.hasLimit()?new xg(t):new Du(t)}function lk(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function ck(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Rg(t,e,n){let r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function uk(t,e,n){let r;return t.index_===yn||n?r=Rg(t,e,n):r=Rg(t,e,$n),r.startAfterSet_=!0,r}function Og(t,e,n){let r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function dk(t,e,n){let r;return t.index_===yn||n?r=Og(t,e,n):r=Og(t,e,_r),r.endBeforeSet_=!0,r}function Gu(t,e){let n=t.copy();return n.index_=e,n}function XT(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ge?n="$priority":t.index_===bm?n="$value":t.index_===yn?n="$key":(C(t.index_ instanceof fa,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ae(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ae(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ae(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ae(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ae(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function QT(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ge&&(e.i=t.index_.toString()),e}var kg=class t extends yu{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ba("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(C(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let l=XT(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),qn(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=XT(e._queryParams),r=e._path.toString(),i=new Oe;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wv(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=La(a.responseText)}catch{qe("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&qe("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Fg=class{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function wu(){return{value:null,children:new Map}}function Fo(t,e,n){if(K(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=q(e);t.children.has(r)||t.children.set(r,wu());let i=t.children.get(r);e=he(e),Fo(i,e,n)}}function Lg(t,e){if(K(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(ge,(r,i)=>{Fo(t,new ie(r),i)}),Lg(t,e)}}else if(t.children.size>0){let n=q(e);return e=he(e),t.children.has(n)&&Lg(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function Vg(t,e,n){t.value!==null?n(e,t.value):fk(t,(r,i)=>{let o=new ie(e.toString()+"/"+r);Vg(i,o,n)})}function fk(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Bg=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Be(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var YT=10*1e3,hk=30*1e3,pk=5*60*1e3,jg=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Bg(e);let r=YT+(hk-YT)*Math.random();oa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Be(e,(i,o)=>{o>0&&bt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),oa(this.reportStats_.bind(this),Math.floor(Math.random()*2*pk))}};var vn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(vn||{});function Sm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Im(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Hg=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=vn.ACK_USER_WRITE,this.source=Sm()}operationForChild(e){if(K(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ie(e));return new t(re(),n,this.revert)}}else return C(q(this.path)===e,"operationForChild called for unrelated child."),new t(he(this.path),this.affectedTree,this.revert)}};var bu=class t{constructor(e,n){this.source=e,this.path=n,this.type=vn.LISTEN_COMPLETE}operationForChild(e){return K(this.path)?new t(this.source,re()):new t(this.source,he(this.path))}};var Po=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=vn.OVERWRITE}operationForChild(e){return K(this.path)?new t(this.source,re(),this.snap.getImmediateChild(e)):new t(this.source,he(this.path),this.snap)}};var va=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=vn.MERGE}operationForChild(e){if(K(this.path)){let n=this.children.subtree(new ie(e));return n.isEmpty()?null:n.value?new Po(this.source,re(),n.value):new t(this.source,re(),n)}else return C(q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,he(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Cn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(K(e))return this.isFullyInitialized()&&!this.filtered_;let n=q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Gg=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function gk(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(sk(s.childName,s.snapshotNode))}),ia(t,i,"child_removed",e,r,n),ia(t,i,"child_added",e,r,n),ia(t,i,"child_moved",o,r,n),ia(t,i,"child_changed",e,r,n),ia(t,i,"value",e,r,n),i}function ia(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>vk(t,a,l)),s.forEach(a=>{let l=mk(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function mk(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function vk(t,e,n){if(e.childName==null||n.childName==null)throw fi("Should only compare child_ events.");let r=new Q(e.childName,e.snapshotNode),i=new Q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Uu(t,e){return{eventCache:t,serverCache:e}}function aa(t,e,n,r){return Uu(new Cn(e,n,r),t.serverCache)}function jD(t,e,n,r){return Uu(t.eventCache,new Cn(e,n,r))}function Su(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function si(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var ug,yk=()=>(ug||(ug=new Ft(mO)),ug),it=class t{constructor(e,n=yk()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Be(e,(r,i)=>{n=n.set(new ie(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:re(),value:this.value};if(K(e))return null;{let r=q(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(he(e),n);return o!=null?{path:_e(new ie(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(K(e))return this;{let n=q(e),r=this.children.get(n);return r!==null?r.subtree(he(e)):new t(null)}}set(e,n){if(K(e))return new t(n,this.children);{let r=q(e),o=(this.children.get(r)||new t(null)).set(he(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(K(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=q(e),r=this.children.get(n);if(r){let i=r.remove(he(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(K(e))return this.value;{let n=q(e),r=this.children.get(n);return r?r.get(he(e)):null}}setTree(e,n){if(K(e))return n;{let r=q(e),o=(this.children.get(r)||new t(null)).setTree(he(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(re(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(_e(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,re(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(K(e))return null;{let o=q(e),s=this.children.get(o);return s?s.findOnPath_(he(e),_e(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,re(),n)}foreachOnPath_(e,n,r){if(K(e))return this;{this.value&&r(n,this.value);let i=q(e),o=this.children.get(i);return o?o.foreachOnPath_(he(e),_e(n,i),r):new t(null)}}foreach(e){this.foreach_(re(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(_e(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Jt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new it(null))}};function la(t,e,n){if(K(e))return new Jt(new it(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=rt(i,e);return o=o.updateChild(s,n),new Jt(t.writeTree_.set(i,o))}else{let i=new it(n),o=t.writeTree_.setTree(e,i);return new Jt(o)}}}function Ug(t,e,n){let r=t;return Be(n,(i,o)=>{r=la(r,_e(e,i),o)}),r}function ZT(t,e){if(K(e))return Jt.empty();{let n=t.writeTree_.setTree(e,new it(null));return new Jt(n)}}function $g(t,e){return li(t,e)!=null}function li(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(rt(n.path,e)):null}function JT(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ge,(r,i)=>{e.push(new Q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Q(r,i.value))}),e}function vr(t,e){if(K(e))return t;{let n=li(t,e);return n!=null?new Jt(new it(n)):new Jt(t.writeTree_.subtree(e))}}function Wg(t){return t.writeTree_.isEmpty()}function xo(t,e){return HD(re(),t.writeTree_,e)}function HD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(C(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=HD(_e(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(_e(t,".priority"),r)),n}}function $u(t,e){return WD(e,t)}function _k(t,e,n,r,i){C(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=la(t.visibleWrites,e,n)),t.lastWriteId=r}function Ck(t,e,n,r){C(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ug(t.visibleWrites,e,n),t.lastWriteId=r}function Ek(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function Tk(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);C(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&Dk(a,r.path)?i=!1:kt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return wk(t),!0;if(r.snap)t.visibleWrites=ZT(t.visibleWrites,r.path);else{let a=r.children;Be(a,l=>{t.visibleWrites=ZT(t.visibleWrites,_e(r.path,l))})}return!0}else return!1}function Dk(t,e){if(t.snap)return kt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&kt(_e(t.path,n),e))return!0;return!1}function wk(t){t.visibleWrites=GD(t.allWrites,bk,re()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function bk(t){return t.visible}function GD(t,e,n){let r=Jt.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)kt(n,s)?(a=rt(n,s),r=la(r,a,o.snap)):kt(s,n)&&(a=rt(s,n),r=la(r,re(),o.snap.getChild(a)));else if(o.children){if(kt(n,s))a=rt(n,s),r=Ug(r,a,o.children);else if(kt(s,n))if(a=rt(s,n),K(a))r=Ug(r,re(),o.children);else{let l=qn(o.children,q(a));if(l){let c=l.getChild(he(a));r=la(r,re(),c)}}}else throw fi("WriteRecord should have .snap or .children")}}return r}function UD(t,e,n,r,i){if(!r&&!i){let o=li(t.visibleWrites,e);if(o!=null)return o;{let s=vr(t.visibleWrites,e);if(Wg(s))return n;if(n==null&&!$g(s,re()))return null;{let a=n||V.EMPTY_NODE;return xo(s,a)}}}else{let o=vr(t.visibleWrites,e);if(!i&&Wg(o))return n;if(!i&&n==null&&!$g(o,re()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(kt(c.path,e)||kt(e,c.path))},a=GD(t.allWrites,s,e),l=n||V.EMPTY_NODE;return xo(a,l)}}}function Sk(t,e,n){let r=V.EMPTY_NODE,i=li(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ge,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=vr(t.visibleWrites,e);return n.forEachChild(ge,(s,a)=>{let l=xo(vr(o,new ie(s)),a);r=r.updateImmediateChild(s,l)}),JT(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=vr(t.visibleWrites,e);return JT(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Ik(t,e,n,r,i){C(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=_e(e,n);if($g(t.visibleWrites,o))return null;{let s=vr(t.visibleWrites,o);return Wg(s)?i.getChild(n):xo(s,i.getChild(n))}}function Mk(t,e,n,r){let i=_e(e,n),o=li(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=vr(t.visibleWrites,i);return xo(s,r.getNode().getImmediateChild(n))}else return null}function Ak(t,e){return li(t.visibleWrites,e)}function Nk(t,e,n,r,i,o,s){let a,l=vr(t.visibleWrites,e),c=li(l,re());if(c!=null)a=c;else if(n!=null)a=xo(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function Pk(){return{visibleWrites:Jt.empty(),allWrites:[],lastWriteId:-1}}function Iu(t,e,n,r){return UD(t.writeTree,t.treePath,e,n,r)}function Am(t,e){return Sk(t.writeTree,t.treePath,e)}function eD(t,e,n,r){return Ik(t.writeTree,t.treePath,e,n,r)}function Mu(t,e){return Ak(t.writeTree,_e(t.treePath,e))}function xk(t,e,n,r,i,o){return Nk(t.writeTree,t.treePath,e,n,r,i,o)}function Nm(t,e,n){return Mk(t.writeTree,t.treePath,e,n)}function $D(t,e){return WD(_e(t.treePath,e),t.writeTree)}function WD(t,e){return{treePath:t,writeTree:e}}var zg=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;C(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),C(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,pa(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ha(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,No(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,pa(r,e.snapshotNode,i.oldSnap));else throw fi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var qg=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},zD=new qg,ya=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Cn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nm(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:si(this.viewCache_),o=xk(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function Rk(t){return{filter:t}}function Ok(t,e){C(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),C(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function kk(t,e,n,r,i){let o=new zg,s,a;if(n.type===vn.OVERWRITE){let c=n;c.source.fromUser?s=Kg(t,e,c.path,c.snap,r,i,o):(C(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!K(c.path),s=Au(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===vn.MERGE){let c=n;c.source.fromUser?s=Lk(t,e,c.path,c.children,r,i,o):(C(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=Xg(t,e,c.path,c.children,r,i,a,o))}else if(n.type===vn.ACK_USER_WRITE){let c=n;c.revert?s=jk(t,e,c.path,r,i,o):s=Vk(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===vn.LISTEN_COMPLETE)s=Bk(t,e,n.path,r,o);else throw fi("Unknown operation type: "+n.type);let l=o.getChanges();return Fk(e,s,l),{viewCache:s,changes:l}}function Fk(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Su(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(BD(Su(e)))}}function qD(t,e,n,r,i,o){let s=e.eventCache;if(Mu(r,n)!=null)return e;{let a,l;if(K(n))if(C(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=si(e),u=c instanceof V?c:V.EMPTY_NODE,d=Am(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let c=Iu(r,si(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{let c=q(n);if(c===".priority"){C(Cr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=e.serverCache.getNode();let d=eD(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=he(n),d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();let f=eD(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=Nm(r,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return aa(e,a,s.isFullyInitialized()||K(n),t.filter.filtersNodes())}}function Au(t,e,n,r,i,o,s,a){let l=e.serverCache,c,u=s?t.filter:t.filter.getIndexedFilter();if(K(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=q(n);if(!l.isCompleteForPath(n)&&Cr(n)>1)return e;let g=he(n),v=l.getNode().getImmediateChild(h).updateChild(g,r);h===".priority"?c=u.updatePriority(l.getNode(),v):c=u.updateChild(l.getNode(),h,v,g,zD,null)}let d=jD(e,c,l.isFullyInitialized()||K(n),u.filtersNodes()),f=new ya(i,d,o);return qD(t,d,n,i,f,a)}function Kg(t,e,n,r,i,o,s){let a=e.eventCache,l,c,u=new ya(i,e,o);if(K(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=aa(e,c,!0,t.filter.filtersNodes());else{let d=q(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=aa(e,c,a.isFullyInitialized(),a.isFiltered());else{let f=he(n),h=a.getNode().getImmediateChild(d),g;if(K(f))g=r;else{let y=u.getCompleteChild(d);y!=null?Em(f)===".priority"&&y.getChild(RD(f)).isEmpty()?g=y:g=y.updateChild(f,r):g=V.EMPTY_NODE}if(h.equals(g))l=e;else{let y=t.filter.updateChild(a.getNode(),d,g,f,u,s);l=aa(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function tD(t,e){return t.eventCache.isCompleteForChild(e)}function Lk(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{let u=_e(n,l);tD(e,q(u))&&(a=Kg(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{let u=_e(n,l);tD(e,q(u))||(a=Kg(t,a,u,c,i,o,s))}),a}function nD(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Xg(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;K(n)?c=r:c=new it(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),g=nD(t,h,f);l=Au(t,l,new ie(d),g,i,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let g=e.serverCache.getNode().getImmediateChild(d),y=nD(t,g,f);l=Au(t,l,new ie(d),y,i,o,s,a)}}),l}function Vk(t,e,n,r,i,o,s){if(Mu(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(K(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Au(t,e,n,l.getNode().getChild(n),i,o,a,s);if(K(n)){let c=new it(null);return l.getNode().forEachChild(yn,(u,d)=>{c=c.set(new ie(u),d)}),Xg(t,e,n,c,i,o,a,s)}else return e}else{let c=new it(null);return r.foreach((u,d)=>{let f=_e(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Xg(t,e,n,c,i,o,a,s)}}function Bk(t,e,n,r,i){let o=e.serverCache,s=jD(e,o.getNode(),o.isFullyInitialized()||K(n),o.isFiltered());return qD(t,s,n,r,zD,i)}function jk(t,e,n,r,i,o){let s;if(Mu(r,n)!=null)return e;{let a=new ya(r,e,i),l=e.eventCache.getNode(),c;if(K(n)||q(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Iu(r,si(e));else{let d=e.serverCache.getNode();C(d instanceof V,"serverChildren would be complete if leaf node"),u=Am(r,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{let u=q(n),d=Nm(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,he(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,V.EMPTY_NODE,he(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Iu(r,si(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||Mu(r,re())!=null,aa(e,c,s,t.filter.filtersNodes())}}var Qg=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new ga(r.getIndex()),o=ak(r);this.processor_=Rk(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(V.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(V.EMPTY_NODE,a.getNode(),null),u=new Cn(l,s.isFullyInitialized(),i.filtersNodes()),d=new Cn(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Uu(d,u),this.eventGenerator_=new Gg(this.query_)}get query(){return this.query_}};function Hk(t){return t.viewCache_.serverCache.getNode()}function Gk(t){return Su(t.viewCache_)}function Uk(t,e){let n=si(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!K(e)&&!n.getImmediateChild(q(e)).isEmpty())?n.getChild(e):null}function rD(t){return t.eventRegistrations_.length===0}function $k(t,e){t.eventRegistrations_.push(e)}function iD(t,e,n){let r=[];if(n){C(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function oD(t,e,n,r){e.type===vn.MERGE&&e.source.queryId!==null&&(C(si(t.viewCache_),"We should always have a full cache before handling merges"),C(Su(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=kk(t.processor_,i,e,n,r);return Ok(t.processor_,o.viewCache),C(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,KD(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Wk(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ge,(o,s)=>{r.push(No(o,s))}),n.isFullyInitialized()&&r.push(BD(n.getNode())),KD(t,r,n.getNode(),e)}function KD(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return gk(t.eventGenerator_,e,n,i)}var Nu,Pu=class{constructor(){this.views=new Map}};function zk(t){C(!Nu,"__referenceConstructor has already been defined"),Nu=t}function qk(){return C(Nu,"Reference.ts has not been loaded"),Nu}function Kk(t){return t.views.size===0}function Pm(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return C(o!=null,"SyncTree gave us an op for an invalid query."),oD(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(oD(s,e,n,r));return o}}function XD(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Iu(n,i?r:null),l=!1;a?l=!0:r instanceof V?(a=Am(n,r),l=!1):(a=V.EMPTY_NODE,l=!1);let c=Uu(new Cn(a,l,!1),new Cn(r,i,!1));return new Qg(e,c)}return s}function Xk(t,e,n,r,i,o){let s=XD(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),$k(s,n),Wk(s,n)}function Qk(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=Er(t);if(i==="default")for(let[l,c]of t.views.entries())s=s.concat(iD(c,n,r)),rD(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=t.views.get(i);l&&(s=s.concat(iD(l,n,r)),rD(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Er(t)&&o.push(new(qk())(e._repo,e._path)),{removed:o,events:s}}function QD(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function yr(t,e){let n=null;for(let r of t.views.values())n=n||Uk(r,e);return n}function YD(t,e){if(e._queryParams.loadsAllData())return Wu(t);{let r=e._queryIdentifier;return t.views.get(r)}}function ZD(t,e){return YD(t,e)!=null}function Er(t){return Wu(t)!=null}function Wu(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var xu;function Yk(t){C(!xu,"__referenceConstructor has already been defined"),xu=t}function Zk(){return C(xu,"Reference.ts has not been loaded"),xu}var Jk=1,Ru=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new it(null),this.pendingWriteTree_=Pk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function xm(t,e,n,r,i){return _k(t.pendingWriteTree_,e,n,r,i),i?Lo(t,new Po(Sm(),e,n)):[]}function eF(t,e,n,r){Ck(t.pendingWriteTree_,e,n,r);let i=it.fromObject(n);return Lo(t,new va(Sm(),e,i))}function mr(t,e,n=!1){let r=Ek(t.pendingWriteTree_,e);if(Tk(t.pendingWriteTree_,e)){let o=new it(null);return r.snap!=null?o=o.set(re(),!0):Be(r.children,s=>{o=o.set(new ie(s),!0)}),Lo(t,new Hg(r.path,o,n))}else return[]}function Ia(t,e,n){return Lo(t,new Po(Im(),e,n))}function tF(t,e,n){let r=it.fromObject(n);return Lo(t,new va(Im(),e,r))}function nF(t,e){return Lo(t,new bu(Im(),e))}function rF(t,e,n){let r=Rm(t,n);if(r){let i=Om(r),o=i.path,s=i.queryId,a=rt(o,e),l=new bu(Mm(s),a);return km(t,o,l)}else return[]}function Ou(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||ZD(s,e))){let l=Qk(s,e,n,r);Kk(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>Er(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=sF(f);for(let g=0;g<h.length;++g){let y=h[g],v=y.query,T=nw(t,y);t.listenProvider_.startListening(ca(v),_a(t,v),T.hashFn,T.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(ca(e),null):c.forEach(f=>{let h=t.queryToTagMap.get(qu(f));t.listenProvider_.stopListening(ca(f),h)}))}aF(t,c)}return a}function JD(t,e,n,r){let i=Rm(t,r);if(i!=null){let o=Om(i),s=o.path,a=o.queryId,l=rt(s,e),c=new Po(Mm(a),l,n);return km(t,s,c)}else return[]}function iF(t,e,n,r){let i=Rm(t,r);if(i){let o=Om(i),s=o.path,a=o.queryId,l=rt(s,e),c=it.fromObject(n),u=new va(Mm(a),l,c);return km(t,s,u)}else return[]}function Yg(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let g=rt(f,i);o=o||yr(h,g),s=s||Er(h)});let a=t.syncPointTree_.get(i);a?(s=s||Er(a),o=o||yr(a,re())):(a=new Pu,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=V.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,g)=>{let y=yr(g,re());y&&(o=o.updateImmediateChild(h,y))}));let c=ZD(a,e);if(!c&&!e._queryParams.loadsAllData()){let f=qu(e);C(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=lF();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=$u(t.pendingWriteTree_,i),d=Xk(a,e,n,u,o,l);if(!c&&!s&&!r){let f=YD(a,e);d=d.concat(cF(t,e,f))}return d}function zu(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=rt(s,e),c=yr(a,l);if(c)return c});return UD(i,e,o,n,!0)}function oF(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=rt(c,n);r=r||yr(u,d)});let i=t.syncPointTree_.get(n);i?r=r||yr(i,re()):(i=new Pu,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new Cn(r,!0,!1):null,a=$u(t.pendingWriteTree_,e._path),l=XD(i,e,a,o?s.getNode():V.EMPTY_NODE,o);return Gk(l)}function Lo(t,e){return ew(e,t.syncPointTree_,null,$u(t.pendingWriteTree_,re()))}function ew(t,e,n,r){if(K(t.path))return tw(t,e,n,r);{let i=e.get(re());n==null&&i!=null&&(n=yr(i,re()));let o=[],s=q(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=$D(r,s);o=o.concat(ew(a,l,c,u))}return i&&(o=o.concat(Pm(i,t,r,n))),o}}function tw(t,e,n,r){let i=e.get(re());n==null&&i!=null&&(n=yr(i,re()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=$D(r,s),u=t.operationForChild(s);u&&(o=o.concat(tw(u,a,l,c)))}),i&&(o=o.concat(Pm(i,t,r,n))),o}function nw(t,e){let n=e.query,r=_a(t,n);return{hashFn:()=>(Hk(e)||V.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?rF(t,n._path,r):nF(t,n._path);{let o=_O(i,n);return Ou(t,n,null,o)}}}}function _a(t,e){let n=qu(e);return t.queryToTagMap.get(n)}function qu(t){return t._path.toString()+"$"+t._queryIdentifier}function Rm(t,e){return t.tagToQueryMap.get(e)}function Om(t){let e=t.indexOf("$");return C(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ie(t.substr(0,e))}}function km(t,e,n){let r=t.syncPointTree_.get(e);C(r,"Missing sync point for query tag that we're tracking");let i=$u(t.pendingWriteTree_,e);return Pm(r,n,i,null)}function sF(t){return t.fold((e,n,r)=>{if(n&&Er(n))return[Wu(n)];{let i=[];return n&&(i=QD(n)),Be(r,(o,s)=>{i=i.concat(s)}),i}})}function ca(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Zk())(t._repo,t._path):t}function aF(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=qu(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function lF(){return Jk++}function cF(t,e,n){let r=e._path,i=_a(t,e),o=nw(t,n),s=t.listenProvider_.startListening(ca(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)C(!Er(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!K(c)&&u&&Er(u))return[Wu(u).query];{let f=[];return u&&(f=f.concat(QD(u).map(h=>h.query))),Be(d,(h,g)=>{f=f.concat(g)}),f}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(ca(u),_a(t,u))}}return s}var Zg=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Jg=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=_e(this.path_,e);return new t(this.syncTree_,n)}node(){return zu(this.syncTree_,this.path_)}},uF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},sD=function(t,e,n){if(!t||typeof t!="object")return t;if(C(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return dF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return fF(t[".sv"],e);C(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},dF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:C(!1,"Unexpected server value: "+t)}},fF=function(t,e,n){t.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&C(!1,"Unexpected increment value: "+r);let i=e.node();if(C(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},rw=function(t,e,n,r){return Lm(e,new Jg(n,t),r)},Fm=function(t,e,n){return Lm(t,new Zg(e),n)};function Lm(t,e,n){let r=t.getPriority().val(),i=sD(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=sD(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Mo(a,Ee(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Mo(i))),s.forEachChild(ge,(a,l)=>{let c=Lm(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Ca=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Ku(t,e){let n=e instanceof ie?e:new ie(e),r=t,i=q(n);for(;i!==null;){let o=qn(r.node.children,i)||{children:{},childCount:0};r=new Ca(i,r,o),n=he(n),i=q(n)}return r}function ci(t){return t.node.value}function Vm(t,e){t.node.value=e,em(t)}function iw(t){return t.node.childCount>0}function hF(t){return ci(t)===void 0&&!iw(t)}function Xu(t,e){Be(t.node.children,(n,r)=>{e(new Ca(n,t,r))})}function ow(t,e,n,r){n&&!r&&e(t),Xu(t,i=>{ow(i,e,!0,r)}),n&&r&&e(t)}function pF(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ma(t){return new ie(t.parent===null?t.name:Ma(t.parent)+"/"+t.name)}function em(t){t.parent!==null&&gF(t.parent,t.name,t)}function gF(t,e,n){let r=hF(n),i=bt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,em(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,em(t))}var mF=/[\[\].#$\/\u0000-\u001F\u007F]/,vF=/[\[\].#$\u0000-\u001F\u007F]/,dg=10*1024*1024,Qu=function(t){return typeof t=="string"&&t.length!==0&&!mF.test(t)},sw=function(t){return typeof t=="string"&&t.length!==0&&!vF.test(t)},yF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),sw(t)},Ea=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Hu(t)||t&&typeof t=="object"&&bt(t,".sv")},En=function(t,e,n,r){r&&e===void 0||Aa(lt(t,"value"),e,n)},Aa=function(t,e,n){let r=n instanceof ie?new wg(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ri(r));if(typeof e=="function")throw new Error(t+"contains a function "+ri(r)+" with contents = "+e.toString());if(Hu(e))throw new Error(t+"contains "+e.toString()+" "+ri(r));if(typeof e=="string"&&e.length>dg/3&&Uo(e)>dg)throw new Error(t+"contains a string greater than "+dg+" utf8 bytes "+ri(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Be(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Qu(s)))throw new Error(t+" contains an invalid key ("+s+") "+ri(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);KO(r,s),Aa(t,a,r),XO(r)}),i&&o)throw new Error(t+' contains ".value" child '+ri(r)+" in addition to actual children.")}},_F=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let o=da(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Qu(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(qO);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&kt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},aw=function(t,e,n,r){if(r&&e===void 0)return;let i=lt(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let o=[];Be(e,(s,a)=>{let l=new ie(s);if(Aa(i,a,_e(n,l)),Em(l)===".priority"&&!Ea(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),_F(i,o)},Bm=function(t,e,n){if(!(n&&e===void 0)){if(Hu(e))throw new Error(lt(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ea(e))throw new Error(lt(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Na=function(t,e,n,r){if(!(r&&n===void 0)&&!Qu(n))throw new Error(lt(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Vo=function(t,e,n,r){if(!(r&&n===void 0)&&!sw(n))throw new Error(lt(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},CF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vo(t,e,n,r)},Et=function(t,e){if(q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},lw=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Qu(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!yF(n))throw new Error(lt(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var tm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Yu(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!Tm(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function cw(t,e,n){Yu(t,n),uw(t,r=>Tm(r,e))}function Tt(t,e,n){Yu(t,n),uw(t,r=>kt(r,e)||kt(e,r))}function uw(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(EF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function EF(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();oi&&Ve("event: "+n.toString()),ko(r)}}}var dw="repo_interrupt",TF=25,nm=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wu(),this.transactionQueueTree_=new Ca,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function DF(t,e,n){if(t.stats_=Cm(t.repoInfo_),t.forceRestClient_||DO())t.server_=new kg(t.repoInfo_,(r,i,o,s)=>{aD(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>lD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Dm(t.repoInfo_,e,(r,i,o,s)=>{aD(t,r,i,o,s)},r=>{lD(t,r)},r=>{wF(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=bO(t.repoInfo_,()=>new jg(t.stats_,t.server_)),t.infoData_=new Fg,t.infoSyncTree_=new Ru({startListening:(r,i,o,s)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ia(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),jm(t,"connected",!1),t.serverSyncTree_=new Ru({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{let c=s(a,l);Tt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function fw(t){let n=t.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Pa(t){return uF({timestamp:fw(t)})}function aD(t,e,n,r,i){t.dataUpdateCount++;let o=new ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let l=Go(n,c=>Ee(c));s=iF(t.serverSyncTree_,o,l,i)}else{let l=Ee(n);s=JD(t.serverSyncTree_,o,l,i)}else if(r){let l=Go(n,c=>Ee(c));s=tF(t.serverSyncTree_,o,l)}else{let l=Ee(n);s=Ia(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Ro(t,o)),Tt(t.eventQueue_,a,s)}function lD(t,e){jm(t,"connected",e),e===!1&&IF(t)}function wF(t,e){Be(e,(n,r)=>{jm(t,n,r)})}function jm(t,e,n){let r=new ie("/.info/"+e),i=Ee(n);t.infoData_.updateSnapshot(r,i);let o=Ia(t.infoSyncTree_,r,i);Tt(t.eventQueue_,r,o)}function Zu(t){return t.nextWriteId_++}function bF(t,e,n){let r=oF(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=Ee(i).withIndex(e._queryParams.getIndex());Yg(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Ia(t.serverSyncTree_,e._path,o);else{let a=_a(t.serverSyncTree_,e);s=JD(t.serverSyncTree_,e._path,o,a)}return Tt(t.eventQueue_,e._path,s),Ou(t.serverSyncTree_,e,n,null,!0),o},i=>(Bo(t,"get for query "+Ae(e)+" failed: "+i),Promise.reject(new Error(i))))}function Hm(t,e,n,r,i){Bo(t,"set",{path:e.toString(),value:n,priority:r});let o=Pa(t),s=Ee(n,r),a=zu(t.serverSyncTree_,e),l=Fm(s,a,o),c=Zu(t),u=xm(t.serverSyncTree_,e,l,c,!0);Yu(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let g=f==="ok";g||qe("set at "+e+" failed: "+f);let y=mr(t.serverSyncTree_,c,!g);Tt(t.eventQueue_,e,y),Tr(t,i,f,h)});let d=Um(t,e);Ro(t,d),Tt(t.eventQueue_,d,[])}function SF(t,e,n,r){Bo(t,"update",{path:e.toString(),value:n});let i=!0,o=Pa(t),s={};if(Be(n,(a,l)=>{i=!1,s[a]=rw(_e(e,a),Ee(l),t.serverSyncTree_,o)}),i)Ve("update() called with empty data.  Don't do anything."),Tr(t,r,"ok",void 0);else{let a=Zu(t),l=eF(t.serverSyncTree_,e,s,a);Yu(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let d=c==="ok";d||qe("update at "+e+" failed: "+c);let f=mr(t.serverSyncTree_,a,!d),h=f.length>0?Ro(t,e):e;Tt(t.eventQueue_,h,f),Tr(t,r,c,u)}),Be(n,c=>{let u=Um(t,_e(e,c));Ro(t,u)}),Tt(t.eventQueue_,e,[])}}function IF(t){Bo(t,"onDisconnectEvents");let e=Pa(t),n=wu();Vg(t.onDisconnect_,re(),(i,o)=>{let s=rw(i,o,t.serverSyncTree_,e);Fo(n,i,s)});let r=[];Vg(n,re(),(i,o)=>{r=r.concat(Ia(t.serverSyncTree_,i,o));let s=Um(t,i);Ro(t,s)}),t.onDisconnect_=wu(),Tt(t.eventQueue_,re(),r)}function MF(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&Lg(t.onDisconnect_,e),Tr(t,n,r,i)})}function cD(t,e,n,r){let i=Ee(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{o==="ok"&&Fo(t.onDisconnect_,e,i),Tr(t,r,o,s)})}function AF(t,e,n,r,i){let o=Ee(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{s==="ok"&&Fo(t.onDisconnect_,e,o),Tr(t,i,s,a)})}function NF(t,e,n,r){if(Va(n)){Ve("onDisconnect().update() called with empty data.  Don't do anything."),Tr(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{i==="ok"&&Be(n,(s,a)=>{let l=Ee(a);Fo(t.onDisconnect_,_e(e,s),l)}),Tr(t,r,i,o)})}function PF(t,e,n){let r;q(e._path)===".info"?r=Yg(t.infoSyncTree_,e,n):r=Yg(t.serverSyncTree_,e,n),cw(t.eventQueue_,e._path,r)}function rm(t,e,n){let r;q(e._path)===".info"?r=Ou(t.infoSyncTree_,e,n):r=Ou(t.serverSyncTree_,e,n),cw(t.eventQueue_,e._path,r)}function hw(t){t.persistentConnection_&&t.persistentConnection_.interrupt(dw)}function xF(t){t.persistentConnection_&&t.persistentConnection_.resume(dw)}function Bo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ve(n,...e)}function Tr(t,e,n,r){e&&ko(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function RF(t,e,n,r,i,o){Bo(t,"transaction on "+e);let s={path:e,update:n,onComplete:r,status:null,order:fD(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Gm(t,e,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Aa("transaction failed: Data returned ",l,s.path),s.status=0;let c=Ku(t.transactionQueueTree_,e),u=ci(c)||[];u.push(s),Vm(c,u);let d;typeof l=="object"&&l!==null&&bt(l,".priority")?(d=qn(l,".priority"),C(Ea(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(zu(t.serverSyncTree_,e)||V.EMPTY_NODE).getPriority().val();let f=Pa(t),h=Ee(l,d),g=Fm(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=g,s.currentWriteId=Zu(t);let y=xm(t.serverSyncTree_,e,g,s.currentWriteId,s.applyLocally);Tt(t.eventQueue_,e,y),Ju(t,t.transactionQueueTree_)}}function Gm(t,e,n){return zu(t.serverSyncTree_,e,n)||V.EMPTY_NODE}function Ju(t,e=t.transactionQueueTree_){if(e||ed(t,e),ci(e)){let n=gw(t,e);C(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&OF(t,Ma(e),n)}else iw(e)&&Xu(e,n=>{Ju(t,n)})}function OF(t,e,n){let r=n.map(c=>c.currentWriteId),i=Gm(t,e,r),o=i,s=i.hash();for(let c=0;c<n.length;c++){let u=n[c];C(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=rt(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Bo(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(mr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ed(t,Ku(t.transactionQueueTree_,e)),Ju(t,t.transactionQueueTree_),Tt(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)ko(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{qe("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Ro(t,e)}},s)}function Ro(t,e){let n=pw(t,e),r=Ma(n),i=gw(t,n);return kF(t,i,r),r}function kF(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=rt(n,l.path),u=!1,d;if(C(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(mr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=TF)u=!0,d="maxretry",i=i.concat(mr(t.serverSyncTree_,l.currentWriteId,!0));else{let f=Gm(t,l.path,s);l.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){Aa("transaction failed: Data returned ",h,l.path);let g=Ee(h);typeof h=="object"&&h!=null&&bt(h,".priority")||(g=g.updatePriority(f.getPriority()));let v=l.currentWriteId,T=Pa(t),x=Fm(g,f,T);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=x,l.currentWriteId=Zu(t),s.splice(s.indexOf(v),1),i=i.concat(xm(t.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(mr(t.serverSyncTree_,v,!0))}else u=!0,d="nodata",i=i.concat(mr(t.serverSyncTree_,l.currentWriteId,!0))}Tt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ed(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ko(r[a]);Ju(t,t.transactionQueueTree_)}function pw(t,e){let n,r=t.transactionQueueTree_;for(n=q(e);n!==null&&ci(r)===void 0;)r=Ku(r,n),e=he(e),n=q(e);return r}function gw(t,e){let n=[];return mw(t,e,n),n.sort((r,i)=>r.order-i.order),n}function mw(t,e,n){let r=ci(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Xu(e,i=>{mw(t,i,n)})}function ed(t,e){let n=ci(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Vm(e,n.length>0?n:void 0)}Xu(e,r=>{ed(t,r)})}function Um(t,e){let n=Ma(pw(t,e)),r=Ku(t.transactionQueueTree_,e);return pF(r,i=>{fg(t,i)}),fg(t,r),ow(r,i=>{fg(t,i)}),n}function fg(t,e){let n=ci(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(C(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(C(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(mr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Vm(e,void 0):n.length=o+1,Tt(t.eventQueue_,Ma(e),i);for(let s=0;s<r.length;s++)ko(r[s])}}function FF(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function LF(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qe(`Invalid query segment '${n}' in query '${t}'`)}return e}var im=function(t,e){let n=VF(t),r=n.namespace;n.domain==="firebase.com"&&_n(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&_n("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||pO();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new mu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ie(n.pathString)}},VF=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=FF(t.substring(u,d)));let f=LF(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var uD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",BF=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=uD.charAt(n%64),n=Math.floor(n/64);C(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=uD.charAt(e[i]);return C(s.length===20,"nextPushId: Length should be 20."),s}}();var ku=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}},Fu=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Ta=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return C(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Lu=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new Oe;return MF(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Et("OnDisconnect.remove",this._path);let e=new Oe;return cD(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Et("OnDisconnect.set",this._path),En("OnDisconnect.set",e,this._path,!1);let n=new Oe;return cD(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Et("OnDisconnect.setWithPriority",this._path),En("OnDisconnect.setWithPriority",e,this._path,!1),Bm("OnDisconnect.setWithPriority",n,!1);let r=new Oe;return AF(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Et("OnDisconnect.update",this._path),aw("OnDisconnect.update",e,this._path,!1);let n=new Oe;return NF(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var ot=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return K(this._path)?null:Em(this._path)}get ref(){return new Dt(this._repo,this._path)}get _queryIdentifier(){let e=QT(this._queryParams),n=_m(e);return n==="{}"?"default":n}get _queryObject(){return QT(this._queryParams)}isEqual(e){if(e=Ke(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Tm(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+zO(this._path)}};function td(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function wr(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===yn){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==_r)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==$n)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ge){if(e!=null&&!Ea(e)||n!=null&&!Ea(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(C(t.getIndex()instanceof fa||t.getIndex()===bm,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function nd(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Dt=class t extends ot{constructor(e,n){super(e,n,new ma,!1)}get parent(){let e=RD(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Oo=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new ie(e),r=Dr(this.ref,e);return new t(this._node.getChild(n),r,ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,Dr(this.ref,r),ge)))}hasChild(e){let n=new ie(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function $m(t,e){return t=Ke(t),t._checkNotDeleted("ref"),e!==void 0?Dr(t._root,e):t._root}function Wm(t,e){t=Ke(t),t._checkNotDeleted("refFromURL");let n=im(e,t._repo.repoInfo_.nodeAdmin);lw("refFromURL",n);let r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&_n("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),$m(t,n.path.toString())}function Dr(t,e){return t=Ke(t),q(t._path)===null?CF("child","path",e,!1):Vo("child","path",e,!1),new Dt(t._repo,_e(t._path,e))}function vw(t,e){t=Ke(t),Et("push",t._path),En("push",e,t._path,!0);let n=fw(t._repo),r=BF(n),i=Dr(t,r),o=Dr(t,r),s;return e!=null?s=rd(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function yw(t){return Et("remove",t._path),rd(t,null)}function rd(t,e){t=Ke(t),Et("set",t._path),En("set",e,t._path,!1);let n=new Oe;return Hm(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function _w(t,e){t=Ke(t),Et("setPriority",t._path),Bm("setPriority",e,!1);let n=new Oe;return Hm(t._repo,_e(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function Cw(t,e,n){if(Et("setWithPriority",t._path),En("setWithPriority",e,t._path,!1),Bm("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let r=new Oe;return Hm(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function Ew(t,e){aw("update",e,t._path,!1);let n=new Oe;return SF(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Tw(t){t=Ke(t);let e=new Ta(()=>{}),n=new Da(e);return bF(t._repo,t,n).then(r=>new Oo(r,new Dt(t._repo,t._path),t._queryParams.getIndex()))}var Da=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new ku("value",this,new Oo(e.snapshotNode,new Dt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Fu(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Vu=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Fu(this,e,n):null}createEvent(e,n){C(e.childName!=null,"Child events should have a childName.");let r=Dr(new Dt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new ku(e.type,this,new Oo(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function xa(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{rm(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new Ta(n,o||void 0),a=e==="value"?new Da(s):new Vu(e,s);return PF(t._repo,t,a),()=>rm(t._repo,t,a)}function id(t,e,n,r){return xa(t,"value",e,n,r)}function zm(t,e,n,r){return xa(t,"child_added",e,n,r)}function qm(t,e,n,r){return xa(t,"child_changed",e,n,r)}function Km(t,e,n,r){return xa(t,"child_moved",e,n,r)}function Xm(t,e,n,r){return xa(t,"child_removed",e,n,r)}function Qm(t,e,n){let r=null,i=n?new Ta(n):null;e==="value"?r=new Da(i):e&&(r=new Vu(e,i)),rm(t._repo,t,r)}var wt=class{},Bu=class extends wt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){En("endAt",this._value,e._path,!0);let n=Og(e._queryParams,this._value,this._key);if(nd(n),wr(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ot(e._repo,e._path,n,e._orderByCalled)}};function Dw(t,e){return Na("endAt","key",e,!0),new Bu(t,e)}var om=class extends wt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){En("endBefore",this._value,e._path,!1);let n=dk(e._queryParams,this._value,this._key);if(nd(n),wr(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ot(e._repo,e._path,n,e._orderByCalled)}};function ww(t,e){return Na("endBefore","key",e,!0),new om(t,e)}var ju=class extends wt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){En("startAt",this._value,e._path,!0);let n=Rg(e._queryParams,this._value,this._key);if(nd(n),wr(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ot(e._repo,e._path,n,e._orderByCalled)}};function bw(t=null,e){return Na("startAt","key",e,!0),new ju(t,e)}var sm=class extends wt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){En("startAfter",this._value,e._path,!1);let n=uk(e._queryParams,this._value,this._key);if(nd(n),wr(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ot(e._repo,e._path,n,e._orderByCalled)}};function Sw(t,e){return Na("startAfter","key",e,!0),new sm(t,e)}var am=class extends wt{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ot(e._repo,e._path,lk(e._queryParams,this._limit),e._orderByCalled)}};function Iw(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new am(t)}var lm=class extends wt{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ot(e._repo,e._path,ck(e._queryParams,this._limit),e._orderByCalled)}};function Mw(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new lm(t)}var cm=class extends wt{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){td(e,"orderByChild");let n=new ie(this._path);if(K(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new fa(n),i=Gu(e._queryParams,r);return wr(i),new ot(e._repo,e._path,i,!0)}};function Aw(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vo("orderByChild","path",t,!1),new cm(t)}var um=class extends wt{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){td(e,"orderByKey");let n=Gu(e._queryParams,yn);return wr(n),new ot(e._repo,e._path,n,!0)}};function Nw(){return new um}var dm=class extends wt{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){td(e,"orderByPriority");let n=Gu(e._queryParams,ge);return wr(n),new ot(e._repo,e._path,n,!0)}};function Pw(){return new dm}var fm=class extends wt{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){td(e,"orderByValue");let n=Gu(e._queryParams,bm);return wr(n),new ot(e._repo,e._path,n,!0)}};function xw(){return new fm}var hm=class extends wt{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(En("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Bu(this._value,this._key)._apply(new ju(this._value,this._key)._apply(e))}};function Rw(t,e){return Na("equalTo","key",e,!0),new hm(t,e)}function Lt(t,...e){let n=Ke(t);for(let r of e)n=r._apply(n);return n}zk(Dt);Yk(Dt);var jF="FIREBASE_DATABASE_EMULATOR_HOST",pm={},HF=!1;function GF(t,e,n,r){t.repoInfo_=new mu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Ym(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||_n("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ve("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=im(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[jF]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=im(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let u=i&&l?new sa(sa.OWNER):new yg(t.name,t.options,e);lw("Invalid Firebase Database URL",s),K(s.path)||_n("Database URL must point to the root of a Firebase Database (not including a child path).");let d=$F(a,t,u,new vg(t.name,n));return new gm(d,t)}function UF(t,e){let n=pm[e];(!n||n[t.key]!==t)&&_n(`Database ${e}(${t.repoInfo_}) has already been deleted.`),hw(t),delete n[t.key]}function $F(t,e,n,r){let i=pm[e.name];i||(i={},pm[e.name]=i);let o=i[t.toURLString()];return o&&_n("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new nm(t,HF,n,r),i[t.toURLString()]=o,o}var gm=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(DF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dt(this._repo,re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(UF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&_n("Cannot call "+e+" on a deleted database.")}};function Ow(){xD.IS_TRANSPORT_INITIALIZED&&qe("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function kw(){Ow(),ua.forceDisallow()}function Fw(){Ow(),wo.forceDisallow(),ua.forceAllow()}function Lw(t,e,n,r={}){t=Ke(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&_n("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&_n('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new sa(sa.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:yv(r.mockUserToken,t.app.options.projectId);o=new sa(s)}GF(i,e,n,o)}function Vw(t){t=Ke(t),t._checkNotDeleted("goOffline"),hw(t._repo)}function Bw(t){t=Ke(t),t._checkNotDeleted("goOnline"),xF(t._repo)}function jw(t,e){pD(t,e)}function WF(t){ym(Mv),$o(new wn("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Ym(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Kn(RT,OT,t),Kn(RT,OT,"esm2017")}var zF={".sv":"timestamp"};function Hw(){return zF}function Gw(t){return{".sv":{increment:t}}}var mm=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Uw(t,e,n){var r;if(t=Ke(t),Et("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,o=new Oe,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new Oo(u,new Dt(t._repo,t._path),ge),o.resolve(new mm(c,d)))},a=id(t,()=>{});return RF(t._repo,t._path,e,s,a,i),o.promise}Dm.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Dm.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};WF();var qF="@firebase/database-compat",KF="1.0.6";var XF=new hi("@firebase/database-compat"),$w=function(t){let e="FIREBASE WARNING: "+t;XF.warn(e)};var QF=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(lt(t,e)+"must be a boolean.")},YF=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(lt(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var Zm=class{constructor(e){this._delegate=e}cancel(e){P("OnDisconnect.cancel",0,1,arguments.length),Ne("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){P("OnDisconnect.remove",0,1,arguments.length),Ne("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){P("OnDisconnect.set",1,2,arguments.length),Ne("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){P("OnDisconnect.setWithPriority",2,3,arguments.length),Ne("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if(P("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,$w("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ne("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}};var Jm=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return P("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var ui=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return P("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return P("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return P("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return P("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return P("DataSnapshot.child",0,1,arguments.length),e=String(e),Vo("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return P("DataSnapshot.hasChild",1,1,arguments.length),Vo("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return P("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return P("DataSnapshot.forEach",1,1,arguments.length),Ne("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return P("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return P("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return P("DataSnapshot.ref",0,0,arguments.length),new Wn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},od=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;P("Query.on",2,4,arguments.length),Ne("Query.on","callback",n,!1);let s=t.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new ui(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(e){case"value":return id(this._delegate,a,l),n;case"child_added":return zm(this._delegate,a,l),n;case"child_removed":return Xm(this._delegate,a,l),n;case"child_changed":return qm(this._delegate,a,l),n;case"child_moved":return Km(this._delegate,a,l),n;default:throw new Error(lt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(P("Query.off",0,3,arguments.length),YF("Query.off",e,!0),Ne("Query.off","callback",n,!0),hd("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,Qm(this._delegate,e,i)}else Qm(this._delegate,e)}get(){return Tw(this._delegate).then(e=>new ui(this.database,e))}once(e,n,r,i){P("Query.once",1,4,arguments.length),Ne("Query.once","callback",n,!0);let o=t.getCancelAndContextArgs_("Query.once",r,i),s=new Oe,a=(c,u)=>{let d=new ui(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(e){case"value":id(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":zm(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":Xm(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":qm(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Km(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(lt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return P("Query.limitToFirst",1,1,arguments.length),new t(this.database,Lt(this._delegate,Iw(e)))}limitToLast(e){return P("Query.limitToLast",1,1,arguments.length),new t(this.database,Lt(this._delegate,Mw(e)))}orderByChild(e){return P("Query.orderByChild",1,1,arguments.length),new t(this.database,Lt(this._delegate,Aw(e)))}orderByKey(){return P("Query.orderByKey",0,0,arguments.length),new t(this.database,Lt(this._delegate,Nw()))}orderByPriority(){return P("Query.orderByPriority",0,0,arguments.length),new t(this.database,Lt(this._delegate,Pw()))}orderByValue(){return P("Query.orderByValue",0,0,arguments.length),new t(this.database,Lt(this._delegate,xw()))}startAt(e=null,n){return P("Query.startAt",0,2,arguments.length),new t(this.database,Lt(this._delegate,bw(e,n)))}startAfter(e=null,n){return P("Query.startAfter",0,2,arguments.length),new t(this.database,Lt(this._delegate,Sw(e,n)))}endAt(e=null,n){return P("Query.endAt",0,2,arguments.length),new t(this.database,Lt(this._delegate,Dw(e,n)))}endBefore(e=null,n){return P("Query.endBefore",0,2,arguments.length),new t(this.database,Lt(this._delegate,ww(e,n)))}equalTo(e,n){return P("Query.equalTo",1,2,arguments.length),new t(this.database,Lt(this._delegate,Rw(e,n)))}toString(){return P("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return P("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(P("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ne(e,"cancel",i.cancel,!0),i.context=r,hd(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(lt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new Wn(this.database,new Dt(this._delegate._repo,this._delegate._path))}},Wn=class t extends od{constructor(e,n){super(e,new ot(n._repo,n._path,new ma,!1)),this.database=e,this._delegate=n}getKey(){return P("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return P("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,Dr(this._delegate,e))}getParent(){P("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return P("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){P("Reference.set",1,2,arguments.length),Ne("Reference.set","onComplete",n,!0);let r=rd(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(P("Reference.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,$w("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Et("Reference.update",this._delegate._path),Ne("Reference.update","onComplete",n,!0);let r=Ew(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){P("Reference.setWithPriority",2,3,arguments.length),Ne("Reference.setWithPriority","onComplete",r,!0);let i=Cw(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){P("Reference.remove",0,1,arguments.length),Ne("Reference.remove","onComplete",e,!0);let n=yw(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){P("Reference.transaction",1,3,arguments.length),Ne("Reference.transaction","transactionUpdate",e,!1),Ne("Reference.transaction","onComplete",n,!0),QF("Reference.transaction","applyLocally",r,!0);let i=Uw(this._delegate,e,{applyLocally:r}).then(o=>new Jm(o.committed,new ui(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){P("Reference.setPriority",1,2,arguments.length),Ne("Reference.setPriority","onComplete",n,!0);let r=_w(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){P("Reference.push",0,2,arguments.length),Ne("Reference.push","onComplete",n,!0);let r=vw(this._delegate,e),i=r.then(s=>new t(this.database,s));n&&i.then(()=>n(null),s=>n(s));let o=new t(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return Et("Reference.onDisconnect",this._delegate._path),new Zm(new Lu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var di=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:kw,forceLongPolling:Fw}}useEmulator(e,n,r={}){Lw(this._delegate,e,n,r)}ref(e){if(P("database.ref",0,1,arguments.length),e instanceof Wn){let n=Wm(this._delegate,e.toString());return new Wn(this,n)}else{let n=$m(this._delegate,e);return new Wn(this,n)}}refFromURL(e){P("database.refFromURL",1,1,arguments.length);let r=Wm(this._delegate,e);return new Wn(this,r)}goOffline(){return P("database.goOffline",0,0,arguments.length),Vw(this._delegate)}goOnline(){return P("database.goOnline",0,0,arguments.length),Bw(this._delegate)}};di.ServerValue={TIMESTAMP:Hw(),increment:t=>Gw(t)};function ZF({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){ym(n);let a=new pd("database-standalone"),l=new Ba("auth-internal",a);l.setComponent(new wn("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new Ba("app-check-internal",a),c.setComponent(new wn("app-check-internal",()=>i,"PRIVATE"))),{instance:new di(Ym(t,l,c,e,s),t),namespace:o}}var JF=Object.freeze({__proto__:null,initStandalone:ZF});var eL=di.ServerValue;function tL(t){t.INTERNAL.registerComponent(new wn("database-compat",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new di(i,r)},"PUBLIC").setServiceProps({Reference:Wn,Query:od,Database:di,DataSnapshot:ui,enableLogging:jw,INTERNAL:JF,ServerValue:eL}).setMultipleInstances(!0)),t.registerVersion(qF,KF)}tL(gt);function Ra(t,e,n="on",r=Qo){return new G(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),n==="on"?{unsubscribe(){o!=null&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(A(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),xr())}function nL(t){return typeof t=="string"}function rL(t){return typeof t.exportVal=="function"}function Xw(t){return t==null}function Qw(t){return typeof t.set=="function"}function Ww(t,e){return Qw(e)?e:t.ref(e)}function Yw(t,e){if(nL(t))return e.stringCase();if(Qw(t))return e.firebaseCase();if(rL(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function Zw(t){return(Xw(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Jw(t,e,n){e=Zw(e);let r=e.map(i=>Ra(t,i,"on",n));return Si(...r)}function iL(t,e,n){let r=Jw(t,e).pipe(Mi((i,o)=>[...i,o],[]));return sL(t,r,n)}function oL(t,e){return Ra(t,"value","on",e).pipe(A(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function sL(t,e,n){return oL(t,n).pipe(jd(e),A(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Ld(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),A(i=>i.actions))}function zw(t,e){return function(r,i){return Yw(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function aL(t){return function(n){return n?Yw(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function lL(t,e,n){return Ra(t,"value","once",n).pipe(ve(r=>{let i=[M(r)];return e.forEach(o=>i.push(Ra(t,o,"on",n))),Si(...i).pipe(Mi(uL,[]))}),Od())}function eb(t,e){let n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function cL(t,e){if(Xw(e))return 0;{let n=eb(t,e);return n===-1?t.length:n+1}}function uL(t,e){let{payload:n,prevKey:r,key:i}=e,o=eb(t,i),s=cL(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,t=[...t,c],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(l=>l.payload.key!==n.key),t.splice(s,0,e));else{if(r==null)return[e,...t];t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){let a=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,a),t}return t;default:return t}}function qw(t,e,n){return e=Zw(e),lL(t,e,n)}function dL(t,e){let n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:zw(r,"update"),set:zw(r,"set"),push:i=>r.push(i),remove:aL(r),snapshotChanges(i){return qw(t,i,n).pipe(Un)},stateChanges(i){return Jw(t,i,n).pipe(Un)},auditTrail(i){return iL(t,i,n).pipe(Un)},valueChanges(i,o){return qw(t,i,n).pipe(A(a=>a.map(l=>o&&o.idField?W(D({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),Un)}}}function Kw(t,e){return function(){return Ra(t,"value","on",e)}}function fL(t,e){return{query:t,snapshotChanges(){return Kw(t,e.schedulers.outsideAngular)().pipe(Un)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return Kw(t,e.schedulers.outsideAngular)().pipe(Un,A(r=>r.payload.exists()?r.payload.val():null))}}}var hL=new w("angularfire2.realtimeDatabaseURL"),pL=new w("angularfire2.database.use-emulator"),tb=(()=>{class t{schedulers;database;constructor(n,r,i,o,s,a,l,c,u,d,f,h,g,y,v){this.schedulers=a;let T=l,x=ea(n,s,r);c&&og(x,s,u,f,h,g,d,y),this.database=fu(`${x.name}.database.${i}`,"AngularFireDatabase",x.name,()=>{let S=s.runOutsideAngular(()=>x.database(i||void 0));return T&&S.useEmulator(...T),S},[T])}list(n,r){let i=this.schedulers.ngZone.runOutsideAngular(()=>Ww(this.database,n)),o=i;return r&&(o=r(i)),dL(o,this)}object(n){let r=this.schedulers.ngZone.runOutsideAngular(()=>Ww(this.database,n));return fL(r,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||t)(E(Eo),E(To,8),E(hL,8),E(ze),E(oe),E(cu),E(pL,8),E(hu,8),E(Jp,8),E(eg,8),E(tg,8),E(ng,8),E(rg,8),E(ig,8),E(ni,8))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var br=(()=>{class t{fbAuth;fbDb;get user(){return this.fbAuth.user.pipe(Ye()).toPromise()}constructor(n,r){this.fbAuth=n,this.fbDb=r}login(n,r){return ae(this,null,function*(){console.log("Logging in...");let i=yield this.fbAuth.signInWithEmailAndPassword(n,r);console.log("Login result:",i)})}addData(n,r){return ae(this,null,function*(){console.log("Adding data...");let i=yield this.fbDb.list(n).push(r);console.log("Added data:",i)})}getRecentValue(n,r){return ae(this,null,function*(){let i=this.fbDb.list(n,s=>s.orderByChild("email").equalTo(r).limitToLast(1)).valueChanges(),o=yield Pd(i);return o.length>0?o[0]:null})}static \u0275fac=function(r){return new(r||t)(E(hu),E(tb))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ev={};(function t(e,n,r,i){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var m=new OffscreenCanvas(1,1),p=m.getContext("2d");p.fillRect(0,0,1,1);var N=m.transferToImageBitmap();try{p.createPattern(N,"no-repeat")}catch{return!1}return!0}();function l(){}function c(m){var p=n.exports.Promise,N=p!==void 0?p:e.Promise;return typeof N=="function"?new N(m):(m(l,l),null)}var u=function(m,p){return{transform:function(N){if(m)return N;if(p.has(N))return p.get(N);var k=new OffscreenCanvas(N.width,N.height),$=k.getContext("2d");return $.drawImage(N,0,0),p.set(N,k),k},clear:function(){p.clear()}}}(a,new Map),d=function(){var m=Math.floor(16.666666666666668),p,N,k={},$=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(p=function(X){var Z=Math.random();return k[Z]=requestAnimationFrame(function R(J){$===J||$+m-1<J?($=J,delete k[Z],X()):k[Z]=requestAnimationFrame(R)}),Z},N=function(X){k[X]&&cancelAnimationFrame(k[X])}):(p=function(X){return setTimeout(X,m)},N=function(X){return clearTimeout(X)}),{frame:p,cancel:N}}(),f=function(){var m,p,N={};function k($){function X(Z,R){$.postMessage({options:Z||{},callback:R})}$.init=function(R){var J=R.transferControlToOffscreen();$.postMessage({canvas:J},[J])},$.fire=function(R,J,pe){if(p)return X(R,null),p;var De=Math.random().toString(36).slice(2);return p=c(function(me){function we(je){je.data.callback===De&&(delete N[De],$.removeEventListener("message",we),p=null,u.clear(),pe(),me())}$.addEventListener("message",we),X(R,De),N[De]=we.bind(null,{data:{callback:De}})}),p},$.reset=function(){$.postMessage({reset:!0});for(var R in N)N[R](),delete N[R]}}return function(){if(m)return m;if(!r&&o){var $=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{m=new Worker(URL.createObjectURL(new Blob([$])))}catch(X){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",X),null}k(m)}return m}}(),h={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(m,p){return p?p(m):m}function y(m){return m!=null}function v(m,p,N){return g(m&&y(m[p])?m[p]:h[p],N)}function T(m){return m<0?0:Math.floor(m)}function x(m,p){return Math.floor(Math.random()*(p-m))+m}function S(m){return parseInt(m,16)}function j(m){return m.map(Te)}function Te(m){var p=String(m).replace(/[^0-9a-f]/gi,"");return p.length<6&&(p=p[0]+p[0]+p[1]+p[1]+p[2]+p[2]),{r:S(p.substring(0,2)),g:S(p.substring(2,4)),b:S(p.substring(4,6))}}function Ie(m){var p=v(m,"origin",Object);return p.x=v(p,"x",Number),p.y=v(p,"y",Number),p}function st(m){m.width=document.documentElement.clientWidth,m.height=document.documentElement.clientHeight}function zn(m){var p=m.getBoundingClientRect();m.width=p.width,m.height=p.height}function ld(m){var p=document.createElement("canvas");return p.style.position="fixed",p.style.top="0px",p.style.left="0px",p.style.pointerEvents="none",p.style.zIndex=m,p}function cd(m,p,N,k,$,X,Z,R,J){m.save(),m.translate(p,N),m.rotate(X),m.scale(k,$),m.arc(0,0,1,Z,R,J),m.restore()}function vb(m){var p=m.angle*(Math.PI/180),N=m.spread*(Math.PI/180);return{x:m.x,y:m.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:m.startVelocity*.5+Math.random()*m.startVelocity,angle2D:-p+(.5*N-Math.random()*N),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:m.color,shape:m.shape,tick:0,totalTicks:m.ticks,decay:m.decay,drift:m.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:m.gravity*3,ovalScalar:.6,scalar:m.scalar,flat:m.flat}}function yb(m,p){p.x+=Math.cos(p.angle2D)*p.velocity+p.drift,p.y+=Math.sin(p.angle2D)*p.velocity+p.gravity,p.velocity*=p.decay,p.flat?(p.wobble=0,p.wobbleX=p.x+10*p.scalar,p.wobbleY=p.y+10*p.scalar,p.tiltSin=0,p.tiltCos=0,p.random=1):(p.wobble+=p.wobbleSpeed,p.wobbleX=p.x+10*p.scalar*Math.cos(p.wobble),p.wobbleY=p.y+10*p.scalar*Math.sin(p.wobble),p.tiltAngle+=.1,p.tiltSin=Math.sin(p.tiltAngle),p.tiltCos=Math.cos(p.tiltAngle),p.random=Math.random()+2);var N=p.tick++/p.totalTicks,k=p.x+p.random*p.tiltCos,$=p.y+p.random*p.tiltSin,X=p.wobbleX+p.random*p.tiltCos,Z=p.wobbleY+p.random*p.tiltSin;if(m.fillStyle="rgba("+p.color.r+", "+p.color.g+", "+p.color.b+", "+(1-N)+")",m.beginPath(),s&&p.shape.type==="path"&&typeof p.shape.path=="string"&&Array.isArray(p.shape.matrix))m.fill(Cb(p.shape.path,p.shape.matrix,p.x,p.y,Math.abs(X-k)*.1,Math.abs(Z-$)*.1,Math.PI/10*p.wobble));else if(p.shape.type==="bitmap"){var R=Math.PI/10*p.wobble,J=Math.abs(X-k)*.1,pe=Math.abs(Z-$)*.1,De=p.shape.bitmap.width*p.scalar,me=p.shape.bitmap.height*p.scalar,we=new DOMMatrix([Math.cos(R)*J,Math.sin(R)*J,-Math.sin(R)*pe,Math.cos(R)*pe,p.x,p.y]);we.multiplySelf(new DOMMatrix(p.shape.matrix));var je=m.createPattern(u.transform(p.shape.bitmap),"no-repeat");je.setTransform(we),m.globalAlpha=1-N,m.fillStyle=je,m.fillRect(p.x-De/2,p.y-me/2,De,me),m.globalAlpha=1}else if(p.shape==="circle")m.ellipse?m.ellipse(p.x,p.y,Math.abs(X-k)*p.ovalScalar,Math.abs(Z-$)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI):cd(m,p.x,p.y,Math.abs(X-k)*p.ovalScalar,Math.abs(Z-$)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI);else if(p.shape==="star")for(var ne=Math.PI/2*3,at=4*p.scalar,Vt=8*p.scalar,Bt=p.x,Dn=p.y,Ir=5,en=Math.PI/Ir;Ir--;)Bt=p.x+Math.cos(ne)*Vt,Dn=p.y+Math.sin(ne)*Vt,m.lineTo(Bt,Dn),ne+=en,Bt=p.x+Math.cos(ne)*at,Dn=p.y+Math.sin(ne)*at,m.lineTo(Bt,Dn),ne+=en;else m.moveTo(Math.floor(p.x),Math.floor(p.y)),m.lineTo(Math.floor(p.wobbleX),Math.floor($)),m.lineTo(Math.floor(X),Math.floor(Z)),m.lineTo(Math.floor(k),Math.floor(p.wobbleY));return m.closePath(),m.fill(),p.tick<p.totalTicks}function _b(m,p,N,k,$){var X=p.slice(),Z=m.getContext("2d"),R,J,pe=c(function(De){function me(){R=J=null,Z.clearRect(0,0,k.width,k.height),u.clear(),$(),De()}function we(){r&&!(k.width===i.width&&k.height===i.height)&&(k.width=m.width=i.width,k.height=m.height=i.height),!k.width&&!k.height&&(N(m),k.width=m.width,k.height=m.height),Z.clearRect(0,0,k.width,k.height),X=X.filter(function(je){return yb(Z,je)}),X.length?R=d.frame(we):me()}R=d.frame(we),J=me});return{addFettis:function(De){return X=X.concat(De),pe},canvas:m,promise:pe,reset:function(){R&&d.cancel(R),J&&J()}}}function av(m,p){var N=!m,k=!!v(p||{},"resize"),$=!1,X=v(p,"disableForReducedMotion",Boolean),Z=o&&!!v(p||{},"useWorker"),R=Z?f():null,J=N?st:zn,pe=m&&R?!!m.__confetti_initialized:!1,De=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,me;function we(ne,at,Vt){for(var Bt=v(ne,"particleCount",T),Dn=v(ne,"angle",Number),Ir=v(ne,"spread",Number),en=v(ne,"startVelocity",Number),Db=v(ne,"decay",Number),wb=v(ne,"gravity",Number),bb=v(ne,"drift",Number),cv=v(ne,"colors",j),Sb=v(ne,"ticks",Number),uv=v(ne,"shapes"),Ib=v(ne,"scalar"),Mb=!!v(ne,"flat"),dv=Ie(ne),fv=Bt,dd=[],Ab=m.width*dv.x,Nb=m.height*dv.y;fv--;)dd.push(vb({x:Ab,y:Nb,angle:Dn,spread:Ir,startVelocity:en,color:cv[fv%cv.length],shape:uv[x(0,uv.length)],ticks:Sb,decay:Db,gravity:wb,drift:bb,scalar:Ib,flat:Mb}));return me?me.addFettis(dd):(me=_b(m,dd,J,at,Vt),me.promise)}function je(ne){var at=X||v(ne,"disableForReducedMotion",Boolean),Vt=v(ne,"zIndex",Number);if(at&&De)return c(function(en){en()});N&&me?m=me.canvas:N&&!m&&(m=ld(Vt),document.body.appendChild(m)),k&&!pe&&J(m);var Bt={width:m.width,height:m.height};R&&!pe&&R.init(m),pe=!0,R&&(m.__confetti_initialized=!0);function Dn(){if(R){var en={getBoundingClientRect:function(){if(!N)return m.getBoundingClientRect()}};J(en),R.postMessage({resize:{width:en.width,height:en.height}});return}Bt.width=Bt.height=null}function Ir(){me=null,k&&($=!1,e.removeEventListener("resize",Dn)),N&&m&&(document.body.contains(m)&&document.body.removeChild(m),m=null,pe=!1)}return k&&!$&&($=!0,e.addEventListener("resize",Dn,!1)),R?R.fire(ne,Bt,Ir):we(ne,Bt,Ir)}return je.reset=function(){R&&R.reset(),me&&me.reset()},je}var ud;function lv(){return ud||(ud=av(null,{useWorker:!0,resize:!0})),ud}function Cb(m,p,N,k,$,X,Z){var R=new Path2D(m),J=new Path2D;J.addPath(R,new DOMMatrix(p));var pe=new Path2D;return pe.addPath(J,new DOMMatrix([Math.cos(Z)*$,Math.sin(Z)*$,-Math.sin(Z)*X,Math.cos(Z)*X,N,k])),pe}function Eb(m){if(!s)throw new Error("path confetti are not supported in this browser");var p,N;typeof m=="string"?p=m:(p=m.path,N=m.matrix);var k=new Path2D(p),$=document.createElement("canvas"),X=$.getContext("2d");if(!N){for(var Z=1e3,R=Z,J=Z,pe=0,De=0,me,we,je=0;je<Z;je+=2)for(var ne=0;ne<Z;ne+=2)X.isPointInPath(k,je,ne,"nonzero")&&(R=Math.min(R,je),J=Math.min(J,ne),pe=Math.max(pe,je),De=Math.max(De,ne));me=pe-R,we=De-J;var at=10,Vt=Math.min(at/me,at/we);N=[Vt,0,0,Vt,-Math.round(me/2+R)*Vt,-Math.round(we/2+J)*Vt]}return{type:"path",path:p,matrix:N}}function Tb(m){var p,N=1,k="#000000",$='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof m=="string"?p=m:(p=m.text,N="scalar"in m?m.scalar:N,$="fontFamily"in m?m.fontFamily:$,k="color"in m?m.color:k);var X=10*N,Z=""+X+"px "+$,R=new OffscreenCanvas(X,X),J=R.getContext("2d");J.font=Z;var pe=J.measureText(p),De=Math.ceil(pe.actualBoundingBoxRight+pe.actualBoundingBoxLeft),me=Math.ceil(pe.actualBoundingBoxAscent+pe.actualBoundingBoxDescent),we=2,je=pe.actualBoundingBoxLeft+we,ne=pe.actualBoundingBoxAscent+we;De+=we+we,me+=we+we,R=new OffscreenCanvas(De,me),J=R.getContext("2d"),J.font=Z,J.fillStyle=k,J.fillText(p,je,ne);var at=1/N;return{type:"bitmap",bitmap:R.transferToImageBitmap(),matrix:[at,0,0,at,-De*at/2,-me*at/2]}}n.exports=function(){return lv().apply(this,arguments)},n.exports.reset=function(){lv().reset()},n.exports.create=av,n.exports.shapeFromPath=Eb,n.exports.shapeFromText=Tb})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ev,!1);var rb=ev.exports,F5=ev.exports.create;var ib=(()=>{class t{shoot(){rb({particleCount:500,spread:250,scalar:2,colors:["#FFC0CB","#FFB6C1","#FF69B4","#FF1493","#DB7093","#FF7F50","#FF6EB4","#FF00FF","#FF6347","#FFD700"]})}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ob=(()=>{class t{TIMESLOTS=[[800,1100],[1100,1400],[1400,1700]];canPerformAction(n){let r=new Date,i=r.getHours()*100+r.getMinutes(),o=this.TIMESLOTS.find(([u,d])=>u<=i&&i<d);if(!o)return null;if(n===void 0)return!0;let s=new Date(n),a=new Date(r.getFullYear(),r.getMonth(),r.getDate()),l=new Date(s.getFullYear(),s.getMonth(),s.getDate());if(a.getTime()!==l.getTime())return!0;let c=s.getHours()*100+s.getMinutes();return!(o[0]<=c&&c<o[1])}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yL(t,e){if(t&1&&(ye(0,"div",3)(1,"h1"),Fe(2),fe()()),t&2){let n=xt();ke(2),Ji(n.loading)}}function _L(t,e){if(t&1&&(ye(0,"h1",3),Fe(1),fe()),t&2){let n=xt();ke(),Ji(n.canPerformAction===null?"Het is buiten werkuren, je kunt geen waardes invullen":"Je hebt al waardes ingevuld voor dit dagdeel")}}function CL(t,e){t&1&&(ye(0,"h6",11),Fe(1,"Er is iets misgegaan met het verzenden van je waardes"),fe())}function EL(t,e){if(t&1){let n=aC();ye(0,"div",4)(1,"div",6)(2,"h2",7),Fe(3,"Hoe zuur ben je?"),fe(),ye(4,"app-slider",8),to("ngModelChange",function(i){sc(n);let o=xt();return gs(o.acidity,i)||(o.acidity=i),ac(i)}),fe()(),ye(5,"div",6)(6,"h2",7),Fe(7,"Wat is je gemoedstoestand?"),fe(),ye(8,"app-slider",9),to("ngModelChange",function(i){sc(n);let o=xt();return gs(o.feeling,i)||(o.feeling=i),ac(i)}),fe()(),ye(9,"button",10),Pt("click",function(){sc(n);let i=xt();return ac(i.sendValues())}),Fe(10,"Verzenden!"),fe(),kn(11,CL,2,0,"h6",11),fe()}if(t&2){let n=xt();ke(4),Fn("reverse",!0),eo("ngModel",n.acidity),ke(4),eo("ngModel",n.feeling),ke(3),Ln(n.submitFailed?11:-1)}}function TL(t,e){t&1&&(ye(0,"div",5)(1,"h1"),Fe(2,"Je waardes zijn verzonden!"),fe()())}var sb=(()=>{class t{fireBaseProvider;confettiProvider;globalProvider;acidity=0;feeling=0;loading="";submitFailed=!1;submitted=!1;canPerformAction=!1;email="";constructor(n,r,i){this.fireBaseProvider=n,this.confettiProvider=r,this.globalProvider=i}ngOnInit(){return ae(this,null,function*(){this.email=(yield this.fireBaseProvider.user)?.email??""})}checkValues(){return ae(this,null,function*(){try{this.loading="We checken of je al een beoordeling hebt ingevuld...";let n=yield this.fireBaseProvider.getRecentValue(ou.WERKBEOORDELING,this.email);this.canPerformAction=this.globalProvider.canPerformAction(n?.timestamp),console.log("Can perform action: ",this.canPerformAction)}catch(n){console.error(n)}this.loading=""})}sendValues(){return ae(this,null,function*(){try{this.loading="We zijn je beoordeling aan het opslaan";let n={acidity:this.acidity,feeling:this.feeling,timestamp:new Date().getTime(),email:this.email};yield this.fireBaseProvider.addData(ou.WERKBEOORDELING,n),this.confettiProvider.shoot(),this.submitted=!0}catch(n){console.error(n),this.submitFailed=!0}this.loading=""})}static \u0275fac=function(r){return new(r||t)(te(br),te(ib),te(ob))};static \u0275cmp=Nt({type:t,selectors:[["app-fill-score"]],standalone:!0,features:[Rt],decls:8,vars:3,consts:[[1,"email","center"],["src","assets/svg/logout.svg",1,"svg",3,"applyClass"],["src","assets/img/HEE_HEE.jpg","height","183","width","275","alt","pic"],[1,"vh-center"],[1,"values","vh-center"],[1,"submitted","vh-center"],[1,"value"],[1,"center"],[3,"ngModelChange","reverse","ngModel"],[3,"ngModelChange","ngModel"],[3,"click"],[1,"center","red"]],template:function(r,i){r&1&&(ye(0,"h4",0),Fe(1),Xt(2,"svg-icon",1),fe(),Xt(3,"img",2),kn(4,yL,3,1,"div",3)(5,_L,2,1,"h1",3)(6,EL,12,4,"div",4)(7,TL,3,0,"div",5)),r&2&&(ke(),gc("Je bent ingelogd als: ",i.email," "),ke(),Fn("applyClass",!0),ke(2),Ln(i.loading?4:i.canPerformAction?i.submitted?i.submitted?7:-1:6:5))},dependencies:[hT,iu,Co,Qs,pT],styles:["[_nghost-%COMP%]{padding:2rem}[_nghost-%COMP%]   .values[_ngcontent-%COMP%]{max-width:32rem;min-width:16rem;width:100%;gap:2rem}"]})}return t})();function DL(t,e){t&1&&(ye(0,"small"),Fe(1,"Email is verplicht"),fe())}function wL(t,e){t&1&&(ye(0,"small"),Fe(1,"Ongeldig email adres"),fe())}function bL(t,e){if(t&1&&kn(0,DL,2,0,"small")(1,wL,2,0,"small"),t&2){let n=xt();Ln(!(n.email==null||n.email.errors==null)&&n.email.errors.required?0:-1),ke(),Ln(!(n.email==null||n.email.errors==null)&&n.email.errors.email?1:-1)}}function SL(t,e){t&1&&(ye(0,"small"),Fe(1,"Wachtwoord is verplicht"),fe())}function IL(t,e){if(t&1&&kn(0,SL,2,0,"small"),t&2){let n=xt();Ln(!(n.password==null||n.password.errors==null)&&n.password.errors.required?0:-1)}}var ab=(()=>{class t{fireBaseProvider;router;loginForm=new Zc({email:new Xs("",[vo.required,vo.email]),password:new Xs("",[vo.required])});loginFailed=!1;loading=!1;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}constructor(n,r){this.fireBaseProvider=n,this.router=r}login(){return ae(this,null,function*(){try{this.loading=!0,yield this.fireBaseProvider.login(this.email?.value,this.password?.value),yield this.router.navigate(["/fill-score"])}catch(n){console.error(n),this.loginFailed=!0}this.loading=!1})}static \u0275fac=function(r){return new(r||t)(te(br),te(fr))};static \u0275cmp=Nt({type:t,selectors:[["app-login"]],standalone:!0,features:[Rt],decls:13,vars:4,consts:[[3,"ngSubmit","formGroup"],["for","email"],["id","email","formControlName","email","type","email"],["for","password"],["id","password","formControlName","password","type","password"],["type","submit",3,"disabled"]],template:function(r,i){r&1&&(ye(0,"form",0),Pt("ngSubmit",function(){return i.login()}),ye(1,"div")(2,"label",1),Fe(3,"Email:"),fe(),Xt(4,"input",2),kn(5,bL,2,2),fe(),ye(6,"div")(7,"label",3),Fe(8,"Password:"),fe(),Xt(9,"input",4),kn(10,IL,1,1),fe(),ye(11,"button",5),Fe(12,"Login"),fe()()),r&2&&(Fn("formGroup",i.loginForm),ke(5),Ln(i.email!=null&&i.email.invalid&&(i.email!=null&&i.email.dirty||i.email!=null&&i.email.touched)?5:-1),ke(5),Ln(i.password!=null&&i.password.invalid&&(i.password!=null&&i.password.dirty||i.password!=null&&i.password.touched)?10:-1),ke(),Fn("disabled",i.loginForm.invalid))},dependencies:[fT,cT,_o,Co,nT,Gp,Up]})}return t})();var lb=(t,e)=>ae(void 0,null,function*(){let n=_(fr);return(yield _(br).user)?(yield n.navigate(["/fill-score"]),!1):!0});var cb=(t,e)=>ae(void 0,null,function*(){let n=_(fr);return(yield _(br).user)?!0:(yield n.navigate(["/login"]),!1)});var ub=[{path:"login",component:ab,pathMatch:"full",canActivate:[lb]},{path:"fill-score",component:sb,pathMatch:"full",canActivate:[cb]},{path:"**",redirectTo:"fill-score",pathMatch:"full"}];var sd={firebaseConfig:{apiKey:"AIzaSyCuRcP3yE6bQna_3QejsMh2BE3wttptI-8",authDomain:"werkbeoordeelisator-69.firebaseapp.com",projectId:"werkbeoordeelisator-69",storageBucket:"werkbeoordeelisator-69.appspot.com",messagingSenderId:"918835579953",appId:"1:918835579953:web:624a944336b5ac78e55910",measurementId:"G-3RM2SN6XM0",databaseURL:"https://werkbeoordeelisator-69-default-rtdb.europe-west1.firebasedatabase.app"},rootFontSize:18};var db={providers:[yC({eventCoalescing:!0}),RE(ub),Jf(PT.initializeApp(sd.firebaseConfig),gT.forRoot(),UC)]};var Ho={UKNOWN:"Unknown"},sv={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:Ho.UKNOWN},ad={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp(`Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|
      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|
      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|
      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|
      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|
      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|
      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052`),SAMSUNG:new RegExp(`\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|
      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|
      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|
      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|
      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|
      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|
      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|
      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|
      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|
      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|
      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|
      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|
      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|
      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|
      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|
      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|
      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|
      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|
      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|
      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|
      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|
      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|
      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|
      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|
      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|
      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|
      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|
      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|
      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|
      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|
      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|
      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|
      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|
      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|
      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|
      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|
      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|
      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|
      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|
      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|
      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|
      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|
      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|
      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|
      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|
      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|
      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|
      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|
      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|
      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|
      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|
      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|
      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|
      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|
      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F`),LG:new RegExp(`\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|
      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|
      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|
      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|
      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|
      MS323|M257)`),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp(`PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|
        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|
        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|
        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|
        P2000|P7040|P7000|C790`),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp(`KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|
        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|
        CINK KING|CINK PEAX|CINK SLIM|SUBLIM`),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp(`Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|
        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser`)},jo={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp(`SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|
        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|
        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|
        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|
        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|
        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|
        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|
        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|
        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|
        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|
        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|
        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|
        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|
        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|
        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|
        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|
        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|
        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|
        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970`),Kindle:new RegExp(`Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|
        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)`),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp(`^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|
        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|
        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|
        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|
        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b`),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp(`Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|
        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|
        \\bA3-A20\\b|\\bA3-A30`),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp(`PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|
        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|
        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|
        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|
        PMT5887|PMT5001|PMT5002`),LenovoTablet:new RegExp(`Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|
        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|
        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F`),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp(`Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|
        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|
        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|
        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|
        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b`),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp(`\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|
         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b`),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp(`Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|
        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|
        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|
        SGP612|SGP712`),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp(`MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|
        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010`),MIDTablet:new RegExp(`M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|
        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|
        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10`),MSITablet:new RegExp(`MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|
        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b`),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp(`Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|
        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus`),HuaweiTablet:new RegExp(`MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|
        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09`),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp(`NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|
        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|
        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|
        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|
        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|
        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|
        TB-436|TB-416|TB-146SE|TB-126SE`),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp(`Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|
        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b`),DanyTechTablet:`Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|
        Genius TAB GII|Genius TAB GIII|Genius Tab S1`,GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp(`\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|
        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|
        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|
        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b`),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp(`TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|
        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|
        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|
        TPC10111|TPC10203|TPC10205|TPC10503`),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp(`TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|
        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|
        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|
        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10`),OvermaxTablet:new RegExp(`OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|
        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027`),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp(`GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|
        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|
        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|
        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|
        TAB R104|TAB R83.3|TAB A1042`),ModecomTablet:new RegExp(`FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|
        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|
        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003`),VoninoTablet:new RegExp(`\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|
        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|
        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b`),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp(`Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|
        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|
        P1000|P300|S18|S6600|S9100)\\b`),iJoyTablet:new RegExp(`Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|
        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|
        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|
        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|
        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)`),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp(`KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|
        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|
        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|
        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151`),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp(`NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|
        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S`),TeclastTablet:new RegExp(`T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|
        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|
        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|
        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|
        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|
        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|
        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|
        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|
        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi`),OndaTablet:new RegExp(`\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|
        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|
        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|
        Vi40)\\b[s]+|V10 \\b4G\\b`),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp(`MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|
        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|
        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010`),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp(`miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|
        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|
        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b`),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp(`TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|
        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100`),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp(`Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|
        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|
        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107`)},Sr={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:Ho.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},fb=[Sr.PS4,Sr.CHROME_BOOK,Sr.MAC,Sr.DELL,Sr.ASUS,Sr.UNKNOWN],ML={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:Ho.UKNOWN},AL={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:Ho.UKNOWN.toLowerCase()},hb={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},NL={CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},PL=W(D(D(D({},ad),jo),hb),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),nv={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},rv={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},xL=Object.keys(nv).reduce((t,e)=>(t[e]=nv[e],t),{}),pb=Object.keys(rv).reduce((t,e)=>(t[sv[e]]=rv[e],t),{}),Tn=Object.freeze({__proto__:null,BROWSERS:sv,BROWSERS_RE:NL,BROWSER_VERSIONS_RE:pb,BROWSER_VERSIONS_RE_MAP:rv,DESKTOP_DEVICES:fb,DEVICES:Sr,DEVICES_RE:PL,GENERAL:Ho,MOBILES_RE:ad,OS:ML,OS_RE:hb,OS_VERSIONS:AL,OS_VERSIONS_RE:xL,OS_VERSIONS_RE_MAP:nv,TABLETS_RE:jo}),iv=class{constructor(){}test(e,n){return typeof n=="string"&&(n=new RegExp(n)),n instanceof RegExp?n.test(e):n&&Array.isArray(n.and)?n.and.every(r=>this.test(e,r)):n&&Array.isArray(n.or)?n.or.some(r=>this.test(e,r)):n&&n.not?!this.test(e,n.not):!1}exec(e,n){return typeof n=="string"&&(n=new RegExp(n)),n instanceof RegExp?n.exec(e):n&&Array.isArray(n)?n.reduce((r,i)=>r||this.exec(e,i),null):null}},Oa=function(t){return t.Mobile="mobile",t.Tablet="tablet",t.Desktop="desktop",t.Unknown="unknown",t}(Oa||{}),ov=function(t){return t.Portrait="portrait",t.Landscape="landscape",t}(ov||{}),tv="iPad",gb=(()=>{let e=class e{constructor(r){this.platformId=r,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new iv,this.deviceType="",this.orientation="",Dc(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(r=this.userAgent){r!==this.userAgent&&(this.userAgent=r);let i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(o=>{this[o.prop]=Object.keys(Tn[o.const]).reduce((s,a)=>Tn[o.const][a]==="device"&&Dc(this.platformId)&&(this.reTree.test(this.userAgent,jo[tv])||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)?(s[Tn[o.const][a]]=tv,Object):(s[Tn[o.const][a]]=this.reTree.test(r,Tn[`${o.const}_RE`][a]),s),{})}),i.forEach(o=>{this[o.prop]=Object.keys(Tn[o.const]).map(s=>Tn[o.const][s]).reduce((s,a)=>o.prop==="device"&&s===Tn[o.const].ANDROID?this[o.prop][a]?a:s:s===Tn[o.const].UNKNOWN&&this[o.prop][a]?a:s,Tn[o.const].UNKNOWN)}),this.browser_version="0",this.browser!==sv.UNKNOWN){let o=pb[this.browser],s=this.reTree.exec(r,o);s&&(this.browser_version=s[1])}typeof window<"u"&&window.matchMedia?this.orientation=window.matchMedia("(orientation: landscape)").matches?ov.Landscape:ov.Portrait:this.orientation=Ho.UKNOWN,this.deviceType=this.isTablet()?Oa.Tablet:this.isMobile(this.userAgent)?Oa.Mobile:this.isDesktop(this.userAgent)?Oa.Desktop:Oa.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(r=this.userAgent){return this.isTablet(r)?!1:!!Object.keys(ad).find(o=>this.reTree.test(r,ad[o]))}isTablet(r=this.userAgent){return Dc(this.platformId)&&(this.reTree.test(this.userAgent,jo[tv])||typeof navigator<"u"&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)?!0:!!Object.keys(jo).find(o=>!!this.reTree.test(r,jo[o]))}isDesktop(r=this.userAgent){return this.device===Sr.UNKNOWN&&(this.isMobile(r)||this.isTablet(r))?!1:fb.indexOf(this.device)>-1}};e.\u0275fac=function(i){return new(i||e)(E(ze))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mb=(()=>{class t{deviceDetectorService;constructor(n){this.deviceDetectorService=n}ngOnInit(){this.determineFontSize(window.innerWidth),window.addEventListener("resize",()=>this.determineFontSize(window.innerWidth))}determineFontSize(n){let r=window.innerWidth>window.innerHeight?"landscape":"portrait",i=sd.rootFontSize,o=1920;this.deviceDetectorService.isMobile()?r==="landscape"?(o=915,i=13):(o=412,i=12):this.deviceDetectorService.isTablet()&&(r==="landscape"?o=1280:o=768);let s=window.outerWidth/window.outerHeight,a=2,l=i;s>a&&n>o&&this.deviceDetectorService.isDesktop()||(l=n/o*i),document.documentElement.style.setProperty("font-size",`${l.toFixed(3)}px`)}static \u0275fac=function(r){return new(r||t)(te(gb))};static \u0275cmp=Nt({type:t,selectors:[["app-root"]],standalone:!0,features:[Rt],decls:1,vars:0,consts:[[1,"outlet"]],template:function(r,i){r&1&&Xt(0,"router-outlet",0)},dependencies:[Ip],styles:[".frikandelbroodje[_ngcontent-%COMP%]{color:red}"]})}return t})();YC(mb,db).catch(t=>console.error(t));
