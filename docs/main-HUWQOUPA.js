import{A as as,B as iy,C as oy,D as P,E as Ct,F as Be,G as $d,H as sy,I as ls,J as rt,K as Hn,L as il,M as Wd,N as ay,O as Ri,P as cs,Q as ly,R as cy,S as dr,T as St,a as D,b as z,c as oe,d as qv,e as el,f as Kv,g as Xv,h as C,i as xi,j as tl,k as Qv,l as Yv,m as Ue,n as Zv,o as Ud,p as Jv,q as pn,r as ey,s as ty,t as nl,u as Oe,v as ny,w as ry,x as Ft,y as ur,z as rl}from"./chunk-YI2MOBZN.js";function uy(t,e){return Object.is(t,e)}var He=null,us=!1,ol=1,Yt=Symbol("SIGNAL");function Z(t){let e=He;return He=t,e}function dy(){return He}function SS(){return us}var Oi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function al(t){if(us)throw new Error("");if(He===null)return;He.consumerOnSignalRead(t);let e=He.nextProducerIndex++;if(fl(He),e<He.producerNode.length&&He.producerNode[e]!==t&&ds(He)){let n=He.producerNode[e];dl(n,He.producerIndexOfThis[e])}He.producerNode[e]!==t&&(He.producerNode[e]=t,He.producerIndexOfThis[e]=ds(He)?my(t,He,e):0),He.producerLastReadVersion[e]=t.version}function IS(){ol++}function fy(t){if(!(ds(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ol)){if(!t.producerMustRecompute(t)&&!cl(t)){t.dirty=!1,t.lastCleanEpoch=ol;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ol}}function hy(t){if(t.liveConsumerNode===void 0)return;let e=us;us=!0;try{for(let n of t.liveConsumerNode)n.dirty||gy(n)}finally{us=e}}function py(){return He?.consumerAllowSignalWrites!==!1}function gy(t){t.dirty=!0,hy(t),t.consumerMarkedDirty?.(t)}function fs(t){return t&&(t.nextProducerIndex=0),Z(t)}function ll(t,e){if(Z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ds(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)dl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function cl(t){fl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(fy(n),r!==n.version))return!0}return!1}function ul(t){if(fl(t),ds(t))for(let e=0;e<t.producerNode.length;e++)dl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function my(t,e,n){if(vy(t),t.liveConsumerNode.length===0&&yy(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=my(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function dl(t,e){if(vy(t),t.liveConsumerNode.length===1&&yy(t))for(let r=0;r<t.producerNode.length;r++)dl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];fl(i),i.producerIndexOfThis[r]=e}}function ds(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function fl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function vy(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function yy(t){return t.producerNode!==void 0}function _y(t){let e=Object.create(MS);e.computation=t;let n=()=>{if(fy(e),al(e),e.value===sl)throw e.error;return e.value};return n[Yt]=e,n}var zd=Symbol("UNSET"),qd=Symbol("COMPUTING"),sl=Symbol("ERRORED"),MS=z(D({},Oi),{value:zd,dirty:!0,error:null,equal:uy,producerMustRecompute(t){return t.value===zd||t.value===qd},producerRecomputeValue(t){if(t.value===qd)throw new Error("Detected cycle in computations.");let e=t.value;t.value=qd;let n=fs(t),r;try{r=t.computation()}catch(i){r=sl,t.error=i}finally{ll(t,n)}if(e!==zd&&e!==sl&&r!==sl&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function AS(){throw new Error}var Cy=AS;function Ty(){Cy()}function Ey(t){Cy=t}var NS=null;function Dy(t){let e=Object.create(Xd);e.value=t;let n=()=>(al(e),e.value);return n[Yt]=e,n}function hl(t,e){py()||Ty(),t.equal(t.value,e)||(t.value=e,PS(t))}function wy(t,e){py()||Ty(),hl(t,e(t.value))}var Xd=z(D({},Oi),{equal:uy,value:void 0});function PS(t){t.version++,IS(),hy(t),NS?.()}function by(t,e,n){let r=Object.create(xS);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=l=>{r.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(ul(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=Kd)}let a=()=>{if(r.fn===null)return;if(SS())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!cl(r))return;r.hasRun=!0;let l=fs(r);try{r.cleanupFn(),r.cleanupFn=Kd,r.fn(i)}finally{ll(r,l)}};return r.ref={notify:()=>gy(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Yt]:r},r.ref}var Kd=()=>{},xS=z(D({},Oi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Kd});function F(t){return typeof t=="function"}function ki(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var pl=ki(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function zr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ae=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){e=o instanceof pl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Sy(o)}catch(s){e=e??[],s instanceof pl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new pl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Sy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zr(n,e)}remove(e){let{_finalizers:n}=this;n&&zr(n,e),e instanceof t&&e._removeParent(this)}};Ae.EMPTY=(()=>{let t=new Ae;return t.closed=!0,t})();var Qd=Ae.EMPTY;function gl(t){return t instanceof Ae||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function Sy(t){F(t)?t():t.unsubscribe()}var Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fi={setTimeout(t,e,...n){let{delegate:r}=Fi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ml(t){Fi.setTimeout(()=>{let{onUnhandledError:e}=Zt;if(e)e(t);else throw t})}function qr(){}var Iy=Yd("C",void 0,void 0);function My(t){return Yd("E",void 0,t)}function Ay(t){return Yd("N",t,void 0)}function Yd(t,e,n){return{kind:t,value:e,error:n}}var Kr=null;function Li(t){if(Zt.useDeprecatedSynchronousErrorHandling){let e=!Kr;if(e&&(Kr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Kr;if(Kr=null,n)throw r}}else t()}function Ny(t){Zt.useDeprecatedSynchronousErrorHandling&&Kr&&(Kr.errorThrown=!0,Kr.error=t)}var Xr=class extends Ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gl(e)&&e.add(this)):this.destination=kS}static create(e,n,r){return new Jt(e,n,r)}next(e){this.isStopped?Jd(Ay(e),this):this._next(e)}error(e){this.isStopped?Jd(My(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Jd(Iy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},RS=Function.prototype.bind;function Zd(t,e){return RS.call(t,e)}var ef=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){vl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){vl(r)}else vl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){vl(n)}}},Jt=class extends Xr{constructor(e,n,r){super();let i;if(F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Zt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Zd(e.next,o),error:e.error&&Zd(e.error,o),complete:e.complete&&Zd(e.complete,o)}):i=e}this.destination=new ef(i)}};function vl(t){Zt.useDeprecatedSynchronousErrorHandling?Ny(t):ml(t)}function OS(t){throw t}function Jd(t,e){let{onStoppedNotification:n}=Zt;n&&Fi.setTimeout(()=>n(t,e))}var kS={closed:!0,next:qr,error:OS,complete:qr};var Vi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function qe(t){return t}function tf(...t){return nf(t)}function nf(t){return t.length===0?qe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var $=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=LS(n)?n:new Jt(n,r,i);return Li(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Py(r),new r((i,o)=>{let s=new Jt({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vi](){return this}pipe(...n){return nf(n)(this)}toPromise(n){return n=Py(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Py(t){var e;return(e=t??Zt.Promise)!==null&&e!==void 0?e:Promise}function FS(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function LS(t){return t&&t instanceof Xr||FS(t)&&gl(t)}function rf(t){return F(t?.lift)}function H(t){return e=>{if(rf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function L(t,e,n,r,i){return new of(t,e,n,r,i)}var of=class extends Xr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bi(){return H((t,e)=>{let n=null;t._refCount++;let r=L(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Hi=class extends ${constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,rf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ae;let n=this.getSubject();e.add(this.source.subscribe(L(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ae.EMPTY)}return e}refCount(){return Bi()(this)}};var xy=ki(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=(()=>{class t extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new yl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new xy}next(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Qd:(this.currentObservers=null,o.push(n),new Ae(()=>{this.currentObservers=null,zr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return t.create=(e,n)=>new yl(e,n),t})(),yl=class extends we{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Qd}};var Ke=class extends we{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var hs={now(){return(hs.delegate||Date).now()},delegate:void 0};var _l=class extends we{constructor(e=1/0,n=1/0,r=hs){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Cl=class extends Ae{constructor(e,n){super()}schedule(e,n=0){return this}};var ps={setInterval(t,e,...n){let{delegate:r}=ps;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ps;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ji=class extends Cl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ps.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ps.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Gi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Gi.now=hs.now;var Ui=class extends Gi{constructor(e,n=Gi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var gs=new Ui(ji);var Tl=class extends ji{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var El=class extends Ui{};var sf=new El(Tl);var it=new $(t=>t.complete());function Ry(t){return t&&F(t.schedule)}function af(t){return t[t.length-1]}function $i(t){return F(af(t))?t.pop():void 0}function gn(t){return Ry(af(t))?t.pop():void 0}function Oy(t,e){return typeof af(t)=="number"?t.pop():e}var Dl=t=>t&&typeof t.length=="number"&&typeof t!="function";function wl(t){return F(t?.then)}function bl(t){return F(t[Vi])}function Sl(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function Il(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function VS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ml=VS();function Al(t){return F(t?.[Ml])}function Nl(t){return Kv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield el(n.read());if(i)return yield el(void 0);yield yield el(r)}}finally{n.releaseLock()}})}function Pl(t){return F(t?.getReader)}function he(t){if(t instanceof $)return t;if(t!=null){if(bl(t))return BS(t);if(Dl(t))return HS(t);if(wl(t))return jS(t);if(Sl(t))return ky(t);if(Al(t))return GS(t);if(Pl(t))return US(t)}throw Il(t)}function BS(t){return new $(e=>{let n=t[Vi]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HS(t){return new $(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function jS(t){return new $(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ml)})}function GS(t){return new $(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ky(t){return new $(e=>{$S(t,e).catch(n=>e.error(n))})}function US(t){return ky(Nl(t))}function $S(t,e){var n,r,i,o;return qv(this,void 0,void 0,function*(){try{for(n=Xv(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Tt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Lt(t,e=0){return H((n,r)=>{n.subscribe(L(r,i=>Tt(r,t,()=>r.next(i),e),()=>Tt(r,t,()=>r.complete(),e),i=>Tt(r,t,()=>r.error(i),e)))})}function en(t,e=0){return H((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Fy(t,e){return he(t).pipe(en(e),Lt(e))}function Ly(t,e){return he(t).pipe(en(e),Lt(e))}function Vy(t,e){return new $(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function By(t,e){return new $(n=>{let r;return Tt(n,e,()=>{r=t[Ml](),Tt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function xl(t,e){if(!t)throw new Error("Iterable cannot be null");return new $(n=>{Tt(n,e,()=>{let r=t[Symbol.asyncIterator]();Tt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Hy(t,e){return xl(Nl(t),e)}function jy(t,e){if(t!=null){if(bl(t))return Fy(t,e);if(Dl(t))return Vy(t,e);if(wl(t))return Ly(t,e);if(Sl(t))return xl(t,e);if(Al(t))return By(t,e);if(Pl(t))return Hy(t,e)}throw Il(t)}function fe(t,e){return e?jy(t,e):he(t)}function M(...t){let e=gn(t);return fe(t,e)}function jn(t,e){let n=F(t)?t:()=>t,r=i=>i.error(n());return new $(e?i=>e.schedule(r,0,i):r)}function lf(t){return!!t&&(t instanceof $||F(t.lift)&&F(t.subscribe))}var tn=ki(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function cf(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Jt({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new tn)}});t.subscribe(o)})}function A(t,e){return H((n,r)=>{let i=0;n.subscribe(L(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:WS}=Array;function zS(t,e){return WS(e)?t(...e):t(e)}function Rl(t){return A(e=>zS(t,e))}var{isArray:qS}=Array,{getPrototypeOf:KS,prototype:XS,keys:QS}=Object;function Ol(t){if(t.length===1){let e=t[0];if(qS(e))return{args:e,keys:null};if(YS(e)){let n=QS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function YS(t){return t&&typeof t=="object"&&KS(t)===XS}function kl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Fl(...t){let e=gn(t),n=$i(t),{args:r,keys:i}=Ol(t);if(r.length===0)return fe([],e);let o=new $(ZS(r,e,i?s=>kl(i,s):qe));return n?o.pipe(Rl(n)):o}function ZS(t,e,n=qe){return r=>{Gy(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Gy(e,()=>{let c=fe(t[l],e),u=!1;c.subscribe(L(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Gy(t,e,n){t?Tt(n,t,e):e()}function Uy(t,e,n,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=y=>c<r?g(y):l.push(y),g=y=>{o&&e.next(y),c++;let v=!1;he(n(y,u++)).subscribe(L(e,E=>{i?.(E),o?h(E):e.next(E)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<r;){let E=l.shift();s?Tt(e,s,()=>g(E)):g(E)}f()}catch(E){e.error(E)}}))};return t.subscribe(L(e,h,()=>{d=!0,f()})),()=>{a?.()}}function je(t,e,n=1/0){return F(e)?je((r,i)=>A((o,s)=>e(r,o,i,s))(he(t(r,i))),n):(typeof e=="number"&&(n=e),H((r,i)=>Uy(r,i,t,n)))}function ms(t=1/0){return je(qe,t)}function $y(){return ms(1)}function Wi(...t){return $y()(fe(t,gn(t)))}function Ll(t){return new $(e=>{he(t()).subscribe(e)})}function uf(...t){let e=$i(t),{args:n,keys:r}=Ol(t),i=new $(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;he(n[u]).subscribe(L(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?kl(r,a):a),o.complete())}))}});return e?i.pipe(Rl(e)):i}function zi(...t){let e=gn(t),n=Oy(t,1/0),r=t;return r.length?r.length===1?he(r[0]):ms(n)(fe(r,e)):it}function ot(t,e){return H((n,r)=>{let i=0;n.subscribe(L(r,o=>t.call(e,o,i++)&&r.next(o)))})}function mn(t){return H((e,n)=>{let r=null,i=!1,o;r=e.subscribe(L(n,void 0,void 0,s=>{o=he(t(s,mn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Wy(t,e,n,r,i){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(L(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function fr(t,e){return F(e)?je(t,e,1):je(t,1)}function hr(t){return H((e,n)=>{let r=!1;e.subscribe(L(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Gn(t){return t<=0?()=>it:H((e,n)=>{let r=0;e.subscribe(L(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function df(t){return A(()=>t)}function ff(t,e=qe){return t=t??JS,H((n,r)=>{let i,o=!0;n.subscribe(L(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function JS(t,e){return t===e}function Vl(t=eI){return H((e,n)=>{let r=!1;e.subscribe(L(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function eI(){return new tn}function vn(t){return H((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function st(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ot((i,o)=>t(i,o,r)):qe,Gn(1),n?hr(e):Vl(()=>new tn))}function qi(t){return t<=0?()=>it:H((e,n)=>{let r=[];e.subscribe(L(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ot((i,o)=>t(i,o,r)):qe,qi(1),n?hr(e):Vl(()=>new tn))}function Ki(t,e){return H(Wy(t,e,arguments.length>=2,!0))}function Qr(t={}){let{connector:e=()=>new we,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},g=()=>{let y=s;h(),y?.unsubscribe()};return H((y,v)=>{c++,!d&&!u&&f();let E=l=l??e();v.add(()=>{c--,c===0&&!d&&!u&&(a=pf(g,i))}),E.subscribe(v),!s&&c>0&&(s=new Jt({next:x=>E.next(x),error:x=>{d=!0,f(),a=pf(h,n,x),E.error(x)},complete:()=>{u=!0,f(),a=pf(h,r),E.complete()}}),he(y).subscribe(s))})(o)}}function pf(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Jt({next:()=>{r.unsubscribe(),t()}});return he(e(...n)).subscribe(r)}function Bl(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,Qr({connector:()=>new _l(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function gf(t){return H((e,n)=>{let r=!1,i=0;e.subscribe(L(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}function mf(...t){let e=gn(t);return H((n,r)=>{(e?Wi(t,n,e):Wi(t,n)).subscribe(r)})}function Ee(t,e){return H((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(L(r,l=>{i?.unsubscribe();let c=0,u=o++;he(t(l,u)).subscribe(i=L(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Hl(t,e){return F(e)?Ee(()=>t,e):Ee(()=>t)}function vf(t){return H((e,n)=>{he(t).subscribe(L(n,()=>n.complete(),qr)),!n.closed&&e.subscribe(n)})}function Ne(t,e,n){let r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?H((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(L(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):qe}function yf(...t){let e=$i(t);return H((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let l=0;l<i;l++)he(t[l]).subscribe(L(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(qe))&&(s=null))},qr));n.subscribe(L(r,l=>{if(a){let c=[l,...o];r.next(e?e(...c):c)}}))})}var tI="https://g.co/ng/security#xss",S=class extends Error{constructor(e,n){super(yc(e,n)),this.code=e}};function yc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var P0=Symbol("InputSignalNode#UNSET"),nI=z(D({},Xd),{transformFn:void 0,applyValueToInputSignal(t,e){hl(t,e)}});function x0(t,e){let n=Object.create(nI);n.value=t,n.transformFn=e?.transform;function r(){if(al(n),n.value===P0)throw new S(-950,!1);return n.value}return r[Yt]=n,r}function Ms(t){return{toString:t}.toString()}var jl="__parameters__";function rI(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function R0(t,e,n){return Ms(()=>{let r=rI(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(jl)?l[jl]:Object.defineProperty(l,jl,{value:[]})[jl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Jr=globalThis;function pe(t){for(let e in t)if(t[e]===pe)return e;throw Error("Could not find renamed property on target object.")}function iI(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function zy(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var oI=pe({__forward_ref__:pe});function Dn(t){return t.__forward_ref__=Dn,t.toString=function(){return Dt(this())},t}function at(t){return O0(t)?t():t}function O0(t){return typeof t=="function"&&t.hasOwnProperty(oI)&&t.__forward_ref__===Dn}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ut(t){return{providers:t.providers||[],imports:t.imports||[]}}function _c(t){return qy(t,F0)||qy(t,L0)}function k0(t){return _c(t)!==null}function qy(t,e){return t.hasOwnProperty(e)?t[e]:null}function sI(t){let e=t&&(t[F0]||t[L0]);return e||null}function Ky(t){return t&&(t.hasOwnProperty(Xy)||t.hasOwnProperty(aI))?t[Xy]:null}var F0=pe({\u0275prov:pe}),Xy=pe({\u0275inj:pe}),L0=pe({ngInjectableDef:pe}),aI=pe({ngInjectorDef:pe}),w=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function V0(t){return t&&!!t.\u0275providers}var lI=pe({\u0275cmp:pe}),cI=pe({\u0275dir:pe}),uI=pe({\u0275pipe:pe}),dI=pe({\u0275mod:pe}),Ql=pe({\u0275fac:pe}),vs=pe({__NG_ELEMENT_ID__:pe}),Qy=pe({__NG_ENV_ID__:pe});function B0(t){return typeof t=="string"?t:t==null?"":String(t)}function fI(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():B0(t)}function hI(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,t)}function Ih(t,e){throw new S(-201,!1)}var q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(q||{}),Of;function H0(){return Of}function Et(t){let e=Of;return Of=t,e}function j0(t,e,n){let r=_c(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&q.Optional)return null;if(e!==void 0)return e;Ih(t,"Injector")}var pI={},ys=pI,kf="__NG_DI_FLAG__",Yl="ngTempTokenPath",gI="ngTokenPath",mI=/\n/gm,vI="\u0275",Yy="__source",Zi;function yI(){return Zi}function pr(t){let e=Zi;return Zi=t,e}function _I(t,e=q.Default){if(Zi===void 0)throw new S(-203,!1);return Zi===null?j0(t,void 0,e):Zi.get(t,e&q.Optional?null:void 0,e)}function T(t,e=q.Default){return(H0()||_I)(at(t),e)}function _(t,e=q.Default){return T(t,Cc(e))}function Cc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ff(t){let e=[];for(let n=0;n<t.length;n++){let r=at(t[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,o=q.Default;for(let s=0;s<r.length;s++){let a=r[s],l=CI(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(T(i,o))}else e.push(T(r))}return e}function G0(t,e){return t[kf]=e,t.prototype[kf]=e,t}function CI(t){return t[kf]}function TI(t,e,n,r){let i=t[Yl];throw e[Yy]&&i.unshift(e[Yy]),t.message=EI(`
`+t.message,i,n,r),t[gI]=i,t[Yl]=null,t}function EI(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==vI?t.slice(2):t;let i=Dt(e);if(Array.isArray(e))i=e.map(Dt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Dt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mI,`
  `)}`}var ci=G0(R0("Optional"),8);var Tc=G0(R0("SkipSelf"),4);function ti(t,e){let n=t.hasOwnProperty(Ql);return n?t[Ql]:null}function Mh(t,e){t.forEach(n=>Array.isArray(n)?Mh(n,e):e(n))}function U0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function DI(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function wI(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function bI(t,e,n){let r=As(t,e);return r>=0?t[r|1]=n:(r=~r,wI(t,r,e,n)),r}function _f(t,e){let n=As(t,e);if(n>=0)return t[n|1]}function As(t,e){return SI(t,e,1)}function SI(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var eo={},Vt=[],to=new w(""),$0=new w("",-1),W0=new w(""),Jl=class{get(e,n=ys){if(n===ys){let r=new Error(`NullInjectorError: No provider for ${Dt(e)}!`);throw r.name="NullInjectorError",r}return n}},z0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(z0||{}),Cn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Cn||{}),vr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(vr||{});function II(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Lf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];AI(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function MI(t){return t===3||t===4||t===6}function AI(t){return t.charCodeAt(0)===64}function _s(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Zy(t,n,i,null,e[++r]):Zy(t,n,i,null,null))}}return t}function Zy(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var q0="ng-template";function NI(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&II(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ah(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ah(t){return t.type===4&&t.value!==q0}function PI(t,e,n){let r=t.type===4&&!n?q0:t.value;return e===r}function xI(t,e,n){let r=4,i=t.attrs,o=i!==null?kI(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!nn(r)&&!nn(l))return!1;if(s&&nn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!PI(t,l,n)||l===""&&e.length===1){if(nn(r))return!1;s=!0}}else if(r&8){if(i===null||!NI(t,i,l,n)){if(nn(r))return!1;s=!0}}else{let c=e[++a],u=RI(l,i,Ah(t),n);if(u===-1){if(nn(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(nn(r))return!1;s=!0}}}}return nn(r)||s}function nn(t){return(t&1)===0}function RI(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return FI(e,t)}function K0(t,e,n=!1){for(let r=0;r<e.length;r++)if(xI(t,e[r],n))return!0;return!1}function OI(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function kI(t){for(let e=0;e<t.length;e++){let n=t[e];if(MI(n))return e}return t.length}function FI(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function LI(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Jy(t,e){return t?":not("+e.trim()+")":e}function VI(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!nn(s)&&(e+=Jy(o,i),i=""),r=s,o=o||!nn(r);n++}return i!==""&&(e+=Jy(o,i)),e}function BI(t){return t.map(VI).join(",")}function HI(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!nn(i))break;i=o}r++}return{attrs:e,classes:n}}function Ht(t){return Ms(()=>{let e=J0(t),n=z(D({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===z0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Cn.Emulated,styles:t.styles||Vt,_:null,schemas:t.schemas||null,tView:null,id:""});e_(n);let r=t.dependencies;return n.directiveDefs=t0(r,!1),n.pipeDefs=t0(r,!0),n.id=UI(n),n})}function jI(t){return ni(t)||X0(t)}function GI(t){return t!==null}function dt(t){return Ms(()=>({type:t.type,bootstrap:t.bootstrap||Vt,declarations:t.declarations||Vt,imports:t.imports||Vt,exports:t.exports||Vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function e0(t,e){if(t==null)return eo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=vr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==vr.None?[r,a]:r,e[o]=s):n[o]=r}return n}function et(t){return Ms(()=>{let e=J0(t);return e_(e),e})}function Ec(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ni(t){return t[lI]||null}function X0(t){return t[cI]||null}function Q0(t){return t[uI]||null}function Y0(t){let e=ni(t)||X0(t)||Q0(t);return e!==null?e.standalone:!1}function Z0(t,e){let n=t[dI]||null;if(!n&&e===!0)throw new Error(`Type ${Dt(t)} does not have '\u0275mod' property.`);return n}function J0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||eo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:e0(t.inputs,e),outputs:e0(t.outputs),debugInfo:null}}function e_(t){t.features?.forEach(e=>e(t))}function t0(t,e){if(!t)return null;let n=e?Q0:jI;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(GI)}function UI(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ui(t){return{\u0275providers:t}}function Nh(...t){return{\u0275providers:t_(!0,t),\u0275fromNgModule:!0}}function t_(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Mh(e,s=>{let a=s;Vf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&n_(i,o),n}function n_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ph(i,o=>{e(o,r)})}}function Vf(t,e,n,r){if(t=at(t),!t)return!1;let i=null,o=Ky(t),s=!o&&ni(t);if(!o&&!s){let l=t.ngModule;if(o=Ky(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Vf(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Mh(o.imports,u=>{Vf(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&n_(c,e)}if(!a){let c=ti(i)||(()=>new i);e({provide:i,useFactory:c,deps:Vt},i),e({provide:W0,useValue:i,multi:!0},i),e({provide:to,useValue:()=>T(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;Ph(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Ph(t,e){for(let n of t)V0(n)&&(n=n.\u0275providers),Array.isArray(n)?Ph(n,e):e(n)}var $I=pe({provide:String,useValue:pe});function r_(t){return t!==null&&typeof t=="object"&&$I in t}function WI(t){return!!(t&&t.useExisting)}function zI(t){return!!(t&&t.useFactory)}function no(t){return typeof t=="function"}function qI(t){return!!t.useClass}var Dc=new w(""),$l={},KI={},Cf;function xh(){return Cf===void 0&&(Cf=new Jl),Cf}var wt=class{},Cs=class extends wt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hf(e,s=>this.processProvider(s)),this.records.set($0,Xi(void 0,this)),i.has("environment")&&this.records.set(wt,Xi(void 0,this));let o=this.records.get(Dc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(W0,Vt,q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=pr(this),r=Et(void 0),i;try{return e()}finally{pr(n),Et(r)}}get(e,n=ys,r=q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Qy))return e[Qy](this);r=Cc(r);let i,o=pr(this),s=Et(void 0);try{if(!(r&q.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=JI(e)&&_c(e);c&&this.injectableDefInScope(c)?l=Xi(Bf(e),$l):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&q.Self?xh():this.parent;return n=r&q.Optional&&n===ys?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Yl]=a[Yl]||[]).unshift(Dt(e)),o)throw a;return TI(a,e,"R3InjectorError",this.source)}else throw a}finally{Et(s),pr(o)}}resolveInjectorInitializers(){let e=Z(null),n=pr(this),r=Et(void 0),i;try{let o=this.get(to,Vt,q.Self);for(let s of o)s()}finally{pr(n),Et(r),Z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){e=at(e);let n=no(e)?e:at(e&&e.provide),r=QI(e);if(!no(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Xi(void 0,$l,!0),i.factory=()=>Ff(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Z(null);try{return n.value===$l&&(n.value=KI,n.value=n.factory()),typeof n.value=="object"&&n.value&&ZI(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=at(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Bf(t){let e=_c(t),n=e!==null?e.factory:ti(t);if(n!==null)return n;if(t instanceof w)throw new S(204,!1);if(t instanceof Function)return XI(t);throw new S(204,!1)}function XI(t){if(t.length>0)throw new S(204,!1);let n=sI(t);return n!==null?()=>n.factory(t):()=>new t}function QI(t){if(r_(t))return Xi(void 0,t.useValue);{let e=i_(t);return Xi(e,$l)}}function i_(t,e,n){let r;if(no(t)){let i=at(t);return ti(i)||Bf(i)}else if(r_(t))r=()=>at(t.useValue);else if(zI(t))r=()=>t.useFactory(...Ff(t.deps||[]));else if(WI(t))r=()=>T(at(t.useExisting));else{let i=at(t&&(t.useClass||t.provide));if(YI(t))r=()=>new i(...Ff(t.deps));else return ti(i)||Bf(i)}return r}function Xi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function YI(t){return!!t.deps}function ZI(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function JI(t){return typeof t=="function"||typeof t=="object"&&t instanceof w}function Hf(t,e){for(let n of t)Array.isArray(n)?Hf(n,e):n&&V0(n)?Hf(n.\u0275providers,e):e(n)}function on(t,e){t instanceof Cs&&t.assertNotDestroyed();let n,r=pr(t),i=Et(void 0);try{return e()}finally{pr(r),Et(i)}}function o_(){return H0()!==void 0||yI()!=null}function eM(t){if(!o_())throw new S(-203,!1)}function tM(t){return typeof t=="function"}var Kn=0,G=1,O=2,ct=3,rn=4,bt=5,ro=6,ec=7,Ze=8,io=9,Un=10,Ge=11,Ts=12,n0=13,mo=14,It=15,oo=16,Qi=17,so=18,wc=19,s_=20,gr=21,Wl=22,Bt=23,Je=25,a_=1;var ri=7,tc=8,nc=9,lt=10,rc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(rc||{});function mr(t){return Array.isArray(t)&&typeof t[a_]=="object"}function Xn(t){return Array.isArray(t)&&t[a_]===!0}function l_(t){return(t.flags&4)!==0}function bc(t){return t.componentOffset>-1}function Rh(t){return(t.flags&1)===1}function yr(t){return!!t.template}function jf(t){return(t[O]&512)!==0}var Gf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function c_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Cr(){return u_}function u_(t){return t.type.prototype.ngOnChanges&&(t.setInput=rM),nM}Cr.ngInherit=!0;function nM(){let t=f_(this),e=t?.current;if(e){let n=t.previous;if(n===eo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function rM(t,e,n,r,i){let o=this.declaredInputs[r],s=f_(t)||iM(t,{previous:eo,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Gf(c&&c.currentValue,n,l===eo),c_(t,e,i,n)}var d_="__ngSimpleChanges__";function f_(t){return t[d_]||null}function iM(t,e){return t[d_]=e}var r0=null;var yn=function(t,e,n){r0?.(t,e,n)},oM="svg",sM="math";function Tn(t){for(;Array.isArray(t);)t=t[Kn];return t}function h_(t,e){return Tn(e[t])}function sn(t,e){return Tn(e[t.index])}function Oh(t,e){return t.data[e]}function p_(t,e){return t[e]}function Tr(t,e){let n=e[t];return mr(n)?n:n[Kn]}function kh(t){return(t[O]&128)===128}function aM(t){return Xn(t[ct])}function ao(t,e){return e==null?null:t[e]}function g_(t){t[Qi]=0}function m_(t){t[O]&1024||(t[O]|=1024,kh(t)&&Sc(t))}function lM(t,e){for(;t>0;)e=e[mo],t--;return e}function Es(t){return!!(t[O]&9216||t[Bt]?.dirty)}function Uf(t){t[Un].changeDetectionScheduler?.notify(7),t[O]&64&&(t[O]|=1024),Es(t)&&Sc(t)}function Sc(t){t[Un].changeDetectionScheduler?.notify(0);let e=ii(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!kh(e)));)e=ii(e)}function v_(t,e){if((t[O]&256)===256)throw new S(911,!1);t[gr]===null&&(t[gr]=[]),t[gr].push(e)}function cM(t,e){if(t[gr]===null)return;let n=t[gr].indexOf(e);n!==-1&&t[gr].splice(n,1)}function ii(t){let e=t[ct];return Xn(e)?e[ct]:e}var J={lFrame:A_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var y_=!1;function uM(){return J.lFrame.elementDepthCount}function dM(){J.lFrame.elementDepthCount++}function fM(){J.lFrame.elementDepthCount--}function __(){return J.bindingsEnabled}function C_(){return J.skipHydrationRootTNode!==null}function hM(t){return J.skipHydrationRootTNode===t}function pM(){J.skipHydrationRootTNode=null}function se(){return J.lFrame.lView}function ft(){return J.lFrame.tView}function Ic(t){return J.lFrame.contextLView=t,t[Ze]}function Mc(t){return J.lFrame.contextLView=null,t}function Mt(){let t=T_();for(;t!==null&&t.type===64;)t=t.parent;return t}function T_(){return J.lFrame.currentTNode}function gM(){let t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ns(t,e){let n=J.lFrame;n.currentTNode=t,n.isParent=e}function E_(){return J.lFrame.isParent}function D_(){J.lFrame.isParent=!1}function w_(){return y_}function i0(t){y_=t}function b_(){let t=J.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function mM(t){return J.lFrame.bindingIndex=t}function Ps(){return J.lFrame.bindingIndex++}function vM(t){let e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function yM(){return J.lFrame.inI18n}function _M(t,e){let n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,$f(e)}function CM(){return J.lFrame.currentDirectiveIndex}function $f(t){J.lFrame.currentDirectiveIndex=t}function TM(t){let e=J.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function S_(t){J.lFrame.currentQueryIndex=t}function EM(t){let e=t[G];return e.type===2?e.declTNode:e.type===1?t[bt]:null}function I_(t,e,n){if(n&q.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&q.Host);)if(i=EM(o),i===null||(o=o[mo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=J.lFrame=M_();return r.currentTNode=e,r.lView=t,!0}function Fh(t){let e=M_(),n=t[G];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function M_(){let t=J.lFrame,e=t===null?null:t.child;return e===null?A_(t):e}function A_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function N_(){let t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var P_=N_;function Lh(){let t=N_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function DM(t){return(J.lFrame.contextLView=lM(t,J.lFrame.contextLView))[Ze]}function di(){return J.lFrame.selectedIndex}function oi(t){J.lFrame.selectedIndex=t}function x_(){let t=J.lFrame;return Oh(t.tView,t.selectedIndex)}function wM(){return J.lFrame.currentNamespace}var R_=!0;function Vh(){return R_}function Bh(t){R_=t}function bM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=u_(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Hh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function zl(t,e,n){O_(t,e,3,n)}function ql(t,e,n,r){(t[O]&3)===n&&O_(t,e,n,r)}function Tf(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function O_(t,e,n,r){let i=r!==void 0?t[Qi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Qi]+=65536),(a<o||o==-1)&&(SM(t,n,e,l),t[Qi]=(t[Qi]&4294901760)+l+2),l++}function o0(t,e){yn(4,t,e);let n=Z(null);try{e.call(t)}finally{Z(n),yn(5,t,e)}}function SM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[O]>>14<t[Qi]>>16&&(t[O]&3)===e&&(t[O]+=16384,o0(a,o)):o0(a,o)}var Ji=-1,si=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function IM(t){return t instanceof si}function MM(t){return(t.flags&8)!==0}function AM(t){return(t.flags&16)!==0}var Ef={},Wf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Cc(r);let i=this.injector.get(e,Ef,r);return i!==Ef||n===Ef?i:this.parentInjector.get(e,n,r)}};function k_(t){return t!==Ji}function ic(t){return t&32767}function NM(t){return t>>16}function oc(t,e){let n=NM(t),r=e;for(;n>0;)r=r[mo],n--;return r}var zf=!0;function sc(t){let e=zf;return zf=t,e}var PM=256,F_=PM-1,L_=5,xM=0,_n={};function RM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(vs)&&(r=n[vs]),r==null&&(r=n[vs]=xM++);let i=r&F_,o=1<<i;e.data[t+(i>>L_)]|=o}function ac(t,e){let n=V_(t,e);if(n!==-1)return n;let r=e[G];r.firstCreatePass&&(t.injectorIndex=e.length,Df(r.data,t),Df(e,null),Df(r.blueprint,null));let i=jh(t,e),o=t.injectorIndex;if(k_(i)){let s=ic(i),a=oc(i,e),l=a[G].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Df(t,e){t.push(0,0,0,0,0,0,0,0,e)}function V_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function jh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=U_(i),r===null)return Ji;if(n++,i=i[mo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ji}function qf(t,e,n){RM(t,e,n)}function B_(t,e,n){if(n&q.Optional||t!==void 0)return t;Ih(e,"NodeInjector")}function H_(t,e,n,r){if(n&q.Optional&&r===void 0&&(r=null),!(n&(q.Self|q.Host))){let i=t[io],o=Et(void 0);try{return i?i.get(e,r,n&q.Optional):j0(e,r,n&q.Optional)}finally{Et(o)}}return B_(r,e,n)}function j_(t,e,n,r=q.Default,i){if(t!==null){if(e[O]&2048&&!(r&q.Self)){let s=VM(t,e,n,r,_n);if(s!==_n)return s}let o=G_(t,e,n,r,_n);if(o!==_n)return o}return H_(e,n,r,i)}function G_(t,e,n,r,i){let o=FM(n);if(typeof o=="function"){if(!I_(e,t,r))return r&q.Host?B_(i,n,r):H_(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&q.Optional))Ih(n);else return s}finally{P_()}}else if(typeof o=="number"){let s=null,a=V_(t,e),l=Ji,c=r&q.Host?e[It][bt]:null;for((a===-1||r&q.SkipSelf)&&(l=a===-1?jh(t,e):e[a+8],l===Ji||!a0(r,!1)?a=-1:(s=e[G],a=ic(l),e=oc(l,e)));a!==-1;){let u=e[G];if(s0(o,a,u.data)){let d=OM(a,e,n,s,r,c);if(d!==_n)return d}l=e[a+8],l!==Ji&&a0(r,e[G].data[a+8]===c)&&s0(o,a,e)?(s=u,a=ic(l),e=oc(l,e)):a=-1}}return i}function OM(t,e,n,r,i,o){let s=e[G],a=s.data[t+8],l=r==null?bc(a)&&zf:r!=s&&(a.type&3)!==0,c=i&q.Host&&o===a,u=kM(a,s,n,l,c);return u!==null?lo(e,s,u,a):_n}function kM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let g=s[h];if(h<l&&n===g||h>=l&&g.type===n)return h}if(i){let h=s[l];if(h&&yr(h)&&h.type===n)return l}return null}function lo(t,e,n,r){let i=t[n],o=e.data;if(IM(i)){let s=i;s.resolving&&hI(fI(o[n]));let a=sc(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Et(s.injectImpl):null,u=I_(t,r,q.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&bM(n,o[n],e)}finally{c!==null&&Et(c),sc(a),s.resolving=!1,P_()}}return i}function FM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(vs)?t[vs]:void 0;return typeof e=="number"?e>=0?e&F_:LM:e}function s0(t,e,n){let r=1<<t;return!!(n[e+(t>>L_)]&r)}function a0(t,e){return!(t&q.Self)&&!(t&q.Host&&e)}var ei=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return j_(this._tNode,this._lView,e,Cc(r),n)}};function LM(){return new ei(Mt(),se())}function vo(t){return Ms(()=>{let e=t.prototype.constructor,n=e[Ql]||Kf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ql]||Kf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Kf(t){return O0(t)?()=>{let e=Kf(at(t));return e&&e()}:ti(t)}function VM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[O]&2048&&!(s[O]&512);){let a=G_(o,s,n,r|q.Self,_n);if(a!==_n)return a;let l=o.parent;if(!l){let c=s[s_];if(c){let u=c.get(n,_n,r);if(u!==_n)return u}l=U_(s),s=s[mo]}o=l}return i}function U_(t){let e=t[G],n=e.type;return n===2?e.declTNode:n===1?t[bt]:null}function l0(t,e=null,n=null,r){let i=$_(t,e,n,r);return i.resolveInjectorInitializers(),i}function $_(t,e=null,n=null,r,i=new Set){let o=[n||Vt,Nh(t)];return r=r||(typeof t=="object"?void 0:Dt(t)),new Cs(o,e||xh(),r||null,i)}var Zr=class Zr{static create(e,n){if(Array.isArray(e))return l0({name:""},n,e,"");{let r=e.name??"";return l0({name:r},e.parent,e.providers,r)}}};Zr.THROW_IF_NOT_FOUND=ys,Zr.NULL=new Jl,Zr.\u0275prov=b({token:Zr,providedIn:"any",factory:()=>T($0)}),Zr.__NG_ELEMENT_ID__=-1;var $n=Zr;var BM=new w("");BM.__NG_ELEMENT_ID__=t=>{let e=Mt();if(e===null)throw new S(204,!1);if(e.type&2)return e.value;if(t&q.Optional)return null;throw new S(204,!1)};var HM="ngOriginalError";function wf(t){return t[HM]}var En=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&wf(e);for(;n&&wf(n);)n=wf(n);return n||null}},W_=new w("",{providedIn:"root",factory:()=>_(En).handleError.bind(void 0)}),Gh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Xf=class extends Gh{constructor(e){super(),this._lView=e}onDestroy(e){return v_(this._lView,e),()=>cM(this._lView,e)}};function jM(){return new Xf(se())}function c0(t,e){return x0(t,e)}function GM(t){return x0(P0,t)}var wn=(c0.required=GM,c0);function UM(){return Uh(Mt(),se())}function Uh(t,e){return new an(sn(t,e))}var an=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=UM;let t=e;return t})();var bn=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Qf=class extends we{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,o_()&&(this.destroyRef=_(Gh,{optional:!0})??void 0,this.pendingTasks=_(bn,{optional:!0})??void 0)}emit(e){let n=Z(null);try{super.next(e)}finally{Z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ae&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},xe=Qf;function z_(t){return(t.flags&128)===128}var q_=new Map,$M=0;function WM(){return $M++}function zM(t){q_.set(t[wc],t)}function qM(t){q_.delete(t[wc])}var u0="__ngContext__";function ai(t,e){mr(e)?(t[u0]=e[wc],zM(e)):t[u0]=e}function K_(t){return Q_(t[Ts])}function X_(t){return Q_(t[rn])}function Q_(t){for(;t!==null&&!Xn(t);)t=t[rn];return t}var Yf;function Y_(t){Yf=t}function KM(){if(Yf!==void 0)return Yf;if(typeof document<"u")return document;throw new S(210,!1)}var $h=new w("",{providedIn:"root",factory:()=>XM}),XM="ng",Wh=new w(""),tt=new w("",{providedIn:"platform",factory:()=>"unknown"});var zh=new w("",{providedIn:"root",factory:()=>KM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var QM="h",YM="b";var ZM=()=>null;function qh(t,e,n=!1){return ZM(t,e,n)}var Z_=!1,JM=new w("",{providedIn:"root",factory:()=>Z_});var Zf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tI})`}};function Kh(t){return t instanceof Zf?t.changingThisBreaksApplicationSecurity:t}function J_(t){return t instanceof Function?t():t}var Wn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wn||{}),eA;function Xh(t,e){return eA(t,e)}function Yi(t,e,n,r,i){if(r!=null){let o,s=!1;Xn(r)?o=r:mr(r)&&(s=!0,r=r[Kn]);let a=Tn(r);t===0&&n!==null?i==null?iC(e,n,a):lc(e,n,a,i||null,!0):t===1&&n!==null?lc(e,n,a,i||null,!0):t===2?pA(e,a,s):t===3&&e.destroyNode(a),o!=null&&mA(e,t,o,n,i)}}function tA(t,e){return t.createText(e)}function nA(t,e,n){t.setValue(e,n)}function eC(t,e,n){return t.createElement(e,n)}function rA(t,e){tC(t,e),e[Kn]=null,e[bt]=null}function iA(t,e,n,r,i,o){r[Kn]=i,r[bt]=e,Nc(t,r,n,1,i,o)}function tC(t,e){e[Un].changeDetectionScheduler?.notify(8),Nc(t,e,e[Ge],2,null,null)}function oA(t){let e=t[Ts];if(!e)return bf(t[G],t);for(;e;){let n=null;if(mr(e))n=e[Ts];else{let r=e[lt];r&&(n=r)}if(!n){for(;e&&!e[rn]&&e!==t;)mr(e)&&bf(e[G],e),e=e[ct];e===null&&(e=t),mr(e)&&bf(e[G],e),n=e&&e[rn]}e=n}}function sA(t,e,n,r){let i=lt+r,o=n.length;r>0&&(n[i-1][rn]=e),r<o-lt?(e[rn]=n[i],U0(n,lt+r,e)):(n.push(e),e[rn]=null),e[ct]=n;let s=e[oo];s!==null&&n!==s&&nC(s,e);let a=e[so];a!==null&&a.insertView(t),Uf(e),e[O]|=128}function nC(t,e){let n=t[nc],r=e[ct];if(mr(r))t[O]|=rc.HasTransplantedViews;else{let i=r[ct][It];e[It]!==i&&(t[O]|=rc.HasTransplantedViews)}n===null?t[nc]=[e]:n.push(e)}function Qh(t,e){let n=t[nc],r=n.indexOf(e);n.splice(r,1)}function Ds(t,e){if(t.length<=lt)return;let n=lt+e,r=t[n];if(r){let i=r[oo];i!==null&&i!==t&&Qh(i,r),e>0&&(t[n-1][rn]=r[rn]);let o=Zl(t,lt+e);rA(r[G],r);let s=o[so];s!==null&&s.detachView(o[G]),r[ct]=null,r[rn]=null,r[O]&=-129}return r}function Ac(t,e){if(!(e[O]&256)){let n=e[Ge];n.destroyNode&&Nc(t,e,n,3,null,null),oA(e)}}function bf(t,e){if(e[O]&256)return;let n=Z(null);try{e[O]&=-129,e[O]|=256,e[Bt]&&ul(e[Bt]),lA(t,e),aA(t,e),e[G].type===1&&e[Ge].destroy();let r=e[oo];if(r!==null&&Xn(e[ct])){r!==e[ct]&&Qh(r,e);let i=e[so];i!==null&&i.detachView(t)}qM(e)}finally{Z(n)}}function aA(t,e){let n=t.cleanup,r=e[ec];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ec]=null);let i=e[gr];if(i!==null){e[gr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function lA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof si)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];yn(4,a,l);try{l.call(a)}finally{yn(5,a,l)}}else{yn(4,i,o);try{o.call(i)}finally{yn(5,i,o)}}}}}function rC(t,e,n){return cA(t,e.parent,n)}function cA(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Kn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Cn.None||o===Cn.Emulated)return null}return sn(r,n)}}function lc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function iC(t,e,n){t.appendChild(e,n)}function d0(t,e,n,r,i){r!==null?lc(t,e,n,r,i):iC(t,e,n)}function uA(t,e,n,r){t.removeChild(e,n,r)}function Yh(t,e){return t.parentNode(e)}function dA(t,e){return t.nextSibling(e)}function oC(t,e,n){return hA(t,e,n)}function fA(t,e,n){return t.type&40?sn(t,n):null}var hA=fA,f0;function Zh(t,e,n,r){let i=rC(t,r,e),o=e[Ge],s=r.parent||e[bt],a=oC(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)d0(o,i,n[l],a,!1);else d0(o,i,n,a,!1);f0!==void 0&&f0(o,r,e,n,i)}function Kl(t,e){if(e!==null){let n=e.type;if(n&3)return sn(e,t);if(n&4)return Jf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Kl(t,r);{let i=t[e.index];return Xn(i)?Jf(-1,i):Tn(i)}}else{if(n&32)return Xh(e,t)()||Tn(t[e.index]);{let r=sC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ii(t[It]);return Kl(i,r)}else return Kl(t,e.next)}}}return null}function sC(t,e){if(e!==null){let r=t[It][bt],i=e.projection;return r.projection[i]}return null}function Jf(t,e){let n=lt+t+1;if(n<e.length){let r=e[n],i=r[G].firstChild;if(i!==null)return Kl(r,i)}return e[ri]}function pA(t,e,n){let r=Yh(t,e);r&&uA(t,r,e,n)}function Jh(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&ai(Tn(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Jh(t,e,n.child,r,i,o,!1),Yi(e,t,i,a,o);else if(l&32){let c=Xh(n,r),u;for(;u=c();)Yi(e,t,i,u,o);Yi(e,t,i,a,o)}else l&16?aC(t,e,r,n,i,o):Yi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Nc(t,e,n,r,i,o){Jh(n,r,t.firstChild,e,i,o,!1)}function gA(t,e,n){let r=e[Ge],i=rC(t,n,e),o=n.parent||e[bt],s=oC(o,n,e);aC(r,0,e,n,i,s)}function aC(t,e,n,r,i,o){let s=n[It],l=s[bt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Yi(e,t,i,u,o)}else{let c=l,u=s[ct];z_(r)&&(c.flags|=128),Jh(t,e,c,u,i,o,!0)}}function mA(t,e,n,r,i){let o=n[ri],s=Tn(n);o!==s&&Yi(e,t,r,o,i);for(let a=lt;a<n.length;a++){let l=n[a];Nc(l[G],l,t,e,r,o)}}function vA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Wn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wn.Important),t.setStyle(n,r,i,o))}}function yA(t,e,n){t.setAttribute(e,"style",n)}function lC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function cC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Lf(t,e,r),i!==null&&lC(t,e,i),o!==null&&yA(t,e,o)}var Er={};function ke(t=1){uC(ft(),se(),di()+t,!1)}function uC(t,e,n,r){if(!r)if((e[O]&3)===3){let o=t.preOrderCheckHooks;o!==null&&zl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ql(e,o,0,n)}oi(n)}function V(t,e=q.Default){let n=se();if(n===null)return T(t,e);let r=Mt();return j_(r,n,at(t),e)}function dC(t,e,n,r,i,o){let s=Z(null);try{let a=null;i&vr.SignalBased&&(a=e[r][Yt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&vr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):c_(e,a,r,o)}finally{Z(s)}}function _A(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)oi(~i);else{let o=i,s=n[++r],a=n[++r];_M(s,o);let l=e[o];a(2,l)}}}finally{oi(-1)}}function Pc(t,e,n,r,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[Kn]=i,d[O]=r|4|128|8|64,(c!==null||t&&t[O]&2048)&&(d[O]|=2048),g_(d),d[ct]=d[mo]=t,d[Ze]=n,d[Un]=s||t&&t[Un],d[Ge]=a||t&&t[Ge],d[io]=l||t&&t[io]||null,d[bt]=o,d[wc]=WM(),d[ro]=u,d[s_]=c,d[It]=e.type==2?t[It]:d,d}function xs(t,e,n,r,i){let o=t.data[e];if(o===null)o=CA(t,e,n,r,i),yM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=gM();o.injectorIndex=s===null?-1:s.injectorIndex}return Ns(o,!0),o}function CA(t,e,n,r,i){let o=T_(),s=E_(),a=s?o:o&&o.parent,l=t.data[e]=bA(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function fC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function hC(t,e,n,r,i){let o=di(),s=r&2;try{oi(-1),s&&e.length>Je&&uC(t,e,Je,!1),yn(s?2:0,i),n(r,i)}finally{oi(o),yn(s?3:1,i)}}function pC(t,e,n){if(l_(e)){let r=Z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Z(r)}}}function gC(t,e,n){__()&&(PA(t,e,n,sn(n,e)),(n.flags&64)===64&&TC(t,e,n))}function mC(t,e,n=sn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function vC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ep(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ep(t,e,n,r,i,o,s,a,l,c,u){let d=Je+r,f=d+i,h=TA(d,f),g=typeof c=="function"?c():c;return h[G]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function TA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Er);return n}function EA(t,e,n,r){let o=r.get(JM,Z_)||n===Cn.ShadowDom,s=t.selectRootElement(e,o);return DA(s),s}function DA(t){wA(t)}var wA=()=>null;function bA(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return C_()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function h0(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=vr.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?p0(r,n,c,a,l):p0(r,n,c,a)}return r}function p0(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function SA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,g=f?f.outputs:null;l=h0(0,d.inputs,u,l,h),c=h0(1,d.outputs,u,c,g);let y=l!==null&&s!==null&&!Ah(e)?HA(l,u,s):null;a.push(y)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function IA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function yC(t,e,n,r,i,o,s,a){let l=sn(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(tp(t,n,u,r,i),bc(e)&&MA(n,e.index)):e.type&3?(r=IA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function MA(t,e){let n=Tr(e,t);n[O]&16||(n[O]|=64)}function _C(t,e,n,r){if(__()){let i=r===null?null:{"":-1},o=RA(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&CC(t,e,n,s,i,a),i&&OA(n,r,i)}n.mergedAttrs=_s(n.mergedAttrs,n.attrs)}function CC(t,e,n,r,i,o){for(let c=0;c<r.length;c++)qf(ac(n,e),t,r[c].type);FA(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=fC(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=_s(n.mergedAttrs,u.hostAttrs),LA(t,n,e,l,u),kA(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}SA(t,n,o)}function AA(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;NA(s)!=a&&s.push(a),s.push(n,r,o)}}function NA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function PA(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;bc(n)&&VA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ac(n,e),ai(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],c=lo(e,t,a,n);if(ai(c,e),s!==null&&BA(e,a-i,c,l,n,s),yr(l)){let u=Tr(n.index,e);u[Ze]=lo(e,t,a,n)}}}function TC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=CM();try{oi(o);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];$f(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&xA(l,c)}}finally{oi(-1),$f(s)}}function xA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function RA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(K0(e,s.selectors,!1))if(r||(r=[]),yr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;eh(t,e,l)}else r.unshift(s),eh(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function eh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function OA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new S(-301,!1);r.push(e[i],o)}}}function kA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yr(e)&&(n[""]=t)}}function FA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function LA(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ti(i.type,!0)),s=new si(o,yr(i),V);t.blueprint[r]=s,n[r]=s,AA(t,e,r,fC(t,n,i.hostVars,Er),i)}function VA(t,e,n){let r=sn(e,t),i=vC(n),o=t[Un].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=xc(t,Pc(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function BA(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];dC(r,n,l,c,u,d)}}function HA(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function EC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function DC(t,e){let n=t.contentQueries;if(n!==null){let r=Z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];S_(o),a.contentQueries(2,e[s],s)}}}finally{Z(r)}}}function xc(t,e){return t[Ts]?t[n0][rn]=e:t[Ts]=e,t[n0]=e,e}function th(t,e,n){S_(0);let r=Z(null);try{e(t,n)}finally{Z(r)}}function jA(t){return t[ec]??=[]}function GA(t){return t.cleanup??=[]}function wC(t,e){let n=t[io],r=n?n.get(En,null):null;r&&r.handleError(e)}function tp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=e[s],u=t.data[s];dC(u,c,r,a,l,i)}}function UA(t,e,n){let r=h_(e,t);nA(t[Ge],r,n)}function $A(t,e){let n=Tr(e,t),r=n[G];WA(r,n);let i=n[Kn];i!==null&&n[ro]===null&&(n[ro]=qh(i,n[io])),np(r,n,n[Ze])}function WA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function np(t,e,n){Fh(e);try{let r=t.viewQuery;r!==null&&th(1,r,n);let i=t.template;i!==null&&hC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[so]?.finishViewCreation(t),t.staticContentQueries&&DC(t,e),t.staticViewQueries&&th(2,t.viewQuery,n);let o=t.components;o!==null&&zA(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,Lh()}}function zA(t,e){for(let n=0;n<e.length;n++)$A(t,e[n])}function Rc(t,e,n,r){let i=Z(null);try{let o=e.tView,a=t[O]&4096?4096:16,l=Pc(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[oo]=c;let u=t[so];return u!==null&&(l[so]=u.createEmbeddedView(o)),np(o,l,n),l}finally{Z(i)}}function bC(t,e){let n=lt+e;if(n<t.length)return t[n]}function co(t,e){return!e||e.firstChild===null||z_(t)}function Rs(t,e,n,r=!0){let i=e[G];if(sA(i,e,t,n),r){let s=Jf(n,t),a=e[Ge],l=Yh(a,t[ri]);l!==null&&iA(i,t[bt],a,e,l,s)}let o=e[ro];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function SC(t,e){let n=Ds(t,e);return n!==void 0&&Ac(n[G],n),n}function cc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Tn(o)),Xn(o)&&qA(o,r);let s=n.type;if(s&8)cc(t,e,n.child,r);else if(s&32){let a=Xh(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=sC(e,n);if(Array.isArray(a))r.push(...a);else{let l=ii(e[It]);cc(l[G],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function qA(t,e){for(let n=lt;n<t.length;n++){let r=t[n],i=r[G].firstChild;i!==null&&cc(r[G],r,i,e)}t[ri]!==t[Kn]&&e.push(t[ri])}var IC=[];function KA(t){return t[Bt]??XA(t)}function XA(t){let e=IC.pop()??Object.create(YA);return e.lView=t,e}function QA(t){t.lView[Bt]!==t&&(t.lView=null,IC.push(t))}var YA=z(D({},Oi),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Sc(t.lView)},consumerOnSignalRead(){this.lView[Bt]=this}});function ZA(t){let e=t[Bt]??Object.create(JA);return e.lView=t,e}var JA=z(D({},Oi),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ii(t.lView);for(;e&&!MC(e[G]);)e=ii(e);e&&m_(e)},consumerOnSignalRead(){this.lView[Bt]=this}});function MC(t){return t.type!==2}var eN=100;function AC(t,e=!0,n=0){let r=t[Un],i=r.rendererFactory,o=!1;o||i.begin?.();try{tN(t,n)}catch(s){throw e&&wC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function tN(t,e){let n=w_();try{i0(!0),nh(t,e);let r=0;for(;Es(t);){if(r===eN)throw new S(103,!1);r++,nh(t,1)}}finally{i0(n)}}function nN(t,e,n,r){let i=e[O];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Un].inlineEffectRunner?.flush(),Fh(e);let a=!0,l=null,c=null;o||(MC(t)?(c=KA(e),l=fs(c)):dy()===null?(a=!1,c=ZA(e),l=fs(c)):e[Bt]&&(ul(e[Bt]),e[Bt]=null));try{g_(e),mM(t.bindingStartIndex),n!==null&&hC(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&zl(e,h,null)}else{let h=t.preOrderHooks;h!==null&&ql(e,h,0,null),Tf(e,0)}if(s||rN(e),NC(e,0),t.contentQueries!==null&&DC(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&zl(e,h)}else{let h=t.contentHooks;h!==null&&ql(e,h,1),Tf(e,1)}_A(t,e);let d=t.components;d!==null&&xC(e,d,0);let f=t.viewQuery;if(f!==null&&th(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&zl(e,h)}else{let h=t.viewHooks;h!==null&&ql(e,h,2),Tf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Wl]){for(let h of e[Wl])h();e[Wl]=null}o||(e[O]&=-73)}catch(u){throw o||Sc(e),u}finally{c!==null&&(ll(c,l),a&&QA(c)),Lh()}}function NC(t,e){for(let n=K_(t);n!==null;n=X_(n))for(let r=lt;r<n.length;r++){let i=n[r];PC(i,e)}}function rN(t){for(let e=K_(t);e!==null;e=X_(e)){if(!(e[O]&rc.HasTransplantedViews))continue;let n=e[nc];for(let r=0;r<n.length;r++){let i=n[r];m_(i)}}}function iN(t,e,n){let r=Tr(e,t);PC(r,n)}function PC(t,e){kh(t)&&nh(t,e)}function nh(t,e){let r=t[G],i=t[O],o=t[Bt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&cl(o)),s||=!1,o&&(o.dirty=!1),t[O]&=-9217,s)nN(r,t,r.template,t[Ze]);else if(i&8192){NC(t,1);let a=r.components;a!==null&&xC(t,a,1)}}function xC(t,e,n){for(let r=0;r<e.length;r++)iN(t,e[r],n)}function rp(t,e){let n=w_()?64:1088;for(t[Un].changeDetectionScheduler?.notify(e);t;){t[O]|=n;let r=ii(t);if(jf(t)&&!r)return t;t=r}return null}var uo=class{get rootNodes(){let e=this._lView,n=e[G];return cc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ze]}set context(e){this._lView[Ze]=e}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ct];if(Xn(e)){let n=e[tc],r=n?n.indexOf(this):-1;r>-1&&(Ds(e,r),Zl(n,r))}this._attachedToViewContainer=!1}Ac(this._lView[G],this._lView)}onDestroy(e){v_(this._lView,e)}markForCheck(){rp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){Uf(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,AC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=jf(this._lView),n=this._lView[oo];n!==null&&!e&&Qh(n,this._lView),tC(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e;let n=jf(this._lView),r=this._lView[oo];r!==null&&!n&&nC(r,this._lView),Uf(this._lView)}};var d7=new RegExp(`^(\\d+)*(${YM}|${QM})*(.*)`);var oN=()=>null;function fo(t,e){return oN(t,e)}var ws=class{},ip=new w("",{providedIn:"root",factory:()=>!1});var RC=new w(""),rh=class{},uc=class{};function sN(t){let e=Error(`No component factory found for ${Dt(t)}.`);return e[aN]=t,e}var aN="ngComponent";var ih=class{resolveComponentFactory(e){throw sN(e)}},up=class up{};up.NULL=new ih;var ho=up,po=class{},Sn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>lN();let t=e;return t})();function lN(){let t=se(),e=Mt(),n=Tr(e.index,t);return(mr(n)?n:t)[Ge]}var cN=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var g0=new Set;function Qn(t){g0.has(t)||(g0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function OC(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Jr.requestAnimationFrame=="function"&&Jr.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function m0(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function v0(...t){}var ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,fN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,uN,v0,v0);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},uN={};function op(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dN(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{OC(()=>{t.callbackScheduled=!1,oh(t),t.isCheckStableRunning=!0,op(t),t.isCheckStableRunning=!1})}),oh(t))}function fN(t){let e=()=>{dN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(hN(a))return n.invokeTask(i,o,s,a);try{return y0(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),_0(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return y0(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!pN(a)&&e(),_0(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,oh(t),op(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function oh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function y0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _0(t){t._nesting--,op(t)}var sh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function hN(t){return kC(t,"__ignore_ng_zone__")}function pN(t){return kC(t,"__scheduler_tick__")}function kC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var FC=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function ah(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=zy(i,a);else if(o==2){let l=a,c=e[++s];r=zy(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var dc=class extends ho{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ni(e);return new bs(n,this.ngModule)}};function C0(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:vr.None;e?n.push({propName:s,templateName:r,isSignal:(a&vr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function gN(t){let e=t.toLowerCase();return e==="svg"?oM:e==="math"?sM:null}var bs=class extends uc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=C0(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return C0(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=BI(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Z(null);try{i=i||this.ngModule;let s=i instanceof wt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Wf(e,s):e,l=a.get(po,null);if(l===null)throw new S(407,!1);let c=a.get(cN,null),u=a.get(FC,null),d=a.get(ws,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=r?EA(h,r,this.componentDef.encapsulation,a):eC(h,g,gN(g)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let E=null;y!==null&&(E=qh(y,a,!0));let x=ep(0,null,null,1,0,null,null,null,null,null,null),I=Pc(null,x,null,v,null,null,f,h,a,null,E);Fh(I);let j,Se;try{let Pe=this.componentDef,yt,cr=null;Pe.findHostDirectiveDefs?(yt=[],cr=new Map,Pe.findHostDirectiveDefs(Pe,yt,cr),yt.push(Pe)):yt=[Pe];let Bd=mN(I,y),Hd=vN(Bd,y,Pe,yt,I,f,h);Se=Oh(x,Je),y&&CN(h,Pe,y,r),n!==void 0&&TN(Se,this.ngContentSelectors,n),j=_N(Hd,Pe,yt,cr,I,[EN]),np(x,I,null)}finally{Lh()}return new lh(this.componentType,j,Uh(Se,I),I,Se)}finally{Z(o)}}},lh=class extends rh{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new uo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;tp(o[G],o,i,e,n),this.previousInputValues.set(e,n);let s=Tr(this._tNode.index,o);rp(s,1)}}get injector(){return new ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mN(t,e){let n=t[G],r=Je;return t[r]=e,xs(n,r,2,"#host",null)}function vN(t,e,n,r,i,o,s){let a=i[G];yN(r,t,e,s);let l=null;e!==null&&(l=qh(e,i[io]));let c=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Pc(i,vC(n),null,u,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&eh(a,t,r.length-1),xc(i,d),i[t.index]=d}function yN(t,e,n,r){for(let i of t)e.mergedAttrs=_s(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ah(e,e.mergedAttrs,!0),n!==null&&cC(r,n,e))}function _N(t,e,n,r,i,o){let s=Mt(),a=i[G],l=sn(s,i);CC(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=lo(i,a,d,s);ai(f,i)}TC(a,i,s),l&&ai(l,i);let c=lo(i,a,s.directiveStart+s.componentOffset,s);if(t[Ze]=i[Ze]=c,o!==null)for(let u of o)u(c,e);return pC(a,s,i),c}function CN(t,e,n,r){if(r)Lf(t,n,["ng-version","18.1.0"]);else{let{attrs:i,classes:o}=HI(e.selectors[0]);i&&Lf(t,n,i),o&&o.length>0&&lC(t,n,o.join(" "))}}function TN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function EN(){let t=Mt();Hh(se()[G],t)}var Oc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=DN;let t=e;return t})();function DN(){let t=Mt();return bN(t,se())}var wN=Oc,LC=class extends wN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Uh(this._hostTNode,this._hostLView)}get injector(){return new ei(this._hostTNode,this._hostLView)}get parentInjector(){let e=jh(this._hostTNode,this._hostLView);if(k_(e)){let n=oc(e,this._hostLView),r=ic(e),i=n[G].data[r+8];return new ei(i,n)}else return new ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=T0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=fo(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,co(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!tM(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?e:new bs(ni(e)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let y=(s?c:this.parentInjector).get(wt,null);y&&(o=y)}let u=ni(l.componentType??{}),d=fo(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,co(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(aM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[ct],c=new LC(l,l[bt],l[ct]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Rs(s,i,o,r),e.attachToViewContainerRef(),U0(Sf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=T0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ds(this._lContainer,n);r&&(Zl(Sf(this._lContainer),n),Ac(r[G],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ds(this._lContainer,n);return r&&Zl(Sf(this._lContainer),n)!=null?new uo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function T0(t){return t[tc]}function Sf(t){return t[tc]||(t[tc]=[])}function bN(t,e){let n,r=e[t.index];return Xn(r)?n=r:(n=EC(r,e,null,t),e[t.index]=n,xc(e,n)),IN(n,e,t,r),new LC(n,t,e)}function SN(t,e){let n=t[Ge],r=n.createComment(""),i=sn(e,t),o=Yh(n,i);return lc(n,o,r,dA(n,i),!1),r}var IN=NN,MN=()=>!1;function AN(t,e,n){return MN(t,e,n)}function NN(t,e,n,r){if(t[ri])return;let i;n.type&8?i=Tn(r):i=SN(e,n),t[ri]=i}function PN(t){return typeof t=="function"&&t[Yt]!==void 0}function fi(t,e){Qn("NgSignals");let n=Dy(t),r=n[Yt];return e?.equal&&(r.equal=e.equal),n.set=i=>hl(r,i),n.update=i=>wy(r,i),n.asReadonly=xN.bind(n),n}function xN(){let t=this[Yt];if(t.readonlyFn===void 0){let e=()=>this();e[Yt]=t,t.readonlyFn=e}return t.readonlyFn}function VC(t){return PN(t)&&typeof t.set=="function"}function RN(t){return Object.getPrototypeOf(t.prototype).constructor}function In(t){let e=RN(t.type),n=!0,r=[t];for(;e;){let i;if(yr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Gl(t.inputs),s.inputTransforms=Gl(t.inputTransforms),s.declaredInputs=Gl(t.declaredInputs),s.outputs=Gl(t.outputs);let a=i.hostBindings;a&&VN(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&FN(t,l),c&&LN(t,c),ON(t,i),iI(t.outputs,i.outputs),yr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===In&&(n=!1)}}e=Object.getPrototypeOf(e)}kN(r)}function ON(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function kN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_s(i.hostAttrs,n=_s(n,i.hostAttrs))}}function Gl(t){return t===eo?{}:t===Vt?[]:t}function FN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function LN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function VN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var _r=class{},Ss=class{};var ch=class extends _r{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dc(this);let i=Z0(e);this._bootstrapComponents=J_(i.bootstrap),this._r3Injector=$_(e,n,[{provide:_r,useValue:this},{provide:ho,useValue:this.componentFactoryResolver},...r],Dt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},uh=class extends Ss{constructor(e){super(),this.moduleType=e}create(e){return new ch(this.moduleType,e,[])}};var fc=class extends _r{constructor(e){super(),this.componentFactoryResolver=new dc(this),this.instance=null;let n=new Cs([...e.providers,{provide:_r,useValue:this},{provide:ho,useValue:this.componentFactoryResolver}],e.parent||xh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function sp(t,e,n=null){return new fc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function BC(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function HC(t,e,n){return t[e]=n}function zn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function BN(t,e,n,r){let i=zn(t,e,n);return zn(t,e+1,r)||i}function HN(t){return(t.flags&32)===32}function jN(t,e,n,r,i,o,s,a,l){let c=e.consts,u=xs(e,t,4,s||null,a||null);_C(e,n,u,ao(c,l)),Hh(e,u);let d=u.tView=ep(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function hc(t,e,n,r,i,o,s,a,l,c){let u=n+Je,d=e.firstCreatePass?jN(u,e,t,r,i,o,s,a,l):e.data[u];Ns(d,!1);let f=GN(e,t,d,n);Vh()&&Zh(e,t,f,d),ai(f,t);let h=EC(f,t,f,d);return t[u]=h,xc(t,h),AN(h,d,t),Rh(d)&&gC(e,t,d),l!=null&&mC(t,d,c),d}function Yn(t,e,n,r,i,o,s,a){let l=se(),c=ft(),u=ao(c.consts,o);return hc(l,c,t,e,n,r,i,u,s,a),Yn}var GN=UN;function UN(t,e,n,r){return Bh(!0),e[Ge].createComment("")}function $N(t,e,n,r){return zn(t,Ps(),n)?e+B0(n)+r:Er}function Ul(t,e){return t<<17|e<<2}function li(t){return t>>17&32767}function WN(t){return(t&2)==2}function zN(t,e){return t&131071|e<<17}function dh(t){return t|2}function go(t){return(t&131068)>>2}function If(t,e){return t&-131069|e<<2}function qN(t){return(t&1)===1}function fh(t){return t|1}function KN(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=li(s),l=go(s);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||As(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=li(t[a+1]);t[r+1]=Ul(f,a),f!==0&&(t[f+1]=If(t[f+1],r)),t[a+1]=zN(t[a+1],r)}else t[r+1]=Ul(a,0),a!==0&&(t[a+1]=If(t[a+1],r)),a=r;else t[r+1]=Ul(l,0),a===0?a=r:t[l+1]=If(t[l+1],r),l=r;c&&(t[r+1]=dh(t[r+1])),E0(t,u,r,!0),E0(t,u,r,!1),XN(e,u,t,r,o),s=Ul(a,l),o?e.classBindings=s:e.styleBindings=s}function XN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&As(o,e)>=0&&(n[r+1]=fh(n[r+1]))}function E0(t,e,n,r){let i=t[n+1],o=e===null,s=r?li(i):go(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];QN(l,e)&&(a=!0,t[s+1]=r?fh(c):dh(c)),s=r?li(c):go(c)}a&&(t[n+1]=r?dh(i):fh(i))}function QN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?As(t,e)>=0:!1}function Mn(t,e,n){let r=se(),i=Ps();if(zn(r,i,e)){let o=ft(),s=x_();yC(o,s,r,t,e,r[Ge],n,!1)}return Mn}function D0(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";tp(t,n,o[s],s,r)}function kc(t,e){return YN(t,e,null,!0),kc}function YN(t,e,n,r){let i=se(),o=ft(),s=vM(2);if(o.firstUpdatePass&&JN(o,t,s,r),e!==Er&&zn(i,s,e)){let a=o.data[di()];iP(o,a,i,i[Ge],t,i[s+1]=oP(e,n),r,s)}}function ZN(t,e){return e>=t.expandoStartIndex}function JN(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[di()],s=ZN(t,n);sP(o,r)&&e===null&&!s&&(e=!1),e=eP(i,o,e,r),KN(i,o,e,n,s,r)}}function eP(t,e,n,r){let i=TM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Mf(null,t,e,n,r),n=Is(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Mf(i,t,e,n,r),o===null){let l=tP(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Mf(null,t,e,l[1],r),l=Is(l,e.attrs,r),nP(t,e,r,l))}else o=rP(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function tP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(go(r)!==0)return t[li(r)]}function nP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[li(i)]=r}function rP(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Is(r,s,n)}return Is(r,e.attrs,n)}function Mf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Is(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Is(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),bI(t,s,n?!0:e[++o]))}return t===void 0?null:t}function iP(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=qN(c)?w0(l,e,n,i,go(c),s):void 0;if(!pc(u)){pc(o)||WN(c)&&(o=w0(l,null,n,i,a,s));let d=h_(di(),n);vA(r,s,d,i,o)}}function w0(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===Er&&(f=d?Vt:void 0);let h=d?_f(f,r):u===r?f:void 0;if(c&&!pc(h)&&(h=_f(l,r)),pc(h)&&(a=h,s))return a;let g=t[i+1];i=s?li(g):go(g)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=_f(l,r))}return a}function pc(t){return t!==void 0}function oP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Dt(Kh(t)))),t}function sP(t,e){return(t.flags&(e?8:16))!==0}var hh=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Af(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function aP(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=t.at(o),u=e[o],d=Af(o,c,o,u,n);if(d!==0){d<0&&t.updateValue(o,u),o++;continue}let f=t.at(s),h=e[l],g=Af(s,f,l,h,n);if(g!==0){g<0&&t.updateValue(s,h),s--,l--;continue}let y=n(o,c),v=n(s,f),E=n(o,u);if(Object.is(E,v)){let x=n(l,h);Object.is(x,y)?(t.swap(o,s),t.updateValue(s,h),l--,s--):t.move(s,o),t.updateValue(o,u),o++;continue}if(r??=new gc,i??=S0(t,o,s,n),ph(t,r,o,E))t.updateValue(o,u),o++,s++;else if(i.has(E))r.set(y,t.detach(o)),s--;else{let x=t.create(o,e[o]);t.attach(o,x),o++,s++}}for(;o<=l;)b0(t,r,n,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=t.at(o),d=c.value,f=Af(o,u,o,d,n);if(f!==0)f<0&&t.updateValue(o,d),o++,c=l.next();else{r??=new gc,i??=S0(t,o,s,n);let h=n(o,d);if(ph(t,r,o,h))t.updateValue(o,d),o++,s++,c=l.next();else if(!i.has(h))t.attach(o,t.create(o,d)),o++,s++,c=l.next();else{let g=n(o,u);r.set(g,t.detach(o)),s--}}}for(;!c.done;)b0(t,r,n,t.length,c.value),c=l.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(l=>{t.destroy(l)})}function ph(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function b0(t,e,n,r,i){if(ph(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function S0(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var gc=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Zn(t,e){Qn("NgControlFlow");let n=se(),r=Ps(),i=n[r]!==Er?n[r]:-1,o=i!==-1?mc(n,Je+i):void 0,s=0;if(zn(n,r,t)){let a=Z(null);try{if(o!==void 0&&SC(o,s),t!==-1){let l=Je+t,c=mc(n,l),u=yh(n[G],l),d=fo(c,u.tView.ssrId),f=Rc(n,u,e,{dehydratedView:d});Rs(c,f,s,co(u,d))}}finally{Z(a)}}else if(o!==void 0){let a=bC(o,s);a!==void 0&&(a[Ze]=e)}}var gh=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-lt}};function jC(t,e){return e}var mh=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function GC(t,e,n,r,i,o,s,a,l,c,u,d,f){Qn("NgControlFlow");let h=se(),g=ft(),y=l!==void 0,v=se(),E=a?s.bind(v[It][Ze]):s,x=new mh(y,E);v[Je+t]=x,hc(h,g,t+1,e,n,r,i,ao(g.consts,o)),y&&hc(h,g,t+2,l,c,u,d,ao(g.consts,f))}var vh=class extends hh{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-lt}at(e){return this.getLView(e)[Ze].$implicit}attach(e,n){let r=n[ro];this.needsIndexUpdate||=e!==this.length,Rs(this.lContainer,n,e,co(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,lP(this.lContainer,e)}create(e,n){let r=fo(this.lContainer,this.templateTNode.tView.ssrId),i=Rc(this.hostLView,this.templateTNode,new gh(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Ac(e[G],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ze].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ze].$index=e}getLView(e){return cP(this.lContainer,e)}};function UC(t){let e=Z(null),n=di();try{let r=se(),i=r[G],o=r[n],s=n+1,a=mc(r,s);if(o.liveCollection===void 0){let c=yh(i,s);o.liveCollection=new vh(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(aP(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=Ps(),u=l.length===0;if(zn(r,c,u)){let d=n+2,f=mc(r,d);if(u){let h=yh(i,d),g=fo(f,h.tView.ssrId),y=Rc(r,h,void 0,{dehydratedView:g});Rs(f,y,0,co(h,g))}else SC(f,0)}}}finally{Z(e)}}function mc(t,e){return t[e]}function lP(t,e){return Ds(t,e)}function cP(t,e){return bC(t,e)}function yh(t,e){return Oh(t,e)}function uP(t,e,n,r,i,o){let s=e.consts,a=ao(s,i),l=xs(e,t,2,r,a);return _C(e,n,l,ao(s,o)),l.attrs!==null&&ah(l,l.attrs,!1),l.mergedAttrs!==null&&ah(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function ge(t,e,n,r){let i=se(),o=ft(),s=Je+t,a=i[Ge],l=o.firstCreatePass?uP(s,o,i,e,n,r):o.data[s],c=dP(o,i,l,a,e,t);i[s]=c;let u=Rh(l);return Ns(l,!0),cC(a,c,l),!HN(l)&&Vh()&&Zh(o,i,c,l),uM()===0&&ai(c,i),dM(),u&&(gC(o,i,l),pC(o,l,i)),r!==null&&mC(i,l),ge}function de(){let t=Mt();E_()?D_():(t=t.parent,Ns(t,!1));let e=t;hM(e)&&pM(),fM();let n=ft();return n.firstCreatePass&&(Hh(n,t),l_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&MM(e)&&D0(n,e,se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&AM(e)&&D0(n,e,se(),e.stylesWithoutHost,!1),de}function An(t,e,n,r){return ge(t,e,n,r),de(),An}var dP=(t,e,n,r,i,o)=>(Bh(!0),eC(r,i,wM()));function $C(){return se()}var Yr=void 0;function fP(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var hP=["en",[["a","p"],["AM","PM"],Yr],[["AM","PM"],Yr,Yr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yr,"{1} 'at' {0}",Yr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",fP],Nf={};function jt(t){let e=pP(t),n=I0(e);if(n)return n;let r=e.split("-")[0];if(n=I0(r),n)return n;if(r==="en")return hP;throw new S(701,!1)}function I0(t){return t in Nf||(Nf[t]=Jr.ng&&Jr.ng.common&&Jr.ng.common.locales&&Jr.ng.common.locales[t]),Nf[t]}var Re=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Re||{});function pP(t){return t.toLowerCase().replace(/_/g,"-")}var vc="en-US";var gP=vc;function mP(t){typeof t=="string"&&(gP=t.toLowerCase().replace(/_/g,"-"))}var vP=(t,e,n)=>{};function ht(t,e,n,r){let i=se(),o=ft(),s=Mt();return WC(o,i,i[Ge],s,t,e,r),ht}function yP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ec],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function WC(t,e,n,r,i,o,s){let a=Rh(r),c=t.firstCreatePass&&GA(t),u=e[Ze],d=jA(e),f=!0;if(r.type&3||s){let y=sn(r,e),v=s?s(y):y,E=d.length,x=s?j=>s(Tn(j[r.index])):r.index,I=null;if(!s&&a&&(I=yP(t,e,i,r.index)),I!==null){let j=I.__ngLastListenerFn__||I;j.__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,f=!1}else{o=A0(r,e,u,o),vP(y,i,o);let j=n.listen(v,i,o);d.push(o,j),c&&c.push(i,x,E,E+1)}}else o=A0(r,e,u,o);let h=r.outputs,g;if(f&&h!==null&&(g=h[i])){let y=g.length;if(y)for(let v=0;v<y;v+=2){let E=g[v],x=g[v+1],Se=e[E][x].subscribe(o),Pe=d.length;d.push(o,Se),c&&c.push(i,r.index,Pe,-(Pe+1))}}}function M0(t,e,n,r){let i=Z(null);try{return yn(6,e,n),n(r)!==!1}catch(o){return wC(t,o),!1}finally{yn(7,e,n),Z(i)}}function A0(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Tr(t.index,e):e;rp(s,5);let a=M0(e,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=M0(e,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Gt(t=1){return DM(t)}function _P(t,e){let n=null,r=OI(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?K0(t,o,!0):LI(r,o))return i}return n}function zC(t){let e=se()[It][bt];if(!e.projection){let n=t?t.length:1,r=e.projection=DI(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?_P(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function qC(t,e=0,n,r,i,o){let s=se(),a=ft(),l=r?t+1:null;l!==null&&hc(s,a,l,r,i,o,null,n);let c=xs(a,Je+t,16,null,n||null);c.projection===null&&(c.projection=e),D_();let d=!s[ro]||C_();s[It][bt].projection[c.projection]===null&&l!==null?CP(s,a,l):d&&(c.flags&32)!==32&&gA(a,s,c)}function CP(t,e,n){let r=Je+n,i=e.data[r],o=t[r],s=fo(o,i.tView.ssrId),a=Rc(t,i,void 0,{dehydratedView:s});Rs(o,a,0,co(i,s))}function TP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Fe(t,e=""){let n=se(),r=ft(),i=t+Je,o=r.firstCreatePass?xs(r,i,1,e,null):r.data[i],s=EP(r,n,o,e,t);n[i]=s,Vh()&&Zh(r,n,s,o),Ns(o,!1)}var EP=(t,e,n,r,i)=>(Bh(!0),tA(e[Ge],r));function yo(t){return _o("",t,""),yo}function _o(t,e,n){let r=se(),i=$N(r,t,e,n);return i!==Er&&UA(r,di(),i),_o}function Co(t,e,n){VC(e)&&(e=e());let r=se(),i=Ps();if(zn(r,i,e)){let o=ft(),s=x_();yC(o,s,r,t,e,r[Ge],n,!1)}return Co}function Os(t,e){let n=VC(t);return n&&t.set(e),n}function To(t,e){let n=se(),r=ft(),i=Mt();return WC(r,n,n[Ge],i,t,e),To}function DP(t,e,n){let r=ft();if(r.firstCreatePass){let i=yr(t);_h(n,r.data,r.blueprint,i,!0),_h(e,r.data,r.blueprint,i,!1)}}function _h(t,e,n,r,i){if(t=at(t),Array.isArray(t))for(let o=0;o<t.length;o++)_h(t[o],e,n,r,i);else{let o=ft(),s=se(),a=Mt(),l=no(t)?t:at(t.provide),c=i_(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(no(t)||!t.multi){let h=new si(c,i,V),g=xf(l,e,i?u:u+f,d);g===-1?(qf(ac(a,s),o,l),Pf(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[g]=h,s[g]=h)}else{let h=xf(l,e,u+f,d),g=xf(l,e,u,u+f),y=h>=0&&n[h],v=g>=0&&n[g];if(i&&!v||!i&&!y){qf(ac(a,s),o,l);let E=SP(i?bP:wP,n.length,i,r,c);!i&&v&&(n[g].providerFactory=E),Pf(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)}else{let E=KC(n[i?g:h],c,!i&&r);Pf(o,t,h>-1?h:g,E)}!i&&r&&v&&n[g].componentProviders++}}}function Pf(t,e,n,r){let i=no(e),o=qI(e);if(i||o){let l=(o?at(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function KC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function xf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function wP(t,e,n,r){return Ch(this.multi,[])}function bP(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=lo(n,n[G],this.providerFactory.index,r);o=a.slice(0,s),Ch(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Ch(i,o);return o}function Ch(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function SP(t,e,n,r,i){let o=new si(t,n,V);return o.multi=[],o.index=e,o.componentProviders=0,KC(o,i,r&&!n),o}function Dr(t,e=[]){return n=>{n.providersResolver=(r,i)=>DP(r,i?i(t):t,e)}}var IP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=t_(!1,r.type),o=i.length>0?sp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(T(wt))});let t=e;return t})();function Ut(t){Qn("NgStandalone"),t.getStandaloneInjector=e=>e.get(IP).getOrCreateStandaloneInjector(t)}function XC(t,e){let n=t[e];return n===Er?void 0:n}function MP(t,e,n,r,i,o){let s=e+n;return zn(t,s,i)?HC(t,s+1,o?r.call(o,i):r(i)):XC(t,s+1)}function AP(t,e,n,r,i,o,s){let a=e+n;return BN(t,a,i,o)?HC(t,a+2,s?r.call(s,i,o):r(i,o)):XC(t,a+2)}function ap(t,e){let n=ft(),r,i=t+Je;n.firstCreatePass?(r=NP(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ti(r.type,!0)),s,a=Et(V);try{let l=sc(!1),c=o();return sc(l),TP(n,se(),i,c),c}finally{Et(a)}}function NP(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function QC(t,e,n){let r=t+Je,i=se(),o=p_(i,r);return ZC(i,r)?MP(i,b_(),e,o.transform,n,o):o.transform(n)}function YC(t,e,n,r){let i=t+Je,o=se(),s=p_(o,i);return ZC(o,i)?AP(o,b_(),e,s.transform,n,r,s):s.transform(n,r)}function ZC(t,e){return t[G].data[e].pure}var qn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},JC=new qn("18.1.0");var Fc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var eT=new w("");function hi(t){return!!t&&typeof t.then=="function"}function tT(t){return!!t&&typeof t.subscribe=="function"}var nT=new w(""),rT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=_(nT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(hi(s))r.push(s);else if(tT(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lc=new w("");function PP(){Ey(()=>{throw new S(600,!1)})}function xP(t){return t.isBoundToModule}var RP=10;function OP(t,e,n){try{let r=n();return hi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var pi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(W_),this.afterRenderEffectManager=_(FC),this.zonelessEnabled=_(ip),this.externalTestViews=new Set,this.beforeRender=new we,this.afterTick=new we,this.componentTypes=[],this.components=[],this.isStable=_(bn).hasPendingTasks.pipe(A(r=>!r)),this._injector=_(wt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof uc;if(!this._injector.get(rT).done){let h=!o&&Y0(r),g=!1;throw new S(405,g)}let a;o?a=r:a=this._injector.get(ho).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=xP(a)?void 0:this._injector.get(_r),c=i||a.selector,u=a.create($n.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(eT,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Rf(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new S(101,!1);let i=Z(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Z(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(po,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<RP;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)kP(l,c,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>Es(l))&&(s.execute(),!this.allViews.some(({_lView:l})=>Es(l))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Rf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Lc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Rf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kP(t,e,n,r){if(!n&&!Es(t))return;AC(t,e,n&&!r?0:1)}var Th=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},lp=(()=>{let e=class e{compileModuleSync(r){return new uh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Z0(r),s=J_(o.declarations).reduce((a,l)=>{let c=ni(l);return c&&a.push(new bs(c)),a},[]);return new Th(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FP=(()=>{let e=class e{constructor(){this.zone=_(ce),this.changeDetectionScheduler=_(ws),this.applicationRef=_(pi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LP=new w("",{factory:()=>!1});function iT({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new ce(sT()),[{provide:ce,useFactory:t},{provide:to,multi:!0,useFactory:()=>{let n=_(FP,{optional:!0});return()=>n.initialize()}},{provide:to,multi:!0,useFactory:()=>{let n=_(BP);return()=>{n.initialize()}}},{provide:W_,useFactory:VP},e===!0?{provide:RC,useValue:!0}:[]]}function VP(){let t=_(ce),e=_(En);return n=>t.runOutsideAngular(()=>e.handleError(n))}function oT(t){let e=t?.ignoreChangesOutsideZone,n=iT({ngZoneFactory:()=>{let r=sT(t);return r.shouldCoalesceEventChangeDetection&&Qn("NgZone_CoalesceEvent"),new ce(r)},ignoreChangesOutsideZone:e});return ui([{provide:LP,useValue:!0},{provide:ip,useValue:!1},n])}function sT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var BP=(()=>{let e=class e{constructor(){this.subscription=new Ae,this.initialized=!1,this.zone=_(ce),this.pendingTasks=_(bn)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var HP=(()=>{let e=class e{constructor(){this.appRef=_(pi),this.taskService=_(bn),this.ngZone=_(ce),this.zonelessEnabled=_(ip),this.disableScheduling=_(RC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ae,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof sh||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?m0:OC;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&ce.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,m0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jP(){return typeof $localize<"u"&&$localize.locale||vc}var Vc=new w("",{providedIn:"root",factory:()=>_(Vc,q.Optional|q.SkipSelf)||jP()});var aT=new w("");var Xl=null;function GP(t=[],e){return $n.create({name:e,providers:[{provide:Dc,useValue:"platform"},{provide:aT,useValue:new Set([()=>Xl=null])},...t]})}function UP(t=[]){if(Xl)return Xl;let e=GP(t);return Xl=e,PP(),$P(e),e}function $P(t){t.get(Wh,null)?.forEach(n=>n())}function cp(){return!1}var wr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=WP;let t=e;return t})();function WP(t){return zP(Mt(),se(),(t&16)===16)}function zP(t,e,n){if(bc(t)&&!n){let r=Tr(t.index,e);return new uo(r,r)}else if(t.type&175){let r=e[It];return new uo(r,e)}return null}var Eh=class{constructor(){}supports(e){return e instanceof Map||BC(e)}create(){return new Dh}},Dh=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||BC(e)))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new wh(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},wh=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function N0(){return new Bc([new Eh])}var Bc=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||N0()),deps:[[e,new Tc,new ci]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i)return i;throw new S(901,!1)}};e.\u0275prov=b({token:e,providedIn:"root",factory:N0});let t=e;return t})();function lT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=UP(r),o=[iT({}),{provide:ws,useExisting:HP},...n||[]],a=new fc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(ce);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(En,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:h=>{c.handleError(h)}})});let d=()=>a.destroy(),f=i.get(aT);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),OP(c,l,()=>{let h=a.get(rT);return h.runInitializers(),h.donePromise.then(()=>{let g=a.get(Vc,vc);mP(g||vc);let y=a.get(pi);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}var cT=new w("");function Hc(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ks(t,e){Qn("NgSignals");let n=_y(t);return e?.equal&&(n[Yt].equal=e.equal),n}function Jn(t){let e=Z(null);try{return t()}finally{Z(e)}}var qP=new w("",{providedIn:"root",factory:()=>_(KP)}),KP=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new bh});let t=e;return t})(),bh=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=_(bn),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Sh=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=by(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(En,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Nn(t,e){Qn("NgSignals"),!e?.injector&&eM(Nn);let n=e?.injector??_($n),r=e?.manualCleanup!==!0?n.get(Gh):null,i=new Sh(n.get(qP),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(wr,null,{optional:!0});return!o||!(o._lView[O]&8)?i.watcher.notify():(o._lView[Wl]??=[]).push(i.watcher.notify),i}var hT=null;function nr(){return hT}function pT(t){hT??=t}var Xc=class{};var Xe=new w(""),gT=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(ZP),providedIn:"platform"});let t=e;return t})();var ZP=(()=>{let e=class e extends gT{constructor(){super(),this._doc=_(Xe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nr().getBaseHref(this._doc)}onPopState(r){let i=nr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=nr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function mT(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function uT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function gi(t){return t&&t[0]!=="?"?"?"+t:t}var Yc=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(vT),providedIn:"root"});let t=e;return t})(),JP=new w(""),vT=(()=>{let e=class e extends Yc{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??_(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return mT(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+gi(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+gi(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+gi(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(T(gT),T(JP,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fs=(()=>{let e=class e{constructor(r){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=nx(uT(dT(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+gi(i))}normalize(r){return e.stripTrailingSlash(tx(this._basePath,dT(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+gi(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+gi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=gi,e.joinWithSlash=mT,e.stripTrailingSlash=uT,e.\u0275fac=function(i){return new(i||e)(T(Yc))},e.\u0275prov=b({token:e,factory:()=>ex(),providedIn:"root"});let t=e;return t})();function ex(){return new Fs(T(Yc))}function tx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function dT(t){return t.replace(/\/index.html$/,"")}function nx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var pt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(pt||{}),me=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(me||{}),At=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(At||{}),br={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function rx(t){return jt(t)[Re.LocaleId]}function ix(t,e,n){let r=jt(t),i=[r[Re.DayPeriodsFormat],r[Re.DayPeriodsStandalone]],o=$t(i,e);return $t(o,n)}function ox(t,e,n){let r=jt(t),i=[r[Re.DaysFormat],r[Re.DaysStandalone]],o=$t(i,e);return $t(o,n)}function sx(t,e,n){let r=jt(t),i=[r[Re.MonthsFormat],r[Re.MonthsStandalone]],o=$t(i,e);return $t(o,n)}function ax(t,e){let r=jt(t)[Re.Eras];return $t(r,e)}function jc(t,e){let n=jt(t);return $t(n[Re.DateFormat],e)}function Gc(t,e){let n=jt(t);return $t(n[Re.TimeFormat],e)}function Uc(t,e){let r=jt(t)[Re.DateTimeFormat];return $t(r,e)}function Zc(t,e){let n=jt(t),r=n[Re.NumberSymbols][e];if(typeof r>"u"){if(e===br.CurrencyDecimal)return n[Re.NumberSymbols][br.Decimal];if(e===br.CurrencyGroup)return n[Re.NumberSymbols][br.Group]}return r}function yT(t){if(!t[Re.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Re.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function lx(t){let e=jt(t);return yT(e),(e[Re.ExtraData][2]||[]).map(r=>typeof r=="string"?dp(r):[dp(r[0]),dp(r[1])])}function cx(t,e,n){let r=jt(t);yT(r);let i=[r[Re.ExtraData][0],r[Re.ExtraData][1]],o=$t(i,e)||[];return $t(o,n)||[]}function $t(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function dp(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var ux=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$c={},dx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,tr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(tr||{}),le=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(le||{}),ae=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ae||{});function fx(t,e,n,r){let i=Tx(t);e=er(n,e)||e;let s=[],a;for(;e;)if(a=dx.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=CT(r,l),i=Cx(i,r,!0));let c="";return s.forEach(u=>{let d=yx(u);c+=d?d(i,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Qc(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function er(t,e){let n=rx(t);if($c[n]??={},$c[n][e])return $c[n][e];let r="";switch(e){case"shortDate":r=jc(t,At.Short);break;case"mediumDate":r=jc(t,At.Medium);break;case"longDate":r=jc(t,At.Long);break;case"fullDate":r=jc(t,At.Full);break;case"shortTime":r=Gc(t,At.Short);break;case"mediumTime":r=Gc(t,At.Medium);break;case"longTime":r=Gc(t,At.Long);break;case"fullTime":r=Gc(t,At.Full);break;case"short":let i=er(t,"shortTime"),o=er(t,"shortDate");r=Wc(Uc(t,At.Short),[i,o]);break;case"medium":let s=er(t,"mediumTime"),a=er(t,"mediumDate");r=Wc(Uc(t,At.Medium),[s,a]);break;case"long":let l=er(t,"longTime"),c=er(t,"longDate");r=Wc(Uc(t,At.Long),[l,c]);break;case"full":let u=er(t,"fullTime"),d=er(t,"fullDate");r=Wc(Uc(t,At.Full),[u,d]);break}return r&&($c[n][e]=r),r}function Wc(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function ln(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function hx(t,e){return ln(t,3).substring(0,e)}function Ve(t,e,n=0,r=!1,i=!1){return function(o,s){let a=px(t,o);if((n>0||a>-n)&&(a+=n),t===le.Hours)a===0&&n===-12&&(a=12);else if(t===le.FractionalSeconds)return hx(a,e);let l=Zc(s,br.MinusSign);return ln(a,e,l,r,i)}}function px(t,e){switch(t){case le.FullYear:return e.getFullYear();case le.Month:return e.getMonth();case le.Date:return e.getDate();case le.Hours:return e.getHours();case le.Minutes:return e.getMinutes();case le.Seconds:return e.getSeconds();case le.FractionalSeconds:return e.getMilliseconds();case le.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function _e(t,e,n=pt.Format,r=!1){return function(i,o){return gx(i,o,t,e,n,r)}}function gx(t,e,n,r,i,o){switch(n){case ae.Months:return sx(e,i,r)[t.getMonth()];case ae.Days:return ox(e,i,r)[t.getDay()];case ae.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let c=lx(e),u=cx(e,i,r),d=c.findIndex(f=>{if(Array.isArray(f)){let[h,g]=f,y=s>=h.hours&&a>=h.minutes,v=s<g.hours||s===g.hours&&a<g.minutes;if(h.hours<g.hours){if(y&&v)return!0}else if(y||v)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return ix(e,i,r)[s<12?0:1];case ae.Eras:return ax(e,r)[t.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function zc(t){return function(e,n,r){let i=-1*r,o=Zc(n,br.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case tr.Short:return(i>=0?"+":"")+ln(s,2,o)+ln(Math.abs(i%60),2,o);case tr.ShortGMT:return"GMT"+(i>=0?"+":"")+ln(s,1,o);case tr.Long:return"GMT"+(i>=0?"+":"")+ln(s,2,o)+":"+ln(Math.abs(i%60),2,o);case tr.Extended:return r===0?"Z":(i>=0?"+":"")+ln(s,2,o)+":"+ln(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var mx=0,Kc=4;function vx(t){let e=Qc(t,mx,1).getDay();return Qc(t,0,1+(e<=Kc?Kc:Kc+7)-e)}function _T(t){let e=t.getDay(),n=e===0?-3:Kc-e;return Qc(t.getFullYear(),t.getMonth(),t.getDate()+n)}function fp(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=_T(n),s=vx(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return ln(i,t,Zc(r,br.MinusSign))}}function qc(t,e=!1){return function(n,r){let o=_T(n).getFullYear();return ln(o,t,Zc(r,br.MinusSign),e)}}var hp={};function yx(t){if(hp[t])return hp[t];let e;switch(t){case"G":case"GG":case"GGG":e=_e(ae.Eras,me.Abbreviated);break;case"GGGG":e=_e(ae.Eras,me.Wide);break;case"GGGGG":e=_e(ae.Eras,me.Narrow);break;case"y":e=Ve(le.FullYear,1,0,!1,!0);break;case"yy":e=Ve(le.FullYear,2,0,!0,!0);break;case"yyy":e=Ve(le.FullYear,3,0,!1,!0);break;case"yyyy":e=Ve(le.FullYear,4,0,!1,!0);break;case"Y":e=qc(1);break;case"YY":e=qc(2,!0);break;case"YYY":e=qc(3);break;case"YYYY":e=qc(4);break;case"M":case"L":e=Ve(le.Month,1,1);break;case"MM":case"LL":e=Ve(le.Month,2,1);break;case"MMM":e=_e(ae.Months,me.Abbreviated);break;case"MMMM":e=_e(ae.Months,me.Wide);break;case"MMMMM":e=_e(ae.Months,me.Narrow);break;case"LLL":e=_e(ae.Months,me.Abbreviated,pt.Standalone);break;case"LLLL":e=_e(ae.Months,me.Wide,pt.Standalone);break;case"LLLLL":e=_e(ae.Months,me.Narrow,pt.Standalone);break;case"w":e=fp(1);break;case"ww":e=fp(2);break;case"W":e=fp(1,!0);break;case"d":e=Ve(le.Date,1);break;case"dd":e=Ve(le.Date,2);break;case"c":case"cc":e=Ve(le.Day,1);break;case"ccc":e=_e(ae.Days,me.Abbreviated,pt.Standalone);break;case"cccc":e=_e(ae.Days,me.Wide,pt.Standalone);break;case"ccccc":e=_e(ae.Days,me.Narrow,pt.Standalone);break;case"cccccc":e=_e(ae.Days,me.Short,pt.Standalone);break;case"E":case"EE":case"EEE":e=_e(ae.Days,me.Abbreviated);break;case"EEEE":e=_e(ae.Days,me.Wide);break;case"EEEEE":e=_e(ae.Days,me.Narrow);break;case"EEEEEE":e=_e(ae.Days,me.Short);break;case"a":case"aa":case"aaa":e=_e(ae.DayPeriods,me.Abbreviated);break;case"aaaa":e=_e(ae.DayPeriods,me.Wide);break;case"aaaaa":e=_e(ae.DayPeriods,me.Narrow);break;case"b":case"bb":case"bbb":e=_e(ae.DayPeriods,me.Abbreviated,pt.Standalone,!0);break;case"bbbb":e=_e(ae.DayPeriods,me.Wide,pt.Standalone,!0);break;case"bbbbb":e=_e(ae.DayPeriods,me.Narrow,pt.Standalone,!0);break;case"B":case"BB":case"BBB":e=_e(ae.DayPeriods,me.Abbreviated,pt.Format,!0);break;case"BBBB":e=_e(ae.DayPeriods,me.Wide,pt.Format,!0);break;case"BBBBB":e=_e(ae.DayPeriods,me.Narrow,pt.Format,!0);break;case"h":e=Ve(le.Hours,1,-12);break;case"hh":e=Ve(le.Hours,2,-12);break;case"H":e=Ve(le.Hours,1);break;case"HH":e=Ve(le.Hours,2);break;case"m":e=Ve(le.Minutes,1);break;case"mm":e=Ve(le.Minutes,2);break;case"s":e=Ve(le.Seconds,1);break;case"ss":e=Ve(le.Seconds,2);break;case"S":e=Ve(le.FractionalSeconds,1);break;case"SS":e=Ve(le.FractionalSeconds,2);break;case"SSS":e=Ve(le.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=zc(tr.Short);break;case"ZZZZZ":e=zc(tr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=zc(tr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=zc(tr.Long);break;default:return null}return hp[t]=e,e}function CT(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function _x(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Cx(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=CT(e,i);return _x(t,r*(o-i))}function Tx(t){if(fT(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Qc(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(ux))return Ex(r)}let e=new Date(t);if(!fT(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function Ex(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,l,c),e}function fT(t){return t instanceof Date&&!isNaN(t.valueOf())}function Jc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function Dx(t,e){return new S(2100,!1)}var wx="mediumDate",bx=new w(""),Sx=new w(""),TT=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??wx,l=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return fx(r,a,s||this.locale,l)}catch(a){throw Dx(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(V(Vc,16),V(bx,24),V(Sx,24))},e.\u0275pipe=Ec({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var pp="browser",Ix="server";function eu(t){return t===pp}function Do(t){return t===Ix}var Eo=class{};var Vs=class{},nu=class{},rr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var mp=class{encodeKey(e){return ET(e)}encodeValue(e){return ET(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Ax(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var Nx=/%(\d[a-f0-9])/gi,Px={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ET(t){return encodeURIComponent(t).replace(Nx,(e,n)=>Px[n]??e)}function tu(t){return`${t}`}var Ir=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new mp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Ax(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(tu):[tu(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(tu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(tu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var vp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function xx(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function DT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function wT(t){return typeof Blob<"u"&&t instanceof Blob}function bT(t){return typeof FormData<"u"&&t instanceof FormData}function Rx(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ls=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(xx(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new rr,this.context??=new vp,!this.params)this.params=new Ir,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||DT(this.body)||wT(this.body)||bT(this.body)||Rx(this.body)?this.body:this.body instanceof Ir?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bT(this.body)?null:wT(this.body)?this.body.type||null:DT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ir?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Mr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Mr||{}),Bs=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new rr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ru=class t extends Bs{constructor(e={}){super(e),this.type=Mr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Hs=class t extends Bs{constructor(e={}){super(e),this.type=Mr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Sr=class extends Bs{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},NT=200,Ox=204;function gp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Cp=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Ls)s=r;else{let c;o.headers instanceof rr?c=o.headers:c=new rr(o.headers);let u;o.params&&(o.params instanceof Ir?u=o.params:u=new Ir({fromObject:o.params})),s=new Ls(r,i,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=M(s).pipe(fr(c=>this.handler.handle(c)));if(r instanceof Ls||o.observe==="events")return a;let l=a.pipe(ot(c=>c instanceof Hs));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(A(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(A(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(A(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(A(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Ir().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,gp(o,i))}post(r,i,o={}){return this.request("POST",r,gp(o,i))}put(r,i,o={}){return this.request("PUT",r,gp(o,i))}};e.\u0275fac=function(i){return new(i||e)(T(Vs))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),kx=/^\)\]\}',?\n/,Fx="X-Request-URL";function ST(t){if(t.url)return t.url;let e=Fx.toLocaleLowerCase();return t.headers.get(e)}var Lx=(()=>{let e=class e{constructor(){this.fetchImpl=_(yp,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=_(ce)}handle(r){return new $(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(_p,s=>i.error(new Sr({error:s}))),()=>o.abort()})}doRequest(r,i,o){return oe(this,null,function*(){let s=this.createRequestInit(r),a;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,D({signal:i},s)));Vx(g),o.next({type:Mr.Sent}),a=yield g}catch(g){o.error(new Sr({error:g,status:g.status??0,statusText:g.statusText,url:r.urlWithParams,headers:g.headers}));return}let l=new rr(a.headers),c=a.statusText,u=ST(a)??r.urlWithParams,d=a.status,f=null;if(r.reportProgress&&o.next(new ru({headers:l,status:d,statusText:c,url:u})),a.body){let g=a.headers.get("content-length"),y=[],v=a.body.getReader(),E=0,x,I,j=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>oe(this,null,function*(){for(;;){let{done:Pe,value:yt}=yield v.read();if(Pe)break;if(y.push(yt),E+=yt.length,r.reportProgress){I=r.responseType==="text"?(I??"")+(x??=new TextDecoder).decode(yt,{stream:!0}):void 0;let cr=()=>o.next({type:Mr.DownloadProgress,total:g?+g:void 0,loaded:E,partialText:I});j?j.run(cr):cr()}}}));let Se=this.concatChunks(y,E);try{let Pe=a.headers.get("Content-Type")??"";f=this.parseBody(r,Se,Pe)}catch(Pe){o.error(new Sr({error:Pe,headers:new rr(a.headers),status:a.status,statusText:a.statusText,url:ST(a)??r.urlWithParams}));return}}d===0&&(d=f?NT:0),d>=200&&d<300?(o.next(new Hs({body:f,headers:l,status:d,statusText:c,url:u})),o.complete()):o.error(new Sr({error:f,headers:l,status:d,statusText:c,url:u}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(kx,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),yp=class{};function _p(){}function Vx(t){t.then(_p,_p)}function PT(t,e){return e(t)}function Bx(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function Hx(t,e,n){return(r,i)=>on(n,()=>e(r,o=>t(o,i)))}var jx=new w(""),Tp=new w(""),Gx=new w(""),xT=new w("",{providedIn:"root",factory:()=>!0});function Ux(){let t=null;return(e,n)=>{t===null&&(t=(_(jx,{optional:!0})??[]).reduceRight(Bx,PT));let r=_(bn);if(_(xT)){let o=r.add();return t(e,n).pipe(vn(()=>r.remove(o)))}else return t(e,n)}}var IT=(()=>{let e=class e extends Vs{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=_(bn),this.contributeToStability=_(xT)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Tp),...this.injector.get(Gx,[])]));this.chain=i.reduceRight((o,s)=>Hx(o,s,this.injector),PT)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(vn(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(T(nu),T(wt))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();var $x=/^\)\]\}',?\n/;function Wx(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var MT=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new S(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?fe(i.\u0275loadImpl()):M(null)).pipe(Ee(()=>new $(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((v,E)=>a.setRequestHeader(v,E.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let v=r.detectContentTypeHeader();v!==null&&a.setRequestHeader("Content-Type",v)}if(r.responseType){let v=r.responseType.toLowerCase();a.responseType=v!=="json"?v:"text"}let l=r.serializeBody(),c=null,u=()=>{if(c!==null)return c;let v=a.statusText||"OK",E=new rr(a.getAllResponseHeaders()),x=Wx(a)||r.url;return c=new ru({headers:E,status:a.status,statusText:v,url:x}),c},d=()=>{let{headers:v,status:E,statusText:x,url:I}=u(),j=null;E!==Ox&&(j=typeof a.response>"u"?a.responseText:a.response),E===0&&(E=j?NT:0);let Se=E>=200&&E<300;if(r.responseType==="json"&&typeof j=="string"){let Pe=j;j=j.replace($x,"");try{j=j!==""?JSON.parse(j):null}catch(yt){j=Pe,Se&&(Se=!1,j={error:yt,text:j})}}Se?(s.next(new Hs({body:j,headers:v,status:E,statusText:x,url:I||void 0})),s.complete()):s.error(new Sr({error:j,headers:v,status:E,statusText:x,url:I||void 0}))},f=v=>{let{url:E}=u(),x=new Sr({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:E||void 0});s.error(x)},h=!1,g=v=>{h||(s.next(u()),h=!0);let E={type:Mr.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(E.total=v.total),r.responseType==="text"&&a.responseText&&(E.partialText=a.responseText),s.next(E)},y=v=>{let E={type:Mr.UploadProgress,loaded:v.loaded};v.lengthComputable&&(E.total=v.total),s.next(E)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",g),l!==null&&a.upload&&a.upload.addEventListener("progress",y)),a.send(l),s.next({type:Mr.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",g),l!==null&&a.upload&&a.upload.removeEventListener("progress",y)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(T(Eo))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),RT=new w(""),zx="XSRF-TOKEN",qx=new w("",{providedIn:"root",factory:()=>zx}),Kx="X-XSRF-TOKEN",Xx=new w("",{providedIn:"root",factory:()=>Kx}),iu=class{},Qx=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jc(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(T(Xe),T(tt),T(qx))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function Yx(t,e){let n=t.url.toLowerCase();if(!_(RT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=_(iu).getToken(),i=_(Xx);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var OT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(OT||{});function Zx(t,e){return{\u0275kind:t,\u0275providers:e}}function Jx(...t){let e=[Cp,MT,IT,{provide:Vs,useExisting:IT},{provide:nu,useFactory:()=>_(Lx,{optional:!0})??_(MT)},{provide:Tp,useValue:Yx,multi:!0},{provide:RT,useValue:!0},{provide:iu,useClass:Qx}];for(let n of t)e.push(...n.\u0275providers);return ui(e)}var AT=new w("");function e1(){return Zx(OT.LegacyInterceptors,[{provide:AT,useFactory:Ux},{provide:Tp,useExisting:AT,multi:!0}])}var kT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=ut({providers:[Jx(e1())]});let t=e;return t})();var wp=class extends Xc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},bp=class t extends wp{static makeCurrent(){pT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=n1();return n==null?null:r1(n)}resetBaseElement(){js=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jc(document.cookie,e)}},js=null;function n1(){return js=js||document.querySelector("base"),js?js.getAttribute("href"):null}function r1(t){return new URL(t,document.baseURI).pathname}var i1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),ou=new w(""),BT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T(ou),T(ce))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Gs=class{constructor(e){this._doc=e}},Ep="ng-app-id",HT=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Do(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Ep}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Ep),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Ep,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(Xe),T($h),T(zh,8),T(tt))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Dp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ip=/%COMP%/g,jT="%COMP%",o1=`_nghost-${jT}`,s1=`_ngcontent-${jT}`,a1=!0,l1=new w("",{providedIn:"root",factory:()=>a1});function c1(t){return s1.replace(Ip,t)}function u1(t){return o1.replace(Ip,t)}function GT(t,e){return e.map(n=>n.replace(Ip,t))}var FT=(()=>{let e=class e{constructor(r,i,o,s,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Do(l),this.defaultRenderer=new Us(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Cn.ShadowDom&&(i=z(D({},i),{encapsulation:Cn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof su?o.applyToHost(r):o instanceof $s&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Cn.Emulated:s=new su(c,u,i,this.appId,d,a,l,f);break;case Cn.ShadowDom:return new Sp(c,u,r,i,a,l,this.nonce,f);default:s=new $s(c,u,i,d,a,l,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(BT),T(HT),T($h),T(l1),T(Xe),T(tt),T(ce),T(zh))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Us=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Dp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(LT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(LT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Dp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Dp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Wn.DashCase|Wn.Important)?e.style.setProperty(n,r,i&Wn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Wn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=nr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function LT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Sp=class extends Us{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=GT(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$s=class extends Us{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?GT(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},su=class extends $s{constructor(e,n,r,i,o,s,a,l){let c=i+"-"+r.id;super(e,n,r,o,s,a,l,c),this.contentAttr=c1(c),this.hostAttr=u1(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},d1=(()=>{let e=class e extends Gs{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(T(Xe))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),f1=(()=>{let e=class e extends Gs{constructor(r){super(r),this.delegate=_(cT,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(T(Xe))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),VT=["alt","control","meta","shift"],h1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},p1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},g1=(()=>{let e=class e extends Gs{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),VT.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=h1[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),VT.forEach(a=>{if(a!==o){let l=p1[a];l(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(Xe))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function UT(t,e){return lT(D({rootComponent:t},m1(e)))}function m1(t){return{appProviders:[...T1,...t?.providers??[]],platformProviders:C1}}function v1(){bp.makeCurrent()}function y1(){return new En}function _1(){return Y_(document),document}var C1=[{provide:tt,useValue:pp},{provide:Wh,useValue:v1,multi:!0},{provide:Xe,useFactory:_1,deps:[]}];var T1=[{provide:Dc,useValue:"root"},{provide:En,useFactory:y1,deps:[]},{provide:ou,useClass:d1,multi:!0,deps:[Xe,ce,tt]},{provide:ou,useClass:g1,multi:!0,deps:[Xe]},{provide:ou,useClass:f1,multi:!0},FT,HT,BT,{provide:po,useExisting:FT},{provide:Eo,useClass:i1,deps:[]},[]];var $T=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(Xe))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var U="primary",aa=Symbol("RouteTitle"),xp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ao(t){return new xp(t)}function w1(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function b1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pn(t[n],e[n]))return!1;return!0}function Pn(t,e){let n=t?Rp(t):void 0,r=e?Rp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ZT(t[i],e[i]))return!1;return!0}function Rp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ZT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function JT(t){return t.length>0?t[t.length-1]:null}function Ar(t){return lf(t)?t:hi(t)?fe(Promise.resolve(t)):M(t)}var S1={exact:tE,subset:nE},eE={exact:I1,subset:M1,ignored:()=>!0};function WT(t,e,n){return S1[n.paths](t.root,e.root,n.matrixParams)&&eE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function I1(t,e){return Pn(t,e)}function tE(t,e,n){if(!vi(t.segments,e.segments)||!cu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!tE(t.children[r],e.children[r],n))return!1;return!0}function M1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ZT(t[n],e[n]))}function nE(t,e,n){return rE(t,e,e.segments,n)}function rE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!vi(i,n)||e.hasChildren()||!cu(i,n,r))}else if(t.segments.length===n.length){if(!vi(t.segments,n)||!cu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!nE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!vi(t.segments,i)||!cu(t.segments,i,r)||!t.children[U]?!1:rE(t.children[U],e,o,r)}}function cu(t,e,n){return e.every((r,i)=>eE[n](t[i].parameters,r.parameters))}var or=class{constructor(e=new ue([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ao(this.queryParams),this._queryParamMap}toString(){return P1.serialize(this)}},ue=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uu(this)}},mi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ao(this.parameters),this._parameterMap}toString(){return oE(this)}};function A1(t,e){return vi(t,e)&&t.every((n,r)=>Pn(n.parameters,e[r].parameters))}function vi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function N1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===U&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==U&&(n=n.concat(e(i,r)))}),n}var og=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new Ys,providedIn:"root"});let t=e;return t})(),Ys=class{parse(e){let n=new kp(e);return new or(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ws(e.root,!0)}`,r=O1(e.queryParams),i=typeof e.fragment=="string"?`#${x1(e.fragment)}`:"";return`${n}${r}${i}`}},P1=new Ys;function uu(t){return t.segments.map(e=>oE(e)).join("/")}function Ws(t,e){if(!t.hasChildren())return uu(t);if(e){let n=t.children[U]?Ws(t.children[U],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==U&&r.push(`${i}:${Ws(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=N1(t,(r,i)=>i===U?[Ws(t.children[U],!1)]:[`${i}:${Ws(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[U]!=null?`${uu(t)}/${n[0]}`:`${uu(t)}/(${n.join("//")})`}}function iE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function au(t){return iE(t).replace(/%3B/gi,";")}function x1(t){return encodeURI(t)}function Op(t){return iE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function du(t){return decodeURIComponent(t)}function zT(t){return du(t.replace(/\+/g,"%20"))}function oE(t){return`${Op(t.path)}${R1(t.parameters)}`}function R1(t){return Object.entries(t).map(([e,n])=>`;${Op(e)}=${Op(n)}`).join("")}function O1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${au(n)}=${au(i)}`).join("&"):`${au(n)}=${au(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var k1=/^[^\/()?;#]+/;function Mp(t){let e=t.match(k1);return e?e[0]:""}var F1=/^[^\/()?;=#]+/;function L1(t){let e=t.match(F1);return e?e[0]:""}var V1=/^[^=?&#]+/;function B1(t){let e=t.match(V1);return e?e[0]:""}var H1=/^[^&#]+/;function j1(t){let e=t.match(H1);return e?e[0]:""}var kp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[U]=new ue(e,n)),r}parseSegment(){let e=Mp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new mi(du(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=L1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Mp(this.remaining);i&&(r=i,this.capture(r))}e[du(n)]=du(r)}parseQueryParam(e){let n=B1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=j1(this.remaining);s&&(r=s,this.capture(r))}let i=zT(n),o=zT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Mp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=U);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[U]:new ue([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}};function sE(t){return t.segments.length>0?new ue([],{[U]:t}):t}function aE(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=aE(i);if(r===U&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ue(t.segments,e);return G1(n)}function G1(t){if(t.numberOfChildren===1&&t.children[U]){let e=t.children[U];return new ue(t.segments.concat(e.segments),e.children)}return t}function Zs(t){return t instanceof or}function U1(t,e,n=null,r=null){let i=lE(t);return cE(i,e,n,r)}function lE(t){let e;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new ue(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=sE(r);return e??i}function cE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ap(i,i,i,n,r);let o=$1(e);if(o.toRoot())return Ap(i,i,new ue([],{}),n,r);let s=W1(o,i,t),a=s.processChildren?Ks(s.segmentGroup,s.index,o.commands):dE(s.segmentGroup,s.index,o.commands);return Ap(i,s.segmentGroup,a,n,r)}function fu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Js(t){return typeof t=="object"&&t!=null&&t.outlets}function Ap(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=n:s=uE(t,e,n);let a=sE(aE(s));return new or(a,o,i)}function uE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=uE(o,e,n)}),new ue(t.segments,r)}var hu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&fu(r[0]))throw new S(4003,!1);let i=r.find(Js);if(i&&i!==JT(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new hu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new hu(n,e,r)}var So=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function W1(t,e,n){if(t.isAbsolute)return new So(e,!0,0);if(!n)return new So(e,!1,NaN);if(n.parent===null)return new So(n,!0,0);let r=fu(t.commands[0])?0:1,i=n.segments.length-1+r;return z1(n,i,t.numberOfDoubleDots)}function z1(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new So(r,!1,i-o)}function q1(t){return Js(t[0])?t[0].outlets:{[U]:t}}function dE(t,e,n){if(t??=new ue([],{}),t.segments.length===0&&t.hasChildren())return Ks(t,e,n);let r=K1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ue(t.segments.slice(0,r.pathIndex),{});return o.children[U]=new ue(t.segments.slice(r.pathIndex),t.children),Ks(o,0,i)}else return r.match&&i.length===0?new ue(t.segments,{}):r.match&&!t.hasChildren()?Fp(t,e,n):r.match?Ks(t,0,i):Fp(t,e,n)}function Ks(t,e,n){if(n.length===0)return new ue(t.segments,{});{let r=q1(n),i={};if(Object.keys(r).some(o=>o!==U)&&t.children[U]&&t.numberOfChildren===1&&t.children[U].segments.length===0){let o=Ks(t.children[U],e,n);return new ue(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=dE(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ue(t.segments,i)}}function K1(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Js(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!KT(l,c,s))return o;r+=2}else{if(!KT(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Fp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Js(o)){let l=X1(o.outlets);return new ue(r,l)}if(i===0&&fu(n[0])){let l=t.segments[e];r.push(new mi(l.path,qT(n[0]))),i++;continue}let s=Js(o)?o.outlets[U]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&fu(a)?(r.push(new mi(s,qT(a))),i+=2):(r.push(new mi(s,{})),i++)}return new ue(r,{})}function X1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Fp(new ue([],{}),0,r))}),e}function qT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function KT(t,e,n){return t==n.path&&Pn(e,n.parameters)}var Xs="imperative",Qe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Qe||{}),Wt=class{constructor(e,n){this.id=e,this.url=n}},ea=class extends Wt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Qe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yi=class extends Wt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Pt||{}),Lp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Lp||{}),ir=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_i=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qe.NavigationSkipped}},ta=class extends Wt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pu=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vp=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bp=class extends Wt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hp=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jp=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gp=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Up=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$p=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wp=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zp=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qp=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var na=class{},No=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Q1(t,e){return t.providers&&!t._injector&&(t._injector=sp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function cn(t){return t.outlet||U}function Y1(t,e){let n=t.filter(r=>cn(r)===e);return n.push(...t.filter(r=>cn(r)!==e)),n}function la(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Kp=class{get injector(){return la(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Tu(this.rootInjector),this.attachRef=null}},Tu=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Kp(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(T(wt))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Xp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Xp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Qp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qp(e,this._root).map(n=>n.value)}};function Xp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Xp(t,n);if(r)return r}return null}function Qp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Qp(t,n);if(r.length)return r.unshift(e),r}return[]}var Nt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function bo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var mu=class extends gu{constructor(e,n){super(e),this.snapshot=n,sg(this,e)}toString(){return this.snapshot.toString()}};function fE(t){let e=Z1(t),n=new Ke([new mi("",{})]),r=new Ke({}),i=new Ke({}),o=new Ke({}),s=new Ke(""),a=new Po(n,r,o,s,i,U,t,e.root);return a.snapshot=e.root,new mu(new Nt(a,[]),e)}function Z1(t){let e={},n={},r={},i="",o=new Io([],e,r,i,n,U,t,null,{});return new yu("",new Nt(o,[]))}var Po=class{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(A(c=>c[aa]))??M(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(A(e=>Ao(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(A(e=>Ao(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vu(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),t.params),data:D(D({},e.data),t.data),resolve:D(D(D(D({},t.data),e.data),i?.data),t._resolvedData)}:r={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},i&&pE(i)&&(r.resolve[aa]=i.title),r}var Io=class{get title(){return this.data?.[aa]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ao(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ao(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},yu=class extends gu{constructor(e,n){super(n),this.url=e,sg(this,n)}toString(){return hE(this._root)}};function sg(t,e){e.value._routerState=t,e.children.forEach(n=>sg(t,n))}function hE(t){let e=t.children.length>0?` { ${t.children.map(hE).join(", ")} } `:"";return`${t.value}${e}`}function Np(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Pn(e.params,n.params)||t.paramsSubject.next(n.params),b1(e.url,n.url)||t.urlSubject.next(n.url),Pn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Yp(t,e){let n=Pn(t.params,e.params)&&A1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Yp(t.parent,e.parent))}function pE(t){return typeof t.title=="string"||t.title===null}var ag=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=U,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=_(Tu),this.location=_(Oc),this.changeDetector=_(wr),this.inputBinder=_(lg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Zp(r,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=et({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Cr]});let t=e;return t})(),Zp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Po?this.route:e===Tu?this.childContexts:this.parent.get(e,n)}},lg=new w("");function J1(t,e,n){let r=ra(t,e._root,n?n._root:void 0);return new mu(r,e)}function ra(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=eR(t,e,n);return new Nt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ra(t,a)),s}}let r=tR(e.value),i=e.children.map(o=>ra(t,o));return new Nt(r,i)}}function eR(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ra(t,r,i);return ra(t,r)})}function tR(t){return new Po(new Ke(t.url),new Ke(t.params),new Ke(t.queryParams),new Ke(t.fragment),new Ke(t.data),t.outlet,t.component,t)}var ia=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},gE="ngNavigationCancelingError";function _u(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Zs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=mE(!1,Pt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function mE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[gE]=!0,n.cancellationCode=e,n}function nR(t){return vE(t)&&Zs(t.url)}function vE(t){return!!t&&t[gE]}var rR=(t,e,n,r)=>A(i=>(new Jp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Jp=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Np(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=bo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=bo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=bo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=bo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new qp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Wp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Np(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Np(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Cu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Mo=class{constructor(e,n){this.component=e,this.route=n}};function iR(t,e,n){let r=t._root,i=e?e._root:null;return zs(r,i,n,[r.value])}function oR(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ro(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!k0(t)?t:e.get(t):r}function zs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=bo(e);return t.children.forEach(s=>{sR(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qs(a,n.getContext(s),i)),i}function sR(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=aR(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Cu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?zs(t,e,a?a.children:null,r,i):zs(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Mo(a.outlet.component,s))}else s&&Qs(e,a,i),i.canActivateChecks.push(new Cu(r)),o.component?zs(t,null,a?a.children:null,r,i):zs(t,null,n,r,i);return i}function aR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!vi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!vi(t.url,e.url)||!Pn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yp(t,e)||!Pn(t.queryParams,e.queryParams);case"paramsChange":default:return!Yp(t,e)}}function Qs(t,e,n){let r=bo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Qs(s,e.children.getContext(o),n):Qs(s,null,n):Qs(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Mo(e.outlet.component,i)):n.canDeactivateChecks.push(new Mo(null,i)):n.canDeactivateChecks.push(new Mo(null,i))}function ca(t){return typeof t=="function"}function lR(t){return typeof t=="boolean"}function cR(t){return t&&ca(t.canLoad)}function uR(t){return t&&ca(t.canActivate)}function dR(t){return t&&ca(t.canActivateChild)}function fR(t){return t&&ca(t.canDeactivate)}function hR(t){return t&&ca(t.canMatch)}function yE(t){return t instanceof tn||t?.name==="EmptyError"}var lu=Symbol("INITIAL_VALUE");function xo(){return Ee(t=>Fl(t.map(e=>e.pipe(Gn(1),mf(lu)))).pipe(A(e=>{for(let n of e)if(n!==!0){if(n===lu)return lu;if(n===!1||pR(n))return n}return!0}),ot(e=>e!==lu),Gn(1)))}function pR(t){return Zs(t)||t instanceof ia}function gR(t,e){return je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?M(z(D({},n),{guardsResult:!0})):mR(s,r,i,t).pipe(je(a=>a&&lR(a)?vR(r,o,t,e):M(a)),A(a=>z(D({},n),{guardsResult:a})))})}function mR(t,e,n,r){return fe(t).pipe(je(i=>ER(i.component,i.route,n,e,r)),st(i=>i!==!0,!0))}function vR(t,e,n,r){return fe(e).pipe(fr(i=>Wi(_R(i.route.parent,r),yR(i.route,r),TR(t,i.path,n),CR(t,i.route,n))),st(i=>i!==!0,!0))}function yR(t,e){return t!==null&&e&&e(new zp(t)),M(!0)}function _R(t,e){return t!==null&&e&&e(new $p(t)),M(!0)}function CR(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return M(!0);let i=r.map(o=>Ll(()=>{let s=la(e)??n,a=Ro(o,s),l=uR(a)?a.canActivate(e,t):on(s,()=>a(e,t));return Ar(l).pipe(st())}));return M(i).pipe(xo())}function TR(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>oR(s)).filter(s=>s!==null).map(s=>Ll(()=>{let a=s.guards.map(l=>{let c=la(s.node)??n,u=Ro(l,c),d=dR(u)?u.canActivateChild(r,t):on(c,()=>u(r,t));return Ar(d).pipe(st())});return M(a).pipe(xo())}));return M(o).pipe(xo())}function ER(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return M(!0);let s=o.map(a=>{let l=la(e)??i,c=Ro(a,l),u=fR(c)?c.canDeactivate(t,e,n,r):on(l,()=>c(t,e,n,r));return Ar(u).pipe(st())});return M(s).pipe(xo())}function DR(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return M(!0);let o=i.map(s=>{let a=Ro(s,t),l=cR(a)?a.canLoad(e,n):on(t,()=>a(e,n));return Ar(l)});return M(o).pipe(xo(),_E(r))}function _E(t){return tf(Ne(e=>{if(typeof e!="boolean")throw _u(t,e)}),A(e=>e===!0))}function wR(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return M(!0);let o=i.map(s=>{let a=Ro(s,t),l=hR(a)?a.canMatch(e,n):on(t,()=>a(e,n));return Ar(l)});return M(o).pipe(xo(),_E(r))}var oa=class{constructor(e){this.segmentGroup=e||null}},sa=class extends Error{constructor(e){super(),this.urlTree=e}};function wo(t){return jn(new oa(t))}function bR(t){return jn(new S(4e3,!1))}function SR(t){return jn(mE(!1,Pt.GuardRejected))}var eg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return M(r);if(i.numberOfChildren>1||!i.children[U])return bR(`${e.redirectTo}`);i=i.children[U]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:g,title:y}=i,v=on(o,()=>a({params:h,data:g,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:y}));if(v instanceof or)throw new sa(v);n=v}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new sa(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new or(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new ue(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},tg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IR(t,e,n,r,i){let o=cg(t,e,n);return o.matched?(r=Q1(e,r),wR(r,e,n,i).pipe(A(s=>s===!0?o:D({},tg)))):M(o)}function cg(t,e,n){if(e.path==="**")return MR(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?D({},tg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||w1)(n,t,e);if(!i)return D({},tg);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function MR(t){return{matched:!0,parameters:t.length>0?JT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function XT(t,e,n,r){return n.length>0&&PR(t,n,r)?{segmentGroup:new ue(e,NR(r,new ue(n,t.children))),slicedSegments:[]}:n.length===0&&xR(t,n,r)?{segmentGroup:new ue(t.segments,AR(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ue(t.segments,t.children),slicedSegments:n}}function AR(t,e,n,r){let i={};for(let o of n)if(Eu(t,e,o)&&!r[cn(o)]){let s=new ue([],{});i[cn(o)]=s}return D(D({},r),i)}function NR(t,e){let n={};n[U]=e;for(let r of t)if(r.path===""&&cn(r)!==U){let i=new ue([],{});n[cn(r)]=i}return n}function PR(t,e,n){return n.some(r=>Eu(t,e,r)&&cn(r)!==U)}function xR(t,e,n){return n.some(r=>Eu(t,e,r))}function Eu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function RR(t,e,n,r){return cn(t)!==r&&(r===U||!Eu(e,n,t))?!1:cg(e,t,n).matched}function OR(t,e,n){return e.length===0&&!t.children[n]}var ng=class{};function kR(t,e,n,r,i,o,s="emptyOnly"){return new rg(t,e,n,r,i,s,o).recognize()}var FR=31,rg=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new eg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new S(4002,`'${e.segmentGroup}'`)}recognize(){let e=XT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(A(({children:n,rootSnapshot:r})=>{let i=new Nt(r,n),o=new yu("",i),s=U1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Io([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,U,n).pipe(A(r=>({children:r,rootSnapshot:n})),mn(r=>{if(r instanceof sa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(A(s=>s instanceof Nt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return fe(o).pipe(fr(s=>{let a=r.children[s],l=Y1(n,s);return this.processSegmentGroup(e,l,a,s,i)}),Ki((s,a)=>(s.push(...a),s)),hr(null),hf(),je(s=>{if(s===null)return wo(r);let a=CE(s);return LR(a),M(a)}))}processSegment(e,n,r,i,o,s,a){return fe(n).pipe(fr(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,a).pipe(mn(c=>{if(c instanceof oa)return M(null);throw c}))),st(l=>!!l),mn(l=>{if(yE(l))return OR(r,i,o)?M(new ng):wo(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return RR(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):wo(i):wo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=cg(n,i,o);if(!l)return wo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FR&&(this.allowRedirects=!1));let h=new Io(o,c,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,QT(i),cn(i),i.component??i._loadedComponent??null,i,YT(i)),g=vu(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let y=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,y).pipe(je(v=>this.processSegment(e,r,n,v.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=IR(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ee(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ee(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=l,g=new Io(f,d,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,QT(r),cn(r),r.component??r._loadedComponent??null,r,YT(r)),y=vu(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let{segmentGroup:v,slicedSegments:E}=XT(n,f,h,c);if(E.length===0&&v.hasChildren())return this.processChildren(u,c,v,g).pipe(A(I=>new Nt(g,I)));if(c.length===0&&E.length===0)return M(new Nt(g,[]));let x=cn(r)===o;return this.processSegment(u,c,v,E,x?U:o,!0,g).pipe(A(I=>new Nt(g,I instanceof Nt?[I]:[])))}))):wo(n)))}getChildConfig(e,n,r){return n.children?M({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?M({routes:n._loadedRoutes,injector:n._loadedInjector}):DR(e,n,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,n).pipe(Ne(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):SR(n))):M({routes:[],injector:e})}};function LR(t){t.sort((e,n)=>e.value.outlet===U?-1:n.value.outlet===U?1:e.value.outlet.localeCompare(n.value.outlet))}function VR(t){let e=t.value.routeConfig;return e&&e.path===""}function CE(t){let e=[],n=new Set;for(let r of t){if(!VR(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=CE(r.children);e.push(new Nt(r.value,i))}return e.filter(r=>!n.has(r))}function QT(t){return t.data||{}}function YT(t){return t.resolve||{}}function BR(t,e,n,r,i,o){return je(s=>kR(t,e,n,r,s.extractedUrl,i,o).pipe(A(({state:a,tree:l})=>z(D({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function HR(t,e){return je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return M(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of TE(l))s.add(c);let a=0;return fe(s).pipe(fr(l=>o.has(l)?jR(l,r,t,e):(l.data=vu(l,l.parent,t).resolve,M(void 0))),Ne(()=>a++),qi(1),je(l=>a===s.size?M(n):it))})}function TE(t){let e=t.children.map(n=>TE(n)).flat();return[t,...e]}function jR(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!pE(i)&&(o[aa]=i.title),GR(o,t,e,r).pipe(A(s=>(t._resolvedData=s,t.data=vu(t,t.parent,n).resolve,null)))}function GR(t,e,n,r){let i=Rp(t);if(i.length===0)return M({});let o={};return fe(i).pipe(je(s=>UR(t[s],e,n,r).pipe(st(),Ne(a=>{if(a instanceof ia)throw _u(new Ys,a);o[s]=a}))),qi(1),df(o),mn(s=>yE(s)?it:jn(s)))}function UR(t,e,n,r){let i=la(e)??r,o=Ro(t,i),s=o.resolve?o.resolve(e,n):on(i,()=>o(e,n));return Ar(s)}function Pp(t){return Ee(e=>{let n=t(e);return n?fe(n).pipe(A(()=>e)):M(e)})}var EE=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===U);return i}getResolvedTitleForRoute(r){return r.data[aa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_($R),providedIn:"root"});let t=e;return t})(),$R=(()=>{let e=class e extends EE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T($T))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ug=new w("",{providedIn:"root",factory:()=>({})}),WR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ht({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ut],decls:1,vars:0,template:function(i,o){i&1&&An(0,"router-outlet")},dependencies:[ag],encapsulation:2});let t=e;return t})();function dg(t){let e=t.children&&t.children.map(dg),n=e?z(D({},t),{children:e}):D({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==U&&(n.component=WR),n}var fg=new w(""),zR=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(lp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return M(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ar(r.loadComponent()).pipe(A(DE),Ne(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),vn(()=>{this.componentLoaders.delete(r)})),o=new Hi(i,()=>new we).pipe(Bi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return M({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=qR(i,this.compiler,r,this.onLoadEndListener).pipe(vn(()=>{this.childrenLoaders.delete(i)})),a=new Hi(s,()=>new we).pipe(Bi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qR(t,e,n,r){return Ar(t.loadChildren()).pipe(A(DE),je(i=>i instanceof Ss||Array.isArray(i)?M(i):fe(e.compileModuleAsync(i))),A(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(fg,[],{optional:!0,self:!0}).flat()),{routes:s.map(dg),injector:o}}))}function KR(t){return t&&typeof t=="object"&&"default"in t}function DE(t){return KR(t)?t.default:t}var hg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(XR),providedIn:"root"});let t=e;return t})(),XR=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),QR=new w("");var YR=new w(""),ZR=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new we,this.transitionAbortSubject=new we,this.configLoader=_(zR),this.environmentInjector=_(wt),this.urlSerializer=_(og),this.rootContexts=_(Tu),this.location=_(Fs),this.inputBindingEnabled=_(lg,{optional:!0})!==null,this.titleStrategy=_(EE),this.options=_(ug,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(hg),this.createViewTransition=_(QR,{optional:!0}),this.navigationErrorHandler=_(YR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Gp(o)),i=o=>this.events.next(new Up(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(z(D(D({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ke({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Xs,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ot(s=>s.id!==0),A(s=>z(D({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ee(s=>{let a=!1,l=!1;return M(s).pipe(Ee(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Pt.SupersededByNewNavigation),it;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?z(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new _i(c.id,this.urlSerializer.serialize(c.rawUrl),f,Lp.IgnoredSameUrlNavigation)),c.resolve(!1),it}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return M(c).pipe(Ee(f=>{let h=this.transitions?.getValue();return this.events.next(new ea(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?it:Promise.resolve(f)}),BR(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ne(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=z(D({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new pu(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:g,restoredState:y,extras:v}=c,E=new ea(f,this.urlSerializer.serialize(h),g,y);this.events.next(E);let x=fE(this.rootComponentType).snapshot;return this.currentTransition=s=z(D({},c),{targetSnapshot:x,urlAfterRedirects:h,extras:z(D({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,M(s)}else{let f="";return this.events.next(new _i(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Lp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),it}}),Ne(c=>{let u=new Vp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),A(c=>(this.currentTransition=s=z(D({},c),{guards:iR(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),gR(this.environmentInjector,c=>this.events.next(c)),Ne(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw _u(this.urlSerializer,c.guardsResult);let u=new Bp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),ot(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Pt.GuardRejected),!1)),Pp(c=>{if(c.guards.canActivateChecks.length)return M(c).pipe(Ne(u=>{let d=new Hp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ee(u=>{let d=!1;return M(u).pipe(HR(this.paramsInheritanceStrategy,this.environmentInjector),Ne({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Pt.NoDataFromResolver)}}))}),Ne(u=>{let d=new jp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Pp(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ne(h=>{d.component=h}),A(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Fl(u(c.targetSnapshot.root)).pipe(hr(null),Gn(1))}),Pp(()=>this.afterPreactivation()),Ee(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?fe(d).pipe(A(()=>s)):M(s)}),A(c=>{let u=J1(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=z(D({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Ne(()=>{this.events.next(new na)}),rR(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Gn(1),Ne({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),vf(this.transitionAbortSubject.pipe(Ne(c=>{throw c}))),vn(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",Pt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),mn(c=>{if(l=!0,vE(c))this.events.next(new ir(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),nR(c)?this.events.next(new No(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let u=new ta(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let d=on(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof ia){let{message:f,cancellationCode:h}=_u(this.urlSerializer,d);this.events.next(new ir(s.id,this.urlSerializer.serialize(s.extractedUrl),f,h)),this.events.next(new No(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=r.errorHandler(c);s.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return it}))}))}cancelNavigationTransition(r,i,o){let s=new ir(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JR(t){return t!==Xs}var eO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(tO),providedIn:"root"});let t=e;return t})(),ig=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},tO=(()=>{let e=class e extends ig{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=vo(e)))(o||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(nO),providedIn:"root"});let t=e;return t})(),nO=(()=>{let e=class e extends wE{constructor(){super(...arguments),this.location=_(Fs),this.urlSerializer=_(og),this.options=_(ug,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(hg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=fE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ea)this.stateMemento=this.createStateMemento();else if(r instanceof _i)this.rawUrlTree=i.initialUrl;else if(r instanceof pu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof na?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof ir&&(r.code===Pt.GuardRejected||r.code===Pt.NoDataFromResolver)?this.restoreHistory(i):r instanceof ta?this.restoreHistory(i,!0):r instanceof yi&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof or?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=D(D({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=D(D({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=vo(e)))(o||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(qs||{});function rO(t,e){t.events.pipe(ot(n=>n instanceof yi||n instanceof ir||n instanceof ta||n instanceof _i),A(n=>n instanceof yi||n instanceof _i?qs.COMPLETE:(n instanceof ir?n.code===Pt.Redirect||n.code===Pt.SupersededByNewNavigation:!1)?qs.REDIRECTING:qs.FAILED),ot(n=>n!==qs.REDIRECTING),Gn(1)).subscribe(()=>{e()})}function iO(t){throw t}var oO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=_(Fc),this.stateManager=_(wE),this.options=_(ug,{optional:!0})||{},this.pendingTasks=_(bn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(ZR),this.urlSerializer=_(og),this.location=_(Fs),this.urlHandlingStrategy=_(hg),this._events=new we,this.errorHandler=this.options.errorHandler||iO,this.navigated=!1,this.routeReuseStrategy=_(eO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(fg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(lg,{optional:!0}),this.eventsSubscription=new Ae,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof ir&&i.code!==Pt.Redirect&&i.code!==Pt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof yi)this.navigated=!0;else if(i instanceof No){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c=D({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||JR(o.source)},a);this.scheduleNavigation(l,Xs,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}lO(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=D({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(dg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=D(D({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=lE(h)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),f=this.currentUrlTree.root}return cE(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Zs(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Xs,null,i)}navigate(r,i={skipLocationChange:!1}){return aO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=D({},oO):i===!1?o=D({},sO):o=i,Zs(r))return WT(this.currentUrlTree,r,o);let s=this.parseUrl(r);return WT(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});let d=this.pendingTasks.add();return rO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new S(4008,!1)}function lO(t){return!(t instanceof na)&&!(t instanceof No)}var cO=new w("");function bE(t,...e){return ui([{provide:fg,multi:!0,useValue:t},[],{provide:Po,useFactory:uO,deps:[xn]},{provide:Lc,multi:!0,useFactory:dO},e.map(n=>n.\u0275providers)])}function uO(t){return t.routerState.root}function dO(){let t=_($n);return e=>{let n=t.get(pi);if(e!==n.components[0])return;let r=t.get(xn),i=t.get(fO);t.get(hO)===1&&r.initialNavigation(),t.get(pO,null,q.Optional)?.setUpPreloading(),t.get(cO,null,q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fO=new w("",{factory:()=>new we}),hO=new w("",{providedIn:"root",factory:()=>1});var pO=new w("");var OE=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(V(Sn),V(an))},e.\u0275dir=et({type:e});let t=e;return t})(),kE=(()=>{let e=class e extends OE{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=vo(e)))(o||e)}})(),e.\u0275dir=et({type:e,features:[In]});let t=e;return t})(),Lo=new w("");var gO={provide:Lo,useExisting:Dn(()=>Vo),multi:!0};function mO(){let t=nr()?nr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var vO=new w(""),Vo=(()=>{let e=class e extends OE{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!mO())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(V(Sn),V(an),V(vO,8))},e.\u0275dir=et({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&ht("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Dr([gO]),In]});let t=e;return t})();function Nr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function FE(t){return t!=null&&typeof t.length=="number"}var yg=new w(""),_g=new w(""),yO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Fo=class{static min(e){return _O(e)}static max(e){return CO(e)}static required(e){return TO(e)}static requiredTrue(e){return EO(e)}static email(e){return DO(e)}static minLength(e){return wO(e)}static maxLength(e){return bO(e)}static pattern(e){return SO(e)}static nullValidator(e){return LE(e)}static compose(e){return UE(e)}static composeAsync(e){return WE(e)}};function _O(t){return e=>{if(Nr(e.value)||Nr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function CO(t){return e=>{if(Nr(e.value)||Nr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function TO(t){return Nr(t.value)?{required:!0}:null}function EO(t){return t.value===!0?null:{required:!0}}function DO(t){return Nr(t.value)||yO.test(t.value)?null:{email:!0}}function wO(t){return e=>Nr(e.value)||!FE(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function bO(t){return e=>FE(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function SO(t){if(!t)return LE;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Nr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function LE(t){return null}function VE(t){return t!=null}function BE(t){return hi(t)?fe(t):t}function HE(t){let e={};return t.forEach(n=>{e=n!=null?D(D({},e),n):e}),Object.keys(e).length===0?null:e}function jE(t,e){return e.map(n=>n(t))}function IO(t){return!t.validate}function GE(t){return t.map(e=>IO(e)?e:n=>e.validate(n))}function UE(t){if(!t)return null;let e=t.filter(VE);return e.length==0?null:function(n){return HE(jE(n,e))}}function $E(t){return t!=null?UE(GE(t)):null}function WE(t){if(!t)return null;let e=t.filter(VE);return e.length==0?null:function(n){let r=jE(n,e).map(BE);return uf(r).pipe(A(HE))}}function zE(t){return t!=null?WE(GE(t)):null}function IE(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function qE(t){return t._rawValidators}function KE(t){return t._rawAsyncValidators}function pg(t){return t?Array.isArray(t)?t:[t]:[]}function wu(t,e){return Array.isArray(t)?t.includes(e):t===e}function ME(t,e){let n=pg(e);return pg(t).forEach(i=>{wu(n,i)||n.push(i)}),n}function AE(t,e){return pg(e).filter(n=>!wu(t,n))}var bu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$E(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ci=class extends bu{get formDirective(){return null}get path(){return null}},Ti=class extends bu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Su=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},MO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},f5=z(D({},MO),{"[class.ng-submitted]":"isSubmitted"}),Bo=(()=>{let e=class e extends Su{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(V(Ti,2))},e.\u0275dir=et({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&kc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[In]});let t=e;return t})(),XE=(()=>{let e=class e extends Su{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(V(Ci,10))},e.\u0275dir=et({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&kc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[In]});let t=e;return t})();var ua="VALID",Du="INVALID",Oo="PENDING",da="DISABLED",Pr=class{},Iu=class extends Pr{constructor(e,n){super(),this.value=e,this.source=n}},fa=class extends Pr{constructor(e,n){super(),this.pristine=e,this.source=n}},ha=class extends Pr{constructor(e,n){super(),this.touched=e,this.source=n}},ko=class extends Pr{constructor(e,n){super(),this.status=e,this.source=n}},gg=class extends Pr{constructor(e){super(),this.source=e}},mg=class extends Pr{constructor(e){super(),this.source=e}};function QE(t){return(xu(t)?t.validators:t)||null}function AO(t){return Array.isArray(t)?$E(t):t||null}function YE(t,e){return(xu(e)?e.asyncValidators:t)||null}function NO(t){return Array.isArray(t)?zE(t):t||null}function xu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function PO(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")}function xO(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new S(1002,"")})}var Mu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ks(()=>this.statusReactive()),this.statusReactive=fi(void 0),this._pristine=ks(()=>this.pristineReactive()),this.pristineReactive=fi(!0),this._touched=ks(()=>this.touchedReactive()),this.touchedReactive=fi(!1),this._events=new we,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Jn(this.statusReactive)}set status(e){Jn(()=>this.statusReactive.set(e))}get valid(){return this.status===ua}get invalid(){return this.status===Du}get pending(){return this.status==Oo}get disabled(){return this.status===da}get enabled(){return this.status!==da}get pristine(){return Jn(this.pristineReactive)}set pristine(e){Jn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Jn(this.touchedReactive)}set touched(e){Jn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ME(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ME(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(AE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(AE(e,this._rawAsyncValidators))}hasValidator(e){return wu(this._rawValidators,e)}hasAsyncValidator(e){return wu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(z(D({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ha(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ha(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(z(D({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new fa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new fa(!0,r))}markAsPending(e={}){this.status=Oo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ko(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(z(D({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=da,this.errors=null,this._forEachChild(i=>{i.disable(z(D({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Iu(this.value,r)),this._events.next(new ko(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(D({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ua,this._forEachChild(r=>{r.enable(z(D({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(z(D({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ua||this.status===Oo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Iu(this.value,n)),this._events.next(new ko(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(z(D({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?da:ua}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Oo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=BE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ko(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?da:this.errors?Du:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oo)?Oo:this._anyControlsHaveStatus(Du)?Du:ua}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new fa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ha(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=AO(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=NO(this._rawAsyncValidators)}},Au=class extends Mu{constructor(e,n,r){super(QE(n),YE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){xO(this,!0,e),Object.keys(e).forEach(r=>{PO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ru=new w("CallSetDisabledState",{providedIn:"root",factory:()=>Ou}),Ou="always";function ZE(t,e){return[...e.path,t]}function vg(t,e,n=Ou){Cg(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),OO(t,e),FO(t,e),kO(t,e),RO(t,e)}function NE(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Pu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Nu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function RO(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Cg(t,e){let n=qE(t);e.validator!==null?t.setValidators(IE(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=KE(t);e.asyncValidator!==null?t.setAsyncValidators(IE(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Nu(e._rawValidators,i),Nu(e._rawAsyncValidators,i)}function Pu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=qE(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=KE(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Nu(e._rawValidators,r),Nu(e._rawAsyncValidators,r),n}function OO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&JE(t,e)})}function kO(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&JE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function JE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function FO(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function LO(t,e){t==null,Cg(t,e)}function VO(t,e){return Pu(t,e)}function eD(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function BO(t){return Object.getPrototypeOf(t.constructor)===kE}function HO(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function tD(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Vo?n=o:BO(o)?r=o:i=o}),i||r||n||null}function jO(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function PE(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xE(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var pa=class extends Mu{constructor(e=null,n,r){super(QE(n),YE(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(xE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){xE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var GO=t=>t instanceof pa;var UO={provide:Ti,useExisting:Dn(()=>ga)},RE=Promise.resolve(),ga=(()=>{let e=class e extends Ti{constructor(r,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new pa,this._registered=!1,this.name="",this.update=new xe,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=tD(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),eD(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){vg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){RE.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Hc(i);RE.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?ZE(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(V(Ci,9),V(yg,10),V(_g,10),V(Lo,10),V(wr,8),V(Ru,8))},e.\u0275dir=et({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Dr([UO]),In,Cr]});let t=e;return t})(),nD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=et({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var $O={provide:Lo,useExisting:Dn(()=>Tg),multi:!0},Tg=(()=>{let e=class e extends kE{writeValue(r){this.setProperty("value",parseFloat(r))}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=vo(e)))(o||e)}})(),e.\u0275dir=et({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,o){i&1&&ht("change",function(a){return o.onChange(a.target.value)})("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Dr([$O]),In]});let t=e;return t})(),rD=new w("");var WO={provide:Ci,useExisting:Dn(()=>Eg)},Eg=(()=>{let e=class e extends Ci{get submitted(){return Jn(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=ks(()=>this._submittedReactive()),this._submittedReactive=fi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return vg(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){NE(r.control||null,r,!1),jO(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),HO(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new gg(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new mg(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(NE(i||null,r),GO(o)&&(vg(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);LO(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&VO(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cg(this.form,this),this._oldForm&&Pu(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(V(yg,10),V(_g,10),V(Ru,8))},e.\u0275dir=et({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&ht("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Dr([WO]),In,Cr]});let t=e;return t})();var zO={provide:Ti,useExisting:Dn(()=>Dg)},Dg=(()=>{let e=class e extends Ti{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new xe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=tD(this,s)}ngOnChanges(r){this._added||this._setUpControl(),eD(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return ZE(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(V(Ci,13),V(yg,10),V(_g,10),V(Lo,10),V(rD,8))},e.\u0275dir=et({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Dr([zO]),In,Cr]});let t=e;return t})();var iD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=ut({});let t=e;return t})();var ku=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ru,useValue:r.callSetDisabledState??Ou}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=ut({imports:[iD]});let t=e;return t})(),oD=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:rD,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Ru,useValue:r.callSetDisabledState??Ou}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=ut({imports:[iD]});let t=e;return t})();function qO(t,e){if(t&1&&(ge(0,"span"),Fe(1),de()),t&2){let n=e.$implicit,r=Gt();ke(),yo(r.reverse?r.sliderLabels[r.sliderLabels.length-1-n]:n)}}var sD=(()=>{class t{reverse=!1;onChange=()=>{};onTouched=()=>{};sliderValue=0;maxValue=10;get value(){return this.reverse?this.maxValue-this.sliderValue:this.sliderValue}get sliderLabels(){return Array.from({length:this.maxValue+1},(n,r)=>r)}writeValue(n){this.sliderValue=this.reverse?this.maxValue-n:n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}onInput(n){let r=n.target;this.sliderValue=r.value?parseInt(r.value,10):0,this.onChange(this.value)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ht({type:t,selectors:[["app-slider"]],inputs:{reverse:"reverse"},standalone:!0,features:[Dr([{provide:Lo,useExisting:Dn(()=>t),multi:!0}]),Ut],decls:5,vars:2,consts:[[1,"slider-container"],["type","range","id","slider","min","0",3,"ngModelChange","input","ngModel","max"],[1,"slider-labels"]],template:function(r,i){r&1&&(ge(0,"div",0)(1,"input",1),To("ngModelChange",function(s){return Os(i.sliderValue,s)||(i.sliderValue=s),s}),ht("input",function(s){return i.onInput(s)}),de()(),ge(2,"div",2),GC(3,qO,2,1,"span",null,jC),de()),r&2&&(ke(),Co("ngModel",i.sliderValue),Mn("max",i.maxValue),ke(2),UC(i.sliderLabels))},dependencies:[ku,Vo,Tg,Bo,ga],styles:[".slider-container[_ngcontent-%COMP%]{padding:.5rem}.slider-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.slider-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem}.slider-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-align:center}"]})}return t})();var Fu=function(t){return t.WERKBEOORDELING="werkbeoordeling",t}(Fu||{});var KO=["*"],ma=class{},XO=(()=>{let e=class e extends ma{constructor(r){super(),this.http=r}getSvg(r){return this.http.get(r,{responseType:"text"})}};e.\u0275fac=function(i){return new(i||e)(T(Cp))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),QO=new w("SERVER_URL"),Lu=(()=>{let e=class e{constructor(){this.loader=_(ma),this.serverUrl=_(QO,{optional:!0}),this.document=_(Xe),this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map}addSvg(r,i){if(!this.iconsByUrl.has(r)){let o=this.document.createElement("DIV");o.innerHTML=i;let s=o.querySelector("svg");this.iconsByUrl.set(r,s)}}loadSvg(r,i=r){if(this.serverUrl&&r.match(/^(http(s)?):/)===null&&(r=this.serverUrl+r,i=r),this.iconsByUrl.has(i))return M(this.iconsByUrl.get(i));if(this.iconsLoadingByUrl.has(i))return this.iconsLoadingByUrl.get(i);let o=this.loader.getSvg(r).pipe(A(s=>{let a=this.document.createElement("DIV");return a.innerHTML=s,a.querySelector("svg")}),Ne(s=>this.iconsByUrl.set(i,s)),mn(s=>(console.error(s),jn(s))),vn(()=>this.iconsLoadingByUrl.delete(i)),Qr());return this.iconsLoadingByUrl.set(i,o),o}getSvgByName(r){return this.iconsByUrl.has(r)?M(this.iconsByUrl.get(r)):this.iconsLoadingByUrl.has(r)?this.iconsLoadingByUrl.get(r):jn(`No svg with name '${r}' has been loaded`)}unloadSvg(r){this.iconsByUrl.has(r)&&this.iconsByUrl.delete(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function YO(t){return t||new Lu}var ZO={provide:Lu,deps:[[new ci,new Tc,Lu]],useFactory:YO},Vu=class{constructor(){this.loaded=!1}},aD=(()=>{let e=class e{constructor(){this.element=_(an),this.differs=_(Bc),this.renderer=_(Sn),this.iconReg=_(Lu),this.src=wn(),this.name=wn(),this.stretch=wn(!1),this.applyClass=wn(!1),this.svgClass=wn(),this.klass=wn(void 0,{alias:"class"}),this.viewBox=wn(),this.svgAriaLabel=wn(),this.svg=fi(0),this.svgStyle=wn(),this.helper=new Vu,Nn(()=>{(this.src()||this.name())&&(this.destroy(),this.init(this.src(),this.name()))},{allowSignalWrites:!0}),Nn(()=>{let o=this.viewBox();this.svg()&&this.updateViewBox(o)}),Nn(()=>{let o=this.svgStyle()||{};this.svg()&&this.applyChanges(this.helper.differ.diff(o))}),Nn(()=>{let o=this.svg();this.applyClass()?this.setClass(this.elemSvg,null,this.klass()):this.setClass(this.elemSvg,this.klass(),null)});let r;Nn(()=>{let o=this.svg();this.setClass(this.elemSvg,r,this.svgClass()),r=this.svgClass()});let i;Nn(()=>{let o=this.svg(),s=this.element.nativeElement;this.setClass(s,i,this.klass()),this.setClass(this.elemSvg,i,this.applyClass()?this.klass():null),i=this.klass()}),Nn(()=>{let o=this.svg();this.doAria(this.svgAriaLabel())}),Nn(()=>{let o=this.svg();this.stylize(this.stretch())})}ngOnDestroy(){this.destroy()}get elemSvg(){return this.element.nativeElement.firstChild}init(r,i){if(r&&i){let o=this.iconReg.loadSvg(r,i);o&&(this.helper.icnSub=o.subscribe(s=>this.initSvg(s)))}else if(i){let o=this.iconReg.getSvgByName(i);o&&(this.helper.icnSub=o.subscribe(s=>this.initSvg(s)))}else if(r){let o=this.iconReg.loadSvg(r);o&&(this.helper.icnSub=o.subscribe(s=>this.initSvg(s)))}else this.element.nativeElement.innerHTML="",this.svg.set(0)}initSvg(r){!this.helper.loaded&&r&&this.setSvg(r)}destroy(){this.helper.icnSub?.unsubscribe(),this.helper=new Vu,this.helper.differ=this.differs.find({}).create()}setSvg(r){if(!this.helper.loaded&&r){this.helper.svg=r;let i=r.cloneNode(!0),o=this.element.nativeElement;o.innerHTML="",this.renderer.appendChild(o,i),this.helper.loaded=!0,this.copyNgContentAttribute(o,i),this.svg.update(s=>s+1)}}updateViewBox(r){if(r){let i=this.elemSvg;if(r==="auto"){let o=i.getAttribute("width"),s=i.getAttribute("height");if(s&&o){let a=`0 0 ${o} ${s}`;this.renderer.setAttribute(i,"viewBox",a),this.renderer.removeAttribute(i,"width"),this.renderer.removeAttribute(i,"height")}}else r!==""&&(this.renderer.setAttribute(i,"viewBox",r),this.renderer.removeAttribute(i,"width"),this.renderer.removeAttribute(i,"height"))}}copyNgContentAttribute(r,i){let o=r.attributes,s=o.length;for(let a=0;a<s;a+=1){let l=o.item(a);if(l&&l.name.startsWith("_ngcontent")){this.setNgContentAttribute(i,l.name);break}}}setNgContentAttribute(r,i){this.renderer.setAttribute(r,i,"");let o=r.childNodes.length;for(let s=0;s<o;s+=1){let a=r.childNodes[s];a instanceof Element&&this.setNgContentAttribute(a,i)}}stylize(r){if(this.helper.svg){let i=this.element.nativeElement.firstChild;r===!0?this.renderer.setAttribute(i,"preserveAspectRatio","none"):r===!1&&this.renderer.removeAttribute(i,"preserveAspectRatio")}}applyChanges(r){r&&(r.forEachRemovedItem(i=>this.setStyle(i.key,null)),r.forEachAddedItem(i=>this.setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this.setStyle(i.key,i.currentValue)))}setStyle(r,i){let[o,s]=r.split(".");i=i!==null&&s?`${i}${s}`:i;let a=this.elemSvg;i!==null?this.renderer.setStyle(a,o,i):this.renderer.removeStyle(a,o)}setClass(r,i,o){if(r){if(i){let s=(Array.isArray(i)?i:i.split(" ")).filter(a=>a);for(let a of s)this.renderer.removeClass(r,a)}if(o){let s=(Array.isArray(o)?o:o.split(" ")).filter(a=>a);for(let a of s)this.renderer.addClass(r,a)}}}doAria(r){let i=this.element.nativeElement.firstChild;i&&!(r===void 0&&i.hasAttribute("aria-label"))&&(r===""?(this.renderer.setAttribute(i,"aria-hidden","true"),this.renderer.removeAttribute(i,"aria-label")):(this.renderer.removeAttribute(i,"aria-hidden"),this.renderer.setAttribute(i,"aria-label",r)))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ht({type:e,selectors:[["svg-icon"]],inputs:{src:[1,"src"],name:[1,"name"],stretch:[1,"stretch"],applyClass:[1,"applyClass"],svgClass:[1,"svgClass"],klass:[1,"class","klass"],viewBox:[1,"viewBox"],svgAriaLabel:[1,"svgAriaLabel"],svgStyle:[1,"svgStyle"]},standalone:!0,features:[Ut],ngContentSelectors:KO,decls:1,vars:0,template:function(i,o){i&1&&(zC(),qC(0))},encapsulation:2,changeDetection:0});let t=e;return t})();var lD=(()=>{let e=class e{static forRoot(r={}){return{ngModule:e,providers:[ZO,r.loader||{provide:ma,useClass:XO}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=ut({});let t=e;return t})();var Ye=function(t){return t.TOP="top",t.LEFT="left",t.RIGHT="right",t.BOTTOM="bottom",t}(Ye||{});var xr=function(t){return t.CLICK="click",t.HOVER="hover",t}(xr||{});var cD=(()=>{class t{element;renderer;popper="No text configured";popperTrigger=xr.HOVER;showByDefault=!1;popperPosition=Ye.BOTTOM;popperArrow=!0;popperClasses="";popperFadeOutDelay=1e3;popperDiv=null;firstClick=!0;removeTimeout=void 0;destroyListener=()=>{};resizeListener=()=>{};constructor(n,r){this.element=n,this.renderer=r}ngOnDestroy(){this.popperDiv&&this.removePopper(!0,!0),this.destroyListener&&this.destroyListener(),this.resizeListener&&this.resizeListener()}handleClick(){this.popperTrigger===xr.CLICK&&!this.popperDiv&&(this.createPopper(),this.destroyListener=this.renderer.listen("document","click",this.handleDocumentClick),this.resizeListener=this.renderer.listen("window","resize",this.handleDocumentResize),this.popperFadeOutDelay>0&&this.removePopper())}handleDocumentClick=n=>{if(this.popperDiv&&this.popperTrigger===xr.CLICK){let r=n.target;r!==this.popperDiv&&this.element.nativeElement!==r&&!this.element.nativeElement.contains(r)&&(this.removePopper(!0),this.destroyListener())}};handleDocumentResize=()=>{this.resizeListener(),this.removePopper(!0,!0)};onMouseEnter(){this.popperTrigger===xr.HOVER&&!this.popperDiv?(this.popperFadeOutDelay=100,this.createPopper()):this.popperTrigger===xr.HOVER&&this.popperDiv&&(this.removePopper(!0,!0),this.createPopper())}onMouseLeave(){this.popperDiv&&this.popperTrigger===xr.HOVER&&this.removePopper()}createPopper(){if(this.popperDiv&&this.removeTimeout&&this.removePopper(!0),this.popperDiv=this.renderer.createElement("div"),this.renderer.addClass(this.popperDiv,"popper"),typeof this.popper=="string"){let n=this.renderer.createText(this.popper);this.renderer.appendChild(this.popperDiv,n)}else this.renderer.appendChild(this.popperDiv,this.popper);this.renderer.appendChild(document.body,this.popperDiv),this.handlePopperFade(),this.addPopperClasses(this.popperClasses),this.calculatePopperPosition(),this.popperArrow&&this.createPopperArrow()}removePopper(n,r){n?n&&!r?(this.handlePopperFade(),clearTimeout(this.removeTimeout),this.removeTimeout=setTimeout(()=>{this.renderer.removeChild(document.body,this.popperDiv),this.popperDiv=null},150)):n&&r&&(clearTimeout(this.removeTimeout),this.renderer.removeChild(document.body,this.popperDiv),this.popperDiv=null):this.removeTimeout=setTimeout(()=>{this.handlePopperFade(),clearTimeout(this.removeTimeout),this.removeTimeout=setTimeout(()=>{this.renderer.removeChild(document.body,this.popperDiv),this.popperDiv=null},150)},this.popperFadeOutDelay)}calculatePopperPosition(){if(!this.popperDiv)return;let n=this.element.nativeElement.getBoundingClientRect(),r=4;if(this.popperPosition===Ye.BOTTOM||this.popperPosition===Ye.TOP){let i;this.popperPosition===Ye.BOTTOM?(this.popperArrow&&(r=this.popperDiv.clientHeight/4),i=n.top+n.height+r):(this.popperArrow&&(r=this.popperDiv.clientHeight*1.5),i=n.top-r);let o=n.left+n.width/2,s=this.popperDiv.offsetWidth,a=o-s/2;this.renderer.setStyle(this.popperDiv,"top",`${i}px`),this.renderer.setStyle(this.popperDiv,"left",`${a}px`)}else if(this.popperPosition===Ye.RIGHT||this.popperPosition===Ye.LEFT){let i=4;this.popperLikelyHasSecondLine()&&(i=2.5);let o=n.top-this.popperDiv.clientHeight/i,s;this.popperPosition===Ye.RIGHT?(this.popperArrow&&(r=this.popperDiv.clientHeight/5),s=n.left+n.width+r):(this.popperArrow&&(r=this.popperDiv.clientHeight*.25),s=n.left-this.popperDiv.clientWidth-r),this.renderer.setStyle(this.popperDiv,"top",`${o}px`),this.renderer.setStyle(this.popperDiv,"left",`${s}px`)}}createPopperArrow(){if(!this.popperDiv)return;let n=this.renderer.createElement("div");this.renderer.addClass(n,"popper-arrow");let r=2;this.popperLikelyHasSecondLine()&&(r=4),this.renderer.setStyle(n,"width",`${Math.floor(this.popperDiv.clientHeight/r)}px`),this.renderer.setStyle(n,"height",`${Math.floor(this.popperDiv.clientHeight/r)}px`);let i=this.popperDiv.clientHeight,o=4,s=6,a=Math.floor(this.popperDiv.clientHeight/r/5);this.popperPosition===Ye.TOP?this.renderer.setStyle(n,Ye.BOTTOM,`-${Math.floor(i/o)}px`):this.popperPosition===Ye.BOTTOM?this.renderer.setStyle(n,Ye.TOP,`-${Math.floor(i/o-a)}px`):this.popperPosition===Ye.RIGHT?this.renderer.setStyle(n,Ye.LEFT,`-${Math.floor(i/s-a)}px`):this.popperPosition===Ye.LEFT&&this.renderer.setStyle(n,Ye.RIGHT,`-${Math.floor(i/s-a)}px`),this.renderer.appendChild(this.popperDiv,n)}handlePopperFade(){if(!this.popperDiv)return;let n="full-opacity";this.popperDiv.classList.contains(n)?this.renderer.removeClass(this.popperDiv,n):setTimeout(()=>{this.renderer.addClass(this.popperDiv,n)})}popperLikelyHasSecondLine(){if(!this.popperDiv)return!1;let n=Math.floor(this.popperDiv.offsetWidth),r=Math.floor(parseInt(getComputedStyle(this.popperDiv).maxWidth));return n===r}addPopperClasses(n){if(n){let r=n.split(",").map(i=>i.trim());for(let i of r)this.renderer.addClass(this.popperDiv,i)}}static \u0275fac=function(r){return new(r||t)(V(an),V(Sn))};static \u0275dir=et({type:t,selectors:[["","popper",""]],hostBindings:function(r,i){r&1&&ht("click",function(){return i.handleClick()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{popper:"popper",popperTrigger:"popperTrigger",showByDefault:"showByDefault",popperPosition:"popperPosition",popperArrow:"popperArrow",popperClasses:"popperClasses",popperFadeOutDelay:"popperFadeOutDelay"},standalone:!0})}return t})();var uD=(()=>{class t{countdownInterval;timeLeftMessage="";transform(n){return this.startCountdown(n),this.timeLeftMessage}startCountdown(n){this.countdownInterval&&clearInterval(this.countdownInterval),this.generateTimeLeftMessage(n),this.countdownInterval=setInterval(()=>{this.generateTimeLeftMessage(n)},1e3)}generateTimeLeftMessage(n){let r=new Date().getTime(),i=n.getTime()-r;if(i>0){let o=this.calculateTimeLeft(i);this.timeLeftMessage=this.formatTimeLeft(o)}else this.timeLeftMessage="Refresh de pagina om een nieuwe score in te vullen!",clearInterval(this.countdownInterval)}calculateTimeLeft(n){return{hours:Math.floor(n%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(n%(1e3*60*60)/(1e3*60)),seconds:Math.floor(n%(1e3*60)/1e3)}}formatTimeLeft(n){let r=[];return n.hours>0&&r.push(`${n.hours} uur`),n.minutes>0&&r.push(`${n.minutes} minute${n.minutes!==1?"n":""}`),n.seconds>0&&r.push(`${n.seconds} second${n.seconds!==1?"en":""}`),`Dat is al over ${r.join(", ")}`}ngOnDestroy(){clearInterval(this.countdownInterval)}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=Ec({name:"countdown",type:t,pure:!1,standalone:!0})}return t})();var JO="firebase",ek="10.12.3";dr(JO,ek,"app");var va=new qn("ANGULARFIRE2_VERSION");var tk=(t,e)=>{let n=e?[e]:cy(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ei=class{constructor(){return tk(nk)}},nk="app-check";function bg(){}var Bu=class{zone;delegate;constructor(e,n=sf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Sg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bg,{},bg,bg)),n.pipe(Ne({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Hu=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Bu(Zone.current)),this.insideAngular=n.run(()=>new Bu(Zone.current,gs)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(T(ce))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rk(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function sr(t){return ik(rk())(t)}function ik(t){return function(n){return n=n.lift(new Sg(t.ngZone)),n.pipe(en(t.outsideAngular),Lt(t.insideAngular))}}var ak=new Map,lk={activated:!1,tokenObservers:[]},ck={initialized:!1,enabled:!1};function un(t){return ak.get(t)||Object.assign({},lk)}function mD(){return ck}var uk="https://content-firebaseappcheck.googleapis.com/v1";var dk="exchangeDebugToken",fD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Z5=24*60*60*1e3;var Mg=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return oe(this,null,function*(){this.stop();try{this.pending=new Ue,this.pending.promise.catch(n=>{}),yield fk(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ue,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function fk(t){return new Promise(e=>{setTimeout(e,t)})}var hk={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Rr=new ty("appCheck","AppCheck",hk);function vD(t){if(!un(t).activated)throw Rr.create("use-before-activation",{appName:t.name})}function yD(r,i){return oe(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(h){throw Rr.create("fetch-network-error",{originalErrorMessage:h?.message})}if(l.status!==200)throw Rr.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(h){throw Rr.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Rr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function _D(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${uk}/projects/${n}/apps/${r}:${dk}?key=${i}`,body:{debug_token:e}}}var pk="firebase-app-check-database",gk=1,Ag="firebase-app-check-store";var ju=null;function mk(){return ju||(ju=new Promise((t,e)=>{try{let n=indexedDB.open(pk,gk);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Rr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ag,{keyPath:"compositeKey"})}}}catch(n){e(Rr.create("storage-open",{originalErrorMessage:n?.message}))}}),ju)}function vk(t,e){return yk(_k(t),e)}function yk(t,e){return oe(this,null,function*(){let r=(yield mk()).transaction(Ag,"readwrite"),o=r.objectStore(Ag).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(Rr.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function _k(t){return`${t.options.appId}-${t.name}`}var Ng=new Ri("@firebase/app-check");function Ig(t,e){return ey()?vk(t,e).catch(n=>{Ng.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function CD(){return mD().enabled}function TD(){return oe(this,null,function*(){let t=mD();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Ck={error:"UNKNOWN_ERROR"};function Tk(t){return tl.encodeString(JSON.stringify(t),!1)}function Pg(t,e=!1){return oe(this,null,function*(){let n=t.app;vD(n);let r=un(n),i=r.token,o;if(i&&!ya(i)&&(r.token=void 0,i=void 0),!i){let l=yield r.cachedTokenPromise;l&&(ya(l)?i=l:yield Ig(n,void 0))}if(!e&&i&&ya(i))return{token:i.token};let s=!1;if(CD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=yD(_D(n,yield TD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let l=yield r.exchangeTokenPromise;return yield Ig(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield un(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Ng.warn(l.message):Ng.error(l),o=l}let a;return i?o?ya(i)?a={token:i.token,internalError:o}:a=pD(o):(a={token:i.token},r.token=i,yield Ig(n,i)):a=pD(o),s&&bk(n,a),a})}function Ek(t){return oe(this,null,function*(){let e=t.app;vD(e);let{provider:n}=un(e);if(CD()){let r=yield TD(),{token:i}=yield yD(_D(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function Dk(t,e,n,r){let{app:i}=t,o=un(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ya(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),hD(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>hD(t))}function ED(t,e){let n=un(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function hD(t){let{app:e}=t,n=un(e),r=n.tokenRefresher;r||(r=wk(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function wk(t){let{app:e}=t;return new Mg(()=>oe(this,null,function*(){let n=un(e),r;if(n.token?r=yield Pg(t,!0):r=yield Pg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=un(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},fD.RETRIAL_MIN_WAIT,fD.RETRIAL_MAX_WAIT)}function bk(t,e){let n=un(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ya(t){return t.expireTimeMillis-Date.now()>0}function pD(t){return{token:Tk(Ck),error:t}}var xg=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=un(this.app);for(let n of e)ED(this.app,n.next);return Promise.resolve()}};function Sk(t,e){return new xg(t,e)}function Ik(t){return{getToken:e=>Pg(t,e),getLimitedUseToken:()=>Ek(t),addTokenListener:e=>Dk(t,"INTERNAL",e),removeTokenListener:e=>ED(t.app,e)}}var Mk="@firebase/app-check",Ak="0.8.5";var Nk="app-check",gD="app-check-internal";function Pk(){cs(new Hn(Nk,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Sk(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(gD).initialize()})),cs(new Hn(gD,t=>{let e=t.getProvider("app-check").getImmediate();return Ik(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),dr(Mk,Ak)}Pk();var xk=["localhost","0.0.0.0","127.0.0.1"],u$=typeof window<"u"&&xk.includes(window.location.hostname);var Rk="firebase",Ok="10.12.3";St.registerVersion(Rk,Ok,"app-compat");var kk=["ngOnDestroy"],bD=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(kk.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return r?.spy?.apply&&r.spy.apply(o,c,d),d})})})});var Gu=class{constructor(e){return e}},Ho=new w("angularfire2.app.options"),jo=new w("angularfire2.app.name");function _a(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=St.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>St.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;Fk("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Gu(s)}var Fk=(t,...e)=>{cp()&&typeof console<"u"&&console[t](...e)},Lk={provide:Gu,useFactory:_a,deps:[Ho,ce,[new ci,jo]]},SD=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Ho,useValue:n},{provide:jo,useValue:r}]}}constructor(n){St.registerVersion("angularfire",va.full,"core"),St.registerVersion("angularfire",va.full,"app-compat"),St.registerVersion("angular",JC.full,n.toString())}static \u0275fac=function(r){return new(r||t)(T(tt))};static \u0275mod=dt({type:t});static \u0275inj=ut({providers:[Lk]})}return t})();function Uu(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return Vk(i,s)||(wD("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Bk?" You may need to reload as Firebase is not HMR aware.":""}`),wD("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function Vk(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var Bk=typeof module<"u"&&!!module.hot,wD=(t,...e)=>{cp()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Rg=new w("angularfire2.auth.use-emulator"),Og=new w("angularfire2.auth.settings"),kg=new w("angularfire2.auth.tenant-id"),Fg=new w("angularfire2.auth.langugage-code"),Lg=new w("angularfire2.auth.use-device-language"),Vg=new w("angularfire.auth.persistence"),Bg=(t,e,n,r,i,o,s,a)=>Uu(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]),$u=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,l,c,u,d,f,h){let g=new we,y=M(void 0).pipe(Lt(s.outsideAngular),Ee(()=>o.runOutsideAngular(()=>import("./chunk-AY2MJX7P.js"))),A(()=>_a(n,o,r)),A(v=>Bg(v,o,a,c,u,d,l,f)),Bl({bufferSize:1,refCount:!1}));if(Do(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=M(null);else{y.pipe(st()).subscribe();let v=y.pipe(Ee(I=>I.getRedirectResult().then(j=>j,()=>null)),sr,Bl({bufferSize:1,refCount:!1})),E=y.pipe(Ee(I=>new $(j=>({unsubscribe:o.runOutsideAngular(()=>I.onAuthStateChanged(Se=>j.next(Se),Se=>j.error(Se),()=>j.complete()))})))),x=y.pipe(Ee(I=>new $(j=>({unsubscribe:o.runOutsideAngular(()=>I.onIdTokenChanged(Se=>j.next(Se),Se=>j.error(Se),()=>j.complete()))}))));this.authState=v.pipe(Hl(E),en(s.outsideAngular),Lt(s.insideAngular)),this.user=v.pipe(Hl(x),en(s.outsideAngular),Lt(s.insideAngular)),this.idToken=this.user.pipe(Ee(I=>I?fe(I.getIdToken()):M(null))),this.idTokenResult=this.user.pipe(Ee(I=>I?fe(I.getIdTokenResult()):M(null))),this.credential=zi(v,g,this.authState.pipe(ot(I=>!I))).pipe(A(I=>I?.user?I:null),en(s.outsideAngular),Lt(s.insideAngular))}return bD(this,y,o,{spy:{apply:(v,E,x)=>{(v.startsWith("signIn")||v.startsWith("createUser"))&&x.then(I=>g.next(I))}}})}static \u0275fac=function(r){return new(r||t)(T(Ho),T(jo,8),T(tt),T(ce),T(Hu),T(Rg,8),T(Og,8),T(kg,8),T(Fg,8),T(Lg,8),T(Vg,8),T(Ei,8))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var MD="@firebase/database",AD="1.0.6";var Ym="";function Zm(t){Ym=t}var qg=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Oe(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:nl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Kg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ft(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var sw=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qg(e)}}catch{}return new Kg},wi=sw("localStorage"),Xg=sw("sessionStorage");var Wo=new Ri("@firebase/database"),aw=function(){let t=1;return function(){return t++}}(),lw=function(t){let e=sy(t),n=new oy;n.update(e);let r=n.digest();return tl.encodeByteArray(r)},Ua=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ua.apply(null,r):typeof r=="object"?e+=Oe(r):e+=r,e+=" "}return e},bi=null,ND=!0,cw=function(t,e){C(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Wo.logLevel=ay.VERBOSE,bi=Wo.log.bind(Wo),e&&Xg.set("logging_enabled",!0)):typeof t=="function"?bi=t:(bi=null,Xg.remove("logging_enabled"))},$e=function(...t){if(ND===!0&&(ND=!1,bi===null&&Xg.get("logging_enabled")===!0&&cw(!0)),bi){let e=Ua.apply(null,t);bi(e)}},$a=function(t){return function(...e){$e(t,...e)}},Qg=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ua(...t);Wo.error(e)},kn=function(...t){let e=`FIREBASE FATAL ERROR: ${Ua(...t)}`;throw Wo.error(e),new Error(e)},nt=function(...t){let e="FIREBASE WARNING: "+Ua(...t);Wo.warn(e)},Hk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},jk=function(t){if(pn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Lr="[MIN_NAME]",ar="[MAX_NAME]",Ii=function(t,e){if(t===e)return 0;if(t===Lr||e===ar)return-1;if(e===Lr||t===ar)return 1;{let n=PD(t),r=PD(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Gk=function(t,e){return t===e?0:t<e?-1:1},Ca=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Oe(e))},Jm=function(t){if(typeof t!="object"||t===null)return Oe(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Oe(e[r]),n+=":",n+=Jm(t[e[r]]);return n+="}",n},uw=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function We(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var dw=function(t){C(!yd(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Uk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$k=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Wk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var zk=new RegExp("^-?(0*)\\d{1,10}$"),qk=-2147483648,Kk=2147483647,PD=function(t){if(zk.test(t)){let e=Number(t);if(e>=qk&&e<=Kk)return e}return null},es=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw nt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Xk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wa=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Yg=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){nt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Zg=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?($e("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nt(e)}},ba=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),zu="5",fw="v",hw="s",pw="r",gw="f",mw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vw="ls",yw="p",Jg="ac",_w="websocket",Cw="long_polling";var qu=class{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function Qk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Tw(t,e,n){C(typeof e=="string","typeof type must == string"),C(typeof n=="object","typeof params must == object");let r;if(e===_w)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Cw)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Qk(t)&&(n.ns=t.namespace);let i=[];return We(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var em=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Ft(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Yv(this.counters_)}};var Hg={},jg={};function ev(t){let e=t.toString();return Hg[e]||(Hg[e]=new em),Hg[e]}function Yk(t,e){let n=t.toString();return jg[n]||(jg[n]=e()),jg[n]}var tm=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&es(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var xD="start",Zk="close",Jk="pLPCommand",eF="pRTLPCB",Ew="id",Dw="pw",ww="ser",tF="cb",nF="seg",rF="ts",iF="d",oF="dframe",bw=1870,Sw=30,sF=bw-Sw,aF=25e3,lF=3e4,Aa=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$a(e),this.stats_=ev(n),this.urlFn=l=>(this.appCheckToken&&(l[Jg]=this.appCheckToken),Tw(n,Cw,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new tm(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lF)),jk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nm((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===xD)this.id=a,this.password=l;else if(s===Zk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[xD]="t",r[ww]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[tF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[fw]=zu,this.transportSessionId&&(r[hw]=this.transportSessionId),this.lastSessionId&&(r[vw]=this.lastSessionId),this.applicationId&&(r[yw]=this.applicationId),this.appCheckToken&&(r[Jg]=this.appCheckToken),typeof location<"u"&&location.hostname&&mw.test(location.hostname)&&(r[pw]=gw);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return pn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Uk()&&!$k()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Oe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Qv(n),i=uw(r,sF);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(pn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[oF]="t",r[Ew]=e,r[Dw]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Oe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},nm=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,pn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=aw(),window[Jk+this.uniqueCallbackIdentifier]=e,window[eF+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){$e("frame writing exception"),a.stack&&$e(a.stack),$e(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||$e("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[Ew]=this.myID,e[Dw]=this.myPW,e[ww]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Sw+r.length<=bw;){let s=this.pendingSegs.shift();r=r+"&"+nF+i+"="+s.seg+"&"+rF+i+"="+s.ts+"&"+iF+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(aF)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){pn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{$e("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var cF=16384,uF=45e3,Ku=null;typeof MozWebSocket<"u"?Ku=MozWebSocket:typeof WebSocket<"u"&&(Ku=WebSocket);var Uo=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$a(this.connId),this.stats_=ev(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[fw]=zu,!pn()&&typeof location<"u"&&location.hostname&&mw.test(location.hostname)&&(a[pw]=gw),r&&(a[hw]=r),i&&(a[vw]=i),o&&(a[Jg]=o),s&&(a[yw]=s),Tw(n,_w,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wi.set("previous_websocket_failure",!0);try{let i;if(pn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${zu}/${Ym}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Ku(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Ku!==null&&!t.forceDisallow_}static previouslyFailed(){return wi.isInMemoryStorage||wi.get("previous_websocket_failure")===!0}markConnectionHealthy(){wi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=nl(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(C(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Oe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=uw(r,cF);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uF))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),Iw=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Aa,Uo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Uo&&Uo.isAvailable(),i=r&&!Uo.previouslyFailed();if(n.webSocketOnly&&(r||nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Uo];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),dF=6e4,fF=5e3,hF=10*1024,pF=100*1024,Gg="t",RD="d",gF="s",OD="r",mF="e",kD="o",FD="a",LD="n",VD="p",vF="h",rm=class{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$a("c:"+this.id+":"),this.transportManager_=new Iw(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=wa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>pF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Gg in e){let n=e[Gg];n===FD?this.upgradeIfSecondaryHealthy_():n===OD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Ca("t",e),r=Ca("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:VD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:FD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:LD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Ca("t",e),r=Ca("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Ca(Gg,e);if(RD in e){let r=e[RD];if(n===vF){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===LD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===gF?this.onConnectionShutdown_(r):n===OD?this.onReset_(r):n===mF?Qg("Server Error: "+r):n===kD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qg("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),zu!==r&&nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),wa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:VD,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Xu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Qu=class{constructor(e){this.allowedEvents_=e,this.listeners_={},C(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){C(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Yu=class t extends Qu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ud()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return C(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var BD=32,HD=768,ie=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function re(){return new ie("")}function K(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Vr(t){return t.pieces_.length-t.pieceNum_}function ve(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ie(t.pieces_,e)}function tv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function yF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Na(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Mw(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ie(e,0)}function De(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ie)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ie(n,0)}function X(t){return t.pieceNum_>=t.pieces_.length}function gt(t,e){let n=K(t),r=K(e);if(n===null)return e;if(n===r)return gt(ve(t),ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _F(t,e){let n=Na(t,0),r=Na(e,0);for(let i=0;i<n.length&&i<r.length;i++){let o=Ii(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function nv(t,e){if(Vr(t)!==Vr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function zt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Vr(t)>Vr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var im=class{constructor(e,n){this.errorPrefix_=n,this.parts_=Na(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ls(this.parts_[r]);Aw(this)}};function CF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ls(e),Aw(t)}function TF(t){let e=t.parts_.pop();t.byteLength_-=ls(e),t.parts_.length>0&&(t.byteLength_-=1)}function Aw(t){if(t.byteLength_>HD)throw new Error(t.errorPrefix_+"has a key path longer than "+HD+" bytes ("+t.byteLength_+").");if(t.parts_.length>BD)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+BD+") or object contains a cycle "+Di(t))}function Di(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var om=class t extends Qu{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return C(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ta=1e3,EF=60*5*1e3,jD=30*1e3,DF=1.3,wF=3e4,bF="server_kill",GD=3,rv=(()=>{class t extends Xu{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=$a("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ta,this.maxReconnectDelay_=EF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!pn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");om.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Yu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Oe(s)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Ue,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Ft(n,"w")){let i=ur(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||ry(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=jD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=ny(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Oe(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Qg("Unrecognized action received from server: "+Oe(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>wF&&(this.reconnectDelay_=Ta),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*DF)}this.onConnectStatus_(!1)}establishConnection_(){return oe(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){C(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?$e("getToken() completed but was canceled"):($e("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new rm(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{nt(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(bF)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&nt(f),c())}}})}interrupt(n){$e("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){$e("Resuming connection for reason: "+n),delete this.interruptReasons_[n],rl(this.interruptReasons_)&&(this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Jm(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ie(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){$e("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=GD&&(this.reconnectDelay_=jD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){$e("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=GD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";pn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Ym.replace(/\./g,"-")]=1,Ud()?n["framework.cordova"]=1:Jv()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Yu.getInstance().currentlyOnline();return rl(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Y=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var zo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Y(Lr,e),i=new Y(Lr,n);return this.compare(r,i)!==0}minPost(){return Y.MIN}};var Wu,Zu=class extends zo{static get __EMPTY_NODE(){return Wu}static set __EMPTY_NODE(e){Wu=e}compare(e,n){return Ii(e.name,n.name)}isDefinedOn(e){throw xi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(ar,Wu)}makePost(e,n){return C(typeof e=="string","KeyIndex indexValue must always be a string."),new Y(e,Wu)}toString(){return".key"}},On=new Zu;var $o=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},dn=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??qt.EMPTY_NODE,this.right=s??qt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return qt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return qt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),sm=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new dn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},qt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,dn.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new $o(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new $o(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new $o(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new $o(this.root_,null,this.comparator_,!0,e)}};qt.EMPTY_NODE=new sm;function SF(t,e){return Ii(t.name,e.name)}function iv(t,e){return Ii(t,e)}var am;function IF(t){am=t}var Nw=function(t){return typeof t=="number"?"number:"+dw(t):"string:"+t},Pw=function(t){if(t.isLeafNode()){let e=t.val();C(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ft(e,".sv"),"Priority must be a string or number.")}else C(t===am||t.isEmpty(),"priority of unexpected type.");C(t===am||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var UD,qo=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Pw(this.priorityNode_)}static set __childrenNodeConstructor(n){UD=n}static get __childrenNodeConstructor(){return UD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return X(n)?this:K(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=K(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(C(i!==".priority"||Vr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ve(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Nw(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=dw(this.value_):n+=this.value_,this.lazyHash_=lw(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(C(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return C(o>=0,"Unknown leaf type: "+r),C(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),xw,Rw;function MF(t){xw=t}function AF(t){Rw=t}var lm=class extends zo{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ii(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(ar,new qo("[PRIORITY-POST]",Rw))}makePost(e,n){let r=xw(e);return new Y(n,new qo("[PRIORITY-POST]",r))}toString(){return".priority"}},Ce=new lm;var NF=Math.log(2),cm=class{constructor(e){let n=o=>parseInt(Math.log(o)/NF,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Ju=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new dn(f,d.node,dn.BLACK,null,null);{let h=parseInt(u/2,10)+l,g=i(l,h),y=i(h+1,c);return d=t[h],f=n?n(d):d,new dn(f,d.node,dn.BLACK,g,y)}},o=function(l){let c=null,u=null,d=t.length,f=function(g,y){let v=d-g,E=d;d-=g;let x=i(v+1,E),I=t[v],j=n?n(I):I;h(new dn(j,I.node,y,null,x))},h=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){let y=l.nextBitIsOne(),v=Math.pow(2,l.count-(g+1));y?f(v,dn.BLACK):(f(v,dn.BLACK),f(v,dn.RED))}return u},s=new cm(t.length),a=o(s);return new qt(r||e,a)};var Ug,Go={},Ko=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return C(Go&&Ce,"ChildrenNode.ts has not been loaded"),Ug=Ug||new t({".priority":Go},{".priority":Ce}),Ug}get(e){let n=ur(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof qt?n:null}hasIndex(e){return Ft(this.indexSet_,e.toString())}addIndex(e,n){C(e!==On,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(Y.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Ju(r,e.getCompare()):a=Go;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=as(this.indexes_,(i,o)=>{let s=ur(this.indexSet_,o);if(C(s,"Missing index implementation for "+o),i===Go)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator(Y.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ju(a,s.getCompare())}else return Go;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new Y(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=as(this.indexes_,i=>{if(i===Go)return i;{let o=n.get(e.name);return o?i.remove(new Y(e.name,o)):i}});return new t(r,this.indexSet_)}};var Ea,B=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Pw(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ea||(Ea=new t(new qt(iv),null,Ko.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ea}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ea:r}}getChild(n){let r=K(n);return r===null?this:this.getImmediateChild(r).getChild(ve(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(C(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Y(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Ea:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=K(n);if(i===null)return r;{C(K(n)!==".priority"||Vr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ve(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Ce,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Nw(this.getPriority().val())+":"),this.forEachChild(Ce,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":lw(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new Y(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Y(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Y(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,Y.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,Y.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Wa?-1:0}withIndex(n){if(n===On||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===On||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ce),o=r.getIterator(Ce),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===On?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),um=class extends B{constructor(){super(new qt(iv),B.EMPTY_NODE,Ko.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return B.EMPTY_NODE}isEmpty(){return!1}},Wa=new um;Object.defineProperties(Y,{MIN:{value:new Y(Lr,B.EMPTY_NODE)},MAX:{value:new Y(ar,Wa)}});Zu.__EMPTY_NODE=B.EMPTY_NODE;qo.__childrenNodeConstructor=B;IF(Wa);AF(Wa);var PF=!0;function be(t,e=null){if(t===null)return B.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),C(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new qo(n,be(e))}if(!(t instanceof Array)&&PF){let n=[],r=!1;if(We(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=be(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Y(s,l)))}}),n.length===0)return B.EMPTY_NODE;let o=Ju(n,SF,s=>s.name,iv);if(r){let s=Ju(n,Ce.getCompare());return new B(o,be(e),new Ko({".priority":s},{".priority":Ce}))}else return new B(o,be(e),Ko.Default)}else{let n=B.EMPTY_NODE;return We(t,(r,i)=>{if(Ft(t,r)&&r.substring(0,1)!=="."){let o=be(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(be(e))}}MF(be);var Pa=class extends zo{constructor(e){super(),this.indexPath_=e,C(!X(e)&&K(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ii(e.name,n.name):o}makePost(e,n){let r=be(e),i=B.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,i)}maxPost(){let e=B.EMPTY_NODE.updateChild(this.indexPath_,Wa);return new Y(ar,e)}toString(){return Na(this.indexPath_,0).join("/")}};var dm=class extends zo{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ii(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(e,n){let r=be(e);return new Y(n,r)}toString(){return".value"}},ov=new dm;function Ow(t){return{type:"value",snapshotNode:t}}function Xo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function xa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ra(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function xF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Oa=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){C(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(xa(n,a)):C(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Xo(n,r)):s.trackChildChange(Ra(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ce,(i,o)=>{n.hasChild(i)||r.trackChildChange(xa(i,o))}),n.isLeafNode()||n.forEachChild(Ce,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ra(i,o,s))}else r.trackChildChange(Xo(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?B.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var ed=class t{constructor(e){this.indexedFilter_=new Oa(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Y(n,r))||(r=B.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=B.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(B.EMPTY_NODE);let o=this;return n.forEachChild(Ce,(s,a)=>{o.matches(new Y(s,a))||(i=i.updateImmediateChild(s,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var fm=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ed(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Y(n,r))||(r=B.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=B.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(B.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;C(a.numChildren()===this.limit_,"");let l=new Y(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Ra(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(xa(n,d));let y=a.updateImmediateChild(n,B.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Xo(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(xa(c.name,c.node)),o.trackChildChange(Xo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,B.EMPTY_NODE)):e}};var ka=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Lr}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ar}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ce}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function RF(t){return t.loadsAllData()?new Oa(t.getIndex()):t.hasLimit()?new fm(t):new ed(t)}function OF(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function kF(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function hm(t,e,n){let r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function FF(t,e,n){let r;return t.index_===On||n?r=hm(t,e,n):r=hm(t,e,ar),r.startAfterSet_=!0,r}function pm(t,e,n){let r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function LF(t,e,n){let r;return t.index_===On||n?r=pm(t,e,n):r=pm(t,e,Lr),r.endBeforeSet_=!0,r}function _d(t,e){let n=t.copy();return n.index_=e,n}function $D(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Ce?n="$priority":t.index_===ov?n="$value":t.index_===On?n="$key":(C(t.index_ instanceof Pa,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Oe(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Oe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Oe(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Oe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Oe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function WD(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ce&&(e.i=t.index_.toString()),e}var gm=class t extends Xu{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=$a("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(C(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let l=$D(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),ur(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=$D(e._queryParams),r=e._path.toString(),i=new Ue;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+iy(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=nl(a.responseText)}catch{nt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&nt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var mm=class{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function td(){return{value:null,children:new Map}}function ts(t,e,n){if(X(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=K(e);t.children.has(r)||t.children.set(r,td());let i=t.children.get(r);e=ve(e),ts(i,e,n)}}function vm(t,e){if(X(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(Ce,(r,i)=>{ts(t,new ie(r),i)}),vm(t,e)}}else if(t.children.size>0){let n=K(e);return e=ve(e),t.children.has(n)&&vm(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function ym(t,e,n){t.value!==null?n(e,t.value):VF(t,(r,i)=>{let o=new ie(e.toString()+"/"+r);ym(i,o,n)})}function VF(t,e){t.children.forEach((n,r)=>{e(r,n)})}var _m=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&We(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var zD=10*1e3,BF=30*1e3,HF=5*60*1e3,Cm=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new _m(e);let r=zD+(BF-zD)*Math.random();wa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;We(e,(i,o)=>{o>0&&Ft(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),wa(this.reportStats_.bind(this),Math.floor(Math.random()*2*HF))}};var Rn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Rn||{});function sv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function av(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Tm=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Rn.ACK_USER_WRITE,this.source=sv()}operationForChild(e){if(X(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ie(e));return new t(re(),n,this.revert)}}else return C(K(this.path)===e,"operationForChild called for unrelated child."),new t(ve(this.path),this.affectedTree,this.revert)}};var nd=class t{constructor(e,n){this.source=e,this.path=n,this.type=Rn.LISTEN_COMPLETE}operationForChild(e){return X(this.path)?new t(this.source,re()):new t(this.source,ve(this.path))}};var Qo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Rn.OVERWRITE}operationForChild(e){return X(this.path)?new t(this.source,re(),this.snap.getImmediateChild(e)):new t(this.source,ve(this.path),this.snap)}};var Fa=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Rn.MERGE}operationForChild(e){if(X(this.path)){let n=this.children.subtree(new ie(e));return n.isEmpty()?null:n.value?new Qo(this.source,re(),n.value):new t(this.source,re(),n)}else return C(K(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Fn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(X(e))return this.isFullyInitialized()&&!this.filtered_;let n=K(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Em=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function jF(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(xF(s.childName,s.snapshotNode))}),Da(t,i,"child_removed",e,r,n),Da(t,i,"child_added",e,r,n),Da(t,i,"child_moved",o,r,n),Da(t,i,"child_changed",e,r,n),Da(t,i,"value",e,r,n),i}function Da(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>UF(t,a,l)),s.forEach(a=>{let l=GF(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function GF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function UF(t,e,n){if(e.childName==null||n.childName==null)throw xi("Should only compare child_ events.");let r=new Y(e.childName,e.snapshotNode),i=new Y(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Cd(t,e){return{eventCache:t,serverCache:e}}function Sa(t,e,n,r){return Cd(new Fn(e,n,r),t.serverCache)}function kw(t,e,n,r){return Cd(t.eventCache,new Fn(e,n,r))}function rd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Si(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var $g,$F=()=>($g||($g=new qt(Gk)),$g),mt=class t{constructor(e,n=$F()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return We(e,(r,i)=>{n=n.set(new ie(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:re(),value:this.value};if(X(e))return null;{let r=K(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ve(e),n);return o!=null?{path:De(new ie(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(X(e))return this;{let n=K(e),r=this.children.get(n);return r!==null?r.subtree(ve(e)):new t(null)}}set(e,n){if(X(e))return new t(n,this.children);{let r=K(e),o=(this.children.get(r)||new t(null)).set(ve(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(X(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=K(e),r=this.children.get(n);if(r){let i=r.remove(ve(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(X(e))return this.value;{let n=K(e),r=this.children.get(n);return r?r.get(ve(e)):null}}setTree(e,n){if(X(e))return n;{let r=K(e),o=(this.children.get(r)||new t(null)).setTree(ve(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(re(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(De(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,re(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(X(e))return null;{let o=K(e),s=this.children.get(o);return s?s.findOnPath_(ve(e),De(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,re(),n)}foreachOnPath_(e,n,r){if(X(e))return this;{this.value&&r(n,this.value);let i=K(e),o=this.children.get(i);return o?o.foreachOnPath_(ve(e),De(n,i),r):new t(null)}}foreach(e){this.foreach_(re(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(De(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var fn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new mt(null))}};function Ia(t,e,n){if(X(e))return new fn(new mt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=gt(i,e);return o=o.updateChild(s,n),new fn(t.writeTree_.set(i,o))}else{let i=new mt(n),o=t.writeTree_.setTree(e,i);return new fn(o)}}}function Dm(t,e,n){let r=t;return We(n,(i,o)=>{r=Ia(r,De(e,i),o)}),r}function qD(t,e){if(X(e))return fn.empty();{let n=t.writeTree_.setTree(e,new mt(null));return new fn(n)}}function wm(t,e){return Mi(t,e)!=null}function Mi(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(gt(n.path,e)):null}function KD(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ce,(r,i)=>{e.push(new Y(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Y(r,i.value))}),e}function kr(t,e){if(X(e))return t;{let n=Mi(t,e);return n!=null?new fn(new mt(n)):new fn(t.writeTree_.subtree(e))}}function bm(t){return t.writeTree_.isEmpty()}function Yo(t,e){return Fw(re(),t.writeTree_,e)}function Fw(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(C(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Fw(De(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(De(t,".priority"),r)),n}}function Td(t,e){return Hw(e,t)}function WF(t,e,n,r,i){C(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ia(t.visibleWrites,e,n)),t.lastWriteId=r}function zF(t,e,n,r){C(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Dm(t.visibleWrites,e,n),t.lastWriteId=r}function qF(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function KF(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);C(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&XF(a,r.path)?i=!1:zt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return QF(t),!0;if(r.snap)t.visibleWrites=qD(t.visibleWrites,r.path);else{let a=r.children;We(a,l=>{t.visibleWrites=qD(t.visibleWrites,De(r.path,l))})}return!0}else return!1}function XF(t,e){if(t.snap)return zt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&zt(De(t.path,n),e))return!0;return!1}function QF(t){t.visibleWrites=Lw(t.allWrites,YF,re()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function YF(t){return t.visible}function Lw(t,e,n){let r=fn.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)zt(n,s)?(a=gt(n,s),r=Ia(r,a,o.snap)):zt(s,n)&&(a=gt(s,n),r=Ia(r,re(),o.snap.getChild(a)));else if(o.children){if(zt(n,s))a=gt(n,s),r=Dm(r,a,o.children);else if(zt(s,n))if(a=gt(s,n),X(a))r=Dm(r,re(),o.children);else{let l=ur(o.children,K(a));if(l){let c=l.getChild(ve(a));r=Ia(r,re(),c)}}}else throw xi("WriteRecord should have .snap or .children")}}return r}function Vw(t,e,n,r,i){if(!r&&!i){let o=Mi(t.visibleWrites,e);if(o!=null)return o;{let s=kr(t.visibleWrites,e);if(bm(s))return n;if(n==null&&!wm(s,re()))return null;{let a=n||B.EMPTY_NODE;return Yo(s,a)}}}else{let o=kr(t.visibleWrites,e);if(!i&&bm(o))return n;if(!i&&n==null&&!wm(o,re()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(zt(c.path,e)||zt(e,c.path))},a=Lw(t.allWrites,s,e),l=n||B.EMPTY_NODE;return Yo(a,l)}}}function ZF(t,e,n){let r=B.EMPTY_NODE,i=Mi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ce,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=kr(t.visibleWrites,e);return n.forEachChild(Ce,(s,a)=>{let l=Yo(kr(o,new ie(s)),a);r=r.updateImmediateChild(s,l)}),KD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=kr(t.visibleWrites,e);return KD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function JF(t,e,n,r,i){C(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=De(e,n);if(wm(t.visibleWrites,o))return null;{let s=kr(t.visibleWrites,o);return bm(s)?i.getChild(n):Yo(s,i.getChild(n))}}function eL(t,e,n,r){let i=De(e,n),o=Mi(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=kr(t.visibleWrites,i);return Yo(s,r.getNode().getImmediateChild(n))}else return null}function tL(t,e){return Mi(t.visibleWrites,e)}function nL(t,e,n,r,i,o,s){let a,l=kr(t.visibleWrites,e),c=Mi(l,re());if(c!=null)a=c;else if(n!=null)a=Yo(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function rL(){return{visibleWrites:fn.empty(),allWrites:[],lastWriteId:-1}}function id(t,e,n,r){return Vw(t.writeTree,t.treePath,e,n,r)}function cv(t,e){return ZF(t.writeTree,t.treePath,e)}function XD(t,e,n,r){return JF(t.writeTree,t.treePath,e,n,r)}function od(t,e){return tL(t.writeTree,De(t.treePath,e))}function iL(t,e,n,r,i,o){return nL(t.writeTree,t.treePath,e,n,r,i,o)}function uv(t,e,n){return eL(t.writeTree,t.treePath,e,n)}function Bw(t,e){return Hw(De(t.treePath,e),t.writeTree)}function Hw(t,e){return{treePath:t,writeTree:e}}var Sm=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;C(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),C(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ra(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,xa(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Xo(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ra(r,e.snapshotNode,i.oldSnap));else throw xi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Im=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},jw=new Im,La=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Fn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return uv(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Si(this.viewCache_),o=iL(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function oL(t){return{filter:t}}function sL(t,e){C(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),C(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function aL(t,e,n,r,i){let o=new Sm,s,a;if(n.type===Rn.OVERWRITE){let c=n;c.source.fromUser?s=Mm(t,e,c.path,c.snap,r,i,o):(C(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!X(c.path),s=sd(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===Rn.MERGE){let c=n;c.source.fromUser?s=cL(t,e,c.path,c.children,r,i,o):(C(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=Am(t,e,c.path,c.children,r,i,a,o))}else if(n.type===Rn.ACK_USER_WRITE){let c=n;c.revert?s=fL(t,e,c.path,r,i,o):s=uL(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===Rn.LISTEN_COMPLETE)s=dL(t,e,n.path,r,o);else throw xi("Unknown operation type: "+n.type);let l=o.getChanges();return lL(e,s,l),{viewCache:s,changes:l}}function lL(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=rd(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Ow(rd(e)))}}function Gw(t,e,n,r,i,o){let s=e.eventCache;if(od(r,n)!=null)return e;{let a,l;if(X(n))if(C(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=Si(e),u=c instanceof B?c:B.EMPTY_NODE,d=cv(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let c=id(r,Si(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{let c=K(n);if(c===".priority"){C(Vr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=e.serverCache.getNode();let d=XD(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=ve(n),d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();let f=XD(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=uv(r,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return Sa(e,a,s.isFullyInitialized()||X(n),t.filter.filtersNodes())}}function sd(t,e,n,r,i,o,s,a){let l=e.serverCache,c,u=s?t.filter:t.filter.getIndexedFilter();if(X(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=K(n);if(!l.isCompleteForPath(n)&&Vr(n)>1)return e;let g=ve(n),v=l.getNode().getImmediateChild(h).updateChild(g,r);h===".priority"?c=u.updatePriority(l.getNode(),v):c=u.updateChild(l.getNode(),h,v,g,jw,null)}let d=kw(e,c,l.isFullyInitialized()||X(n),u.filtersNodes()),f=new La(i,d,o);return Gw(t,d,n,i,f,a)}function Mm(t,e,n,r,i,o,s){let a=e.eventCache,l,c,u=new La(i,e,o);if(X(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Sa(e,c,!0,t.filter.filtersNodes());else{let d=K(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Sa(e,c,a.isFullyInitialized(),a.isFiltered());else{let f=ve(n),h=a.getNode().getImmediateChild(d),g;if(X(f))g=r;else{let y=u.getCompleteChild(d);y!=null?tv(f)===".priority"&&y.getChild(Mw(f)).isEmpty()?g=y:g=y.updateChild(f,r):g=B.EMPTY_NODE}if(h.equals(g))l=e;else{let y=t.filter.updateChild(a.getNode(),d,g,f,u,s);l=Sa(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function QD(t,e){return t.eventCache.isCompleteForChild(e)}function cL(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{let u=De(n,l);QD(e,K(u))&&(a=Mm(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{let u=De(n,l);QD(e,K(u))||(a=Mm(t,a,u,c,i,o,s))}),a}function YD(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Am(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;X(n)?c=r:c=new mt(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),g=YD(t,h,f);l=sd(t,l,new ie(d),g,i,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let g=e.serverCache.getNode().getImmediateChild(d),y=YD(t,g,f);l=sd(t,l,new ie(d),y,i,o,s,a)}}),l}function uL(t,e,n,r,i,o,s){if(od(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(X(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return sd(t,e,n,l.getNode().getChild(n),i,o,a,s);if(X(n)){let c=new mt(null);return l.getNode().forEachChild(On,(u,d)=>{c=c.set(new ie(u),d)}),Am(t,e,n,c,i,o,a,s)}else return e}else{let c=new mt(null);return r.foreach((u,d)=>{let f=De(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Am(t,e,n,c,i,o,a,s)}}function dL(t,e,n,r,i){let o=e.serverCache,s=kw(e,o.getNode(),o.isFullyInitialized()||X(n),o.isFiltered());return Gw(t,s,n,r,jw,i)}function fL(t,e,n,r,i,o){let s;if(od(r,n)!=null)return e;{let a=new La(r,e,i),l=e.eventCache.getNode(),c;if(X(n)||K(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=id(r,Si(e));else{let d=e.serverCache.getNode();C(d instanceof B,"serverChildren would be complete if leaf node"),u=cv(r,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{let u=K(n),d=uv(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,ve(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,B.EMPTY_NODE,ve(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=id(r,Si(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||od(r,re())!=null,Sa(e,c,s,t.filter.filtersNodes())}}var Nm=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Oa(r.getIndex()),o=RF(r);this.processor_=oL(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(B.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(B.EMPTY_NODE,a.getNode(),null),u=new Fn(l,s.isFullyInitialized(),i.filtersNodes()),d=new Fn(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Cd(d,u),this.eventGenerator_=new Em(this.query_)}get query(){return this.query_}};function hL(t){return t.viewCache_.serverCache.getNode()}function pL(t){return rd(t.viewCache_)}function gL(t,e){let n=Si(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!X(e)&&!n.getImmediateChild(K(e)).isEmpty())?n.getChild(e):null}function ZD(t){return t.eventRegistrations_.length===0}function mL(t,e){t.eventRegistrations_.push(e)}function JD(t,e,n){let r=[];if(n){C(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function ew(t,e,n,r){e.type===Rn.MERGE&&e.source.queryId!==null&&(C(Si(t.viewCache_),"We should always have a full cache before handling merges"),C(rd(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=aL(t.processor_,i,e,n,r);return sL(t.processor_,o.viewCache),C(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Uw(t,o.changes,o.viewCache.eventCache.getNode(),null)}function vL(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ce,(o,s)=>{r.push(Xo(o,s))}),n.isFullyInitialized()&&r.push(Ow(n.getNode())),Uw(t,r,n.getNode(),e)}function Uw(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return jF(t.eventGenerator_,e,n,i)}var ad,ld=class{constructor(){this.views=new Map}};function yL(t){C(!ad,"__referenceConstructor has already been defined"),ad=t}function _L(){return C(ad,"Reference.ts has not been loaded"),ad}function CL(t){return t.views.size===0}function dv(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return C(o!=null,"SyncTree gave us an op for an invalid query."),ew(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(ew(s,e,n,r));return o}}function $w(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=id(n,i?r:null),l=!1;a?l=!0:r instanceof B?(a=cv(n,r),l=!1):(a=B.EMPTY_NODE,l=!1);let c=Cd(new Fn(a,l,!1),new Fn(r,i,!1));return new Nm(e,c)}return s}function TL(t,e,n,r,i,o){let s=$w(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),mL(s,n),vL(s,n)}function EL(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=Br(t);if(i==="default")for(let[l,c]of t.views.entries())s=s.concat(JD(c,n,r)),ZD(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=t.views.get(i);l&&(s=s.concat(JD(l,n,r)),ZD(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Br(t)&&o.push(new(_L())(e._repo,e._path)),{removed:o,events:s}}function Ww(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Fr(t,e){let n=null;for(let r of t.views.values())n=n||gL(r,e);return n}function zw(t,e){if(e._queryParams.loadsAllData())return Ed(t);{let r=e._queryIdentifier;return t.views.get(r)}}function qw(t,e){return zw(t,e)!=null}function Br(t){return Ed(t)!=null}function Ed(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var cd;function DL(t){C(!cd,"__referenceConstructor has already been defined"),cd=t}function wL(){return C(cd,"Reference.ts has not been loaded"),cd}var bL=1,ud=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new mt(null),this.pendingWriteTree_=rL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function fv(t,e,n,r,i){return WF(t.pendingWriteTree_,e,n,r,i),i?ns(t,new Qo(sv(),e,n)):[]}function SL(t,e,n,r){zF(t.pendingWriteTree_,e,n,r);let i=mt.fromObject(n);return ns(t,new Fa(sv(),e,i))}function Or(t,e,n=!1){let r=qF(t.pendingWriteTree_,e);if(KF(t.pendingWriteTree_,e)){let o=new mt(null);return r.snap!=null?o=o.set(re(),!0):We(r.children,s=>{o=o.set(new ie(s),!0)}),ns(t,new Tm(r.path,o,n))}else return[]}function za(t,e,n){return ns(t,new Qo(av(),e,n))}function IL(t,e,n){let r=mt.fromObject(n);return ns(t,new Fa(av(),e,r))}function ML(t,e){return ns(t,new nd(av(),e))}function AL(t,e,n){let r=hv(t,n);if(r){let i=pv(r),o=i.path,s=i.queryId,a=gt(o,e),l=new nd(lv(s),a);return gv(t,o,l)}else return[]}function dd(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||qw(s,e))){let l=EL(s,e,n,r);CL(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>Br(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=xL(f);for(let g=0;g<h.length;++g){let y=h[g],v=y.query,E=Yw(t,y);t.listenProvider_.startListening(Ma(v),Va(t,v),E.hashFn,E.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Ma(e),null):c.forEach(f=>{let h=t.queryToTagMap.get(wd(f));t.listenProvider_.stopListening(Ma(f),h)}))}RL(t,c)}return a}function Kw(t,e,n,r){let i=hv(t,r);if(i!=null){let o=pv(i),s=o.path,a=o.queryId,l=gt(s,e),c=new Qo(lv(a),l,n);return gv(t,s,c)}else return[]}function NL(t,e,n,r){let i=hv(t,r);if(i){let o=pv(i),s=o.path,a=o.queryId,l=gt(s,e),c=mt.fromObject(n),u=new Fa(lv(a),l,c);return gv(t,s,u)}else return[]}function Pm(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let g=gt(f,i);o=o||Fr(h,g),s=s||Br(h)});let a=t.syncPointTree_.get(i);a?(s=s||Br(a),o=o||Fr(a,re())):(a=new ld,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=B.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,g)=>{let y=Fr(g,re());y&&(o=o.updateImmediateChild(h,y))}));let c=qw(a,e);if(!c&&!e._queryParams.loadsAllData()){let f=wd(e);C(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=OL();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=Td(t.pendingWriteTree_,i),d=TL(a,e,n,u,o,l);if(!c&&!s&&!r){let f=zw(a,e);d=d.concat(kL(t,e,f))}return d}function Dd(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=gt(s,e),c=Fr(a,l);if(c)return c});return Vw(i,e,o,n,!0)}function PL(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=gt(c,n);r=r||Fr(u,d)});let i=t.syncPointTree_.get(n);i?r=r||Fr(i,re()):(i=new ld,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new Fn(r,!0,!1):null,a=Td(t.pendingWriteTree_,e._path),l=$w(i,e,a,o?s.getNode():B.EMPTY_NODE,o);return pL(l)}function ns(t,e){return Xw(e,t.syncPointTree_,null,Td(t.pendingWriteTree_,re()))}function Xw(t,e,n,r){if(X(t.path))return Qw(t,e,n,r);{let i=e.get(re());n==null&&i!=null&&(n=Fr(i,re()));let o=[],s=K(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=Bw(r,s);o=o.concat(Xw(a,l,c,u))}return i&&(o=o.concat(dv(i,t,r,n))),o}}function Qw(t,e,n,r){let i=e.get(re());n==null&&i!=null&&(n=Fr(i,re()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=Bw(r,s),u=t.operationForChild(s);u&&(o=o.concat(Qw(u,a,l,c)))}),i&&(o=o.concat(dv(i,t,r,n))),o}function Yw(t,e){let n=e.query,r=Va(t,n);return{hashFn:()=>(hL(e)||B.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?AL(t,n._path,r):ML(t,n._path);{let o=Wk(i,n);return dd(t,n,null,o)}}}}function Va(t,e){let n=wd(e);return t.queryToTagMap.get(n)}function wd(t){return t._path.toString()+"$"+t._queryIdentifier}function hv(t,e){return t.tagToQueryMap.get(e)}function pv(t){let e=t.indexOf("$");return C(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ie(t.substr(0,e))}}function gv(t,e,n){let r=t.syncPointTree_.get(e);C(r,"Missing sync point for query tag that we're tracking");let i=Td(t.pendingWriteTree_,e);return dv(r,n,i,null)}function xL(t){return t.fold((e,n,r)=>{if(n&&Br(n))return[Ed(n)];{let i=[];return n&&(i=Ww(n)),We(r,(o,s)=>{i=i.concat(s)}),i}})}function Ma(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(wL())(t._repo,t._path):t}function RL(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=wd(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function OL(){return bL++}function kL(t,e,n){let r=e._path,i=Va(t,e),o=Yw(t,n),s=t.listenProvider_.startListening(Ma(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)C(!Br(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!X(c)&&u&&Br(u))return[Ed(u).query];{let f=[];return u&&(f=f.concat(Ww(u).map(h=>h.query))),We(d,(h,g)=>{f=f.concat(g)}),f}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(Ma(u),Va(t,u))}}return s}var xm=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Rm=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=De(this.path_,e);return new t(this.syncTree_,n)}node(){return Dd(this.syncTree_,this.path_)}},FL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},tw=function(t,e,n){if(!t||typeof t!="object")return t;if(C(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return LL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return VL(t[".sv"],e);C(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},LL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:C(!1,"Unexpected server value: "+t)}},VL=function(t,e,n){t.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&C(!1,"Unexpected increment value: "+r);let i=e.node();if(C(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},Zw=function(t,e,n,r){return vv(e,new Rm(n,t),r)},mv=function(t,e,n){return vv(t,new xm(e),n)};function vv(t,e,n){let r=t.getPriority().val(),i=tw(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=tw(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new qo(a,be(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new qo(i))),s.forEachChild(Ce,(a,l)=>{let c=vv(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Ba=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function bd(t,e){let n=e instanceof ie?e:new ie(e),r=t,i=K(n);for(;i!==null;){let o=ur(r.node.children,i)||{children:{},childCount:0};r=new Ba(i,r,o),n=ve(n),i=K(n)}return r}function Ai(t){return t.node.value}function yv(t,e){t.node.value=e,Om(t)}function Jw(t){return t.node.childCount>0}function BL(t){return Ai(t)===void 0&&!Jw(t)}function Sd(t,e){We(t.node.children,(n,r)=>{e(new Ba(n,t,r))})}function eb(t,e,n,r){n&&!r&&e(t),Sd(t,i=>{eb(i,e,!0,r)}),n&&r&&e(t)}function HL(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function qa(t){return new ie(t.parent===null?t.name:qa(t.parent)+"/"+t.name)}function Om(t){t.parent!==null&&jL(t.parent,t.name,t)}function jL(t,e,n){let r=BL(n),i=Ft(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Om(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Om(t))}var GL=/[\[\].#$\/\u0000-\u001F\u007F]/,UL=/[\[\].#$\u0000-\u001F\u007F]/,Wg=10*1024*1024,Id=function(t){return typeof t=="string"&&t.length!==0&&!GL.test(t)},tb=function(t){return typeof t=="string"&&t.length!==0&&!UL.test(t)},$L=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),tb(t)},Ha=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!yd(t)||t&&typeof t=="object"&&Ft(t,".sv")},Ln=function(t,e,n,r){r&&e===void 0||Ka(Ct(t,"value"),e,n)},Ka=function(t,e,n){let r=n instanceof ie?new im(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Di(r));if(typeof e=="function")throw new Error(t+"contains a function "+Di(r)+" with contents = "+e.toString());if(yd(e))throw new Error(t+"contains "+e.toString()+" "+Di(r));if(typeof e=="string"&&e.length>Wg/3&&ls(e)>Wg)throw new Error(t+"contains a string greater than "+Wg+" utf8 bytes "+Di(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(We(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Id(s)))throw new Error(t+" contains an invalid key ("+s+") "+Di(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);CF(r,s),Ka(t,a,r),TF(r)}),i&&o)throw new Error(t+' contains ".value" child '+Di(r)+" in addition to actual children.")}},WL=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let o=Na(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Id(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(_F);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&zt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},nb=function(t,e,n,r){if(r&&e===void 0)return;let i=Ct(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let o=[];We(e,(s,a)=>{let l=new ie(s);if(Ka(i,a,De(n,l)),tv(l)===".priority"&&!Ha(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),WL(i,o)},_v=function(t,e,n){if(!(n&&e===void 0)){if(yd(e))throw new Error(Ct(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ha(e))throw new Error(Ct(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Xa=function(t,e,n,r){if(!(r&&n===void 0)&&!Id(n))throw new Error(Ct(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},rs=function(t,e,n,r){if(!(r&&n===void 0)&&!tb(n))throw new Error(Ct(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zL=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),rs(t,e,n,r)},xt=function(t,e){if(K(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},rb=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Id(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$L(n))throw new Error(Ct(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var km=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Md(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!nv(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function ib(t,e,n){Md(t,n),ob(t,r=>nv(r,e))}function Rt(t,e,n){Md(t,n),ob(t,r=>zt(r,e)||zt(e,r))}function ob(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(qL(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function qL(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();bi&&$e("event: "+n.toString()),es(r)}}}var sb="repo_interrupt",KL=25,Fm=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new km,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=td(),this.transactionQueueTree_=new Ba,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function XL(t,e,n){if(t.stats_=ev(t.repoInfo_),t.forceRestClient_||Xk())t.server_=new gm(t.repoInfo_,(r,i,o,s)=>{nw(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>rw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Oe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new rv(t.repoInfo_,e,(r,i,o,s)=>{nw(t,r,i,o,s)},r=>{rw(t,r)},r=>{QL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Yk(t.repoInfo_,()=>new Cm(t.stats_,t.server_)),t.infoData_=new mm,t.infoSyncTree_=new ud({startListening:(r,i,o,s)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=za(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Cv(t,"connected",!1),t.serverSyncTree_=new ud({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{let c=s(a,l);Rt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function ab(t){let n=t.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qa(t){return FL({timestamp:ab(t)})}function nw(t,e,n,r,i){t.dataUpdateCount++;let o=new ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let l=as(n,c=>be(c));s=NL(t.serverSyncTree_,o,l,i)}else{let l=be(n);s=Kw(t.serverSyncTree_,o,l,i)}else if(r){let l=as(n,c=>be(c));s=IL(t.serverSyncTree_,o,l)}else{let l=be(n);s=za(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Zo(t,o)),Rt(t.eventQueue_,a,s)}function rw(t,e){Cv(t,"connected",e),e===!1&&JL(t)}function QL(t,e){We(e,(n,r)=>{Cv(t,n,r)})}function Cv(t,e,n){let r=new ie("/.info/"+e),i=be(n);t.infoData_.updateSnapshot(r,i);let o=za(t.infoSyncTree_,r,i);Rt(t.eventQueue_,r,o)}function Ad(t){return t.nextWriteId_++}function YL(t,e,n){let r=PL(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=be(i).withIndex(e._queryParams.getIndex());Pm(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=za(t.serverSyncTree_,e._path,o);else{let a=Va(t.serverSyncTree_,e);s=Kw(t.serverSyncTree_,e._path,o,a)}return Rt(t.eventQueue_,e._path,s),dd(t.serverSyncTree_,e,n,null,!0),o},i=>(is(t,"get for query "+Oe(e)+" failed: "+i),Promise.reject(new Error(i))))}function Tv(t,e,n,r,i){is(t,"set",{path:e.toString(),value:n,priority:r});let o=Qa(t),s=be(n,r),a=Dd(t.serverSyncTree_,e),l=mv(s,a,o),c=Ad(t),u=fv(t.serverSyncTree_,e,l,c,!0);Md(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let g=f==="ok";g||nt("set at "+e+" failed: "+f);let y=Or(t.serverSyncTree_,c,!g);Rt(t.eventQueue_,e,y),Hr(t,i,f,h)});let d=Dv(t,e);Zo(t,d),Rt(t.eventQueue_,d,[])}function ZL(t,e,n,r){is(t,"update",{path:e.toString(),value:n});let i=!0,o=Qa(t),s={};if(We(n,(a,l)=>{i=!1,s[a]=Zw(De(e,a),be(l),t.serverSyncTree_,o)}),i)$e("update() called with empty data.  Don't do anything."),Hr(t,r,"ok",void 0);else{let a=Ad(t),l=SL(t.serverSyncTree_,e,s,a);Md(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let d=c==="ok";d||nt("update at "+e+" failed: "+c);let f=Or(t.serverSyncTree_,a,!d),h=f.length>0?Zo(t,e):e;Rt(t.eventQueue_,h,f),Hr(t,r,c,u)}),We(n,c=>{let u=Dv(t,De(e,c));Zo(t,u)}),Rt(t.eventQueue_,e,[])}}function JL(t){is(t,"onDisconnectEvents");let e=Qa(t),n=td();ym(t.onDisconnect_,re(),(i,o)=>{let s=Zw(i,o,t.serverSyncTree_,e);ts(n,i,s)});let r=[];ym(n,re(),(i,o)=>{r=r.concat(za(t.serverSyncTree_,i,o));let s=Dv(t,i);Zo(t,s)}),t.onDisconnect_=td(),Rt(t.eventQueue_,re(),r)}function eV(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&vm(t.onDisconnect_,e),Hr(t,n,r,i)})}function iw(t,e,n,r){let i=be(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{o==="ok"&&ts(t.onDisconnect_,e,i),Hr(t,r,o,s)})}function tV(t,e,n,r,i){let o=be(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{s==="ok"&&ts(t.onDisconnect_,e,o),Hr(t,i,s,a)})}function nV(t,e,n,r){if(rl(n)){$e("onDisconnect().update() called with empty data.  Don't do anything."),Hr(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{i==="ok"&&We(n,(s,a)=>{let l=be(a);ts(t.onDisconnect_,De(e,s),l)}),Hr(t,r,i,o)})}function rV(t,e,n){let r;K(e._path)===".info"?r=Pm(t.infoSyncTree_,e,n):r=Pm(t.serverSyncTree_,e,n),ib(t.eventQueue_,e._path,r)}function Lm(t,e,n){let r;K(e._path)===".info"?r=dd(t.infoSyncTree_,e,n):r=dd(t.serverSyncTree_,e,n),ib(t.eventQueue_,e._path,r)}function lb(t){t.persistentConnection_&&t.persistentConnection_.interrupt(sb)}function iV(t){t.persistentConnection_&&t.persistentConnection_.resume(sb)}function is(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),$e(n,...e)}function Hr(t,e,n,r){e&&es(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function oV(t,e,n,r,i,o){is(t,"transaction on "+e);let s={path:e,update:n,onComplete:r,status:null,order:aw(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Ev(t,e,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Ka("transaction failed: Data returned ",l,s.path),s.status=0;let c=bd(t.transactionQueueTree_,e),u=Ai(c)||[];u.push(s),yv(c,u);let d;typeof l=="object"&&l!==null&&Ft(l,".priority")?(d=ur(l,".priority"),C(Ha(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Dd(t.serverSyncTree_,e)||B.EMPTY_NODE).getPriority().val();let f=Qa(t),h=be(l,d),g=mv(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=g,s.currentWriteId=Ad(t);let y=fv(t.serverSyncTree_,e,g,s.currentWriteId,s.applyLocally);Rt(t.eventQueue_,e,y),Nd(t,t.transactionQueueTree_)}}function Ev(t,e,n){return Dd(t.serverSyncTree_,e,n)||B.EMPTY_NODE}function Nd(t,e=t.transactionQueueTree_){if(e||Pd(t,e),Ai(e)){let n=ub(t,e);C(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&sV(t,qa(e),n)}else Jw(e)&&Sd(e,n=>{Nd(t,n)})}function sV(t,e,n){let r=n.map(c=>c.currentWriteId),i=Ev(t,e,r),o=i,s=i.hash();for(let c=0;c<n.length;c++){let u=n[c];C(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=gt(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{is(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Or(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Pd(t,bd(t.transactionQueueTree_,e)),Nd(t,t.transactionQueueTree_),Rt(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)es(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{nt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Zo(t,e)}},s)}function Zo(t,e){let n=cb(t,e),r=qa(n),i=ub(t,n);return aV(t,i,r),r}function aV(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=gt(n,l.path),u=!1,d;if(C(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Or(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=KL)u=!0,d="maxretry",i=i.concat(Or(t.serverSyncTree_,l.currentWriteId,!0));else{let f=Ev(t,l.path,s);l.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){Ka("transaction failed: Data returned ",h,l.path);let g=be(h);typeof h=="object"&&h!=null&&Ft(h,".priority")||(g=g.updatePriority(f.getPriority()));let v=l.currentWriteId,E=Qa(t),x=mv(g,f,E);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=x,l.currentWriteId=Ad(t),s.splice(s.indexOf(v),1),i=i.concat(fv(t.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(Or(t.serverSyncTree_,v,!0))}else u=!0,d="nodata",i=i.concat(Or(t.serverSyncTree_,l.currentWriteId,!0))}Rt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Pd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)es(r[a]);Nd(t,t.transactionQueueTree_)}function cb(t,e){let n,r=t.transactionQueueTree_;for(n=K(e);n!==null&&Ai(r)===void 0;)r=bd(r,n),e=ve(e),n=K(e);return r}function ub(t,e){let n=[];return db(t,e,n),n.sort((r,i)=>r.order-i.order),n}function db(t,e,n){let r=Ai(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Sd(e,i=>{db(t,i,n)})}function Pd(t,e){let n=Ai(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,yv(e,n.length>0?n:void 0)}Sd(e,r=>{Pd(t,r)})}function Dv(t,e){let n=qa(cb(t,e)),r=bd(t.transactionQueueTree_,e);return HL(r,i=>{zg(t,i)}),zg(t,r),eb(r,i=>{zg(t,i)}),n}function zg(t,e){let n=Ai(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(C(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(C(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Or(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?yv(e,void 0):n.length=o+1,Rt(t.eventQueue_,qa(e),i);for(let s=0;s<r.length;s++)es(r[s])}}function lV(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function cV(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nt(`Invalid query segment '${n}' in query '${t}'`)}return e}var Vm=function(t,e){let n=uV(t),r=n.namespace;n.domain==="firebase.com"&&kn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Hk();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ie(n.pathString)}},uV=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=lV(t.substring(u,d)));let f=cV(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var ow="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dV=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=ow.charAt(n%64),n=Math.floor(n/64);C(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=ow.charAt(e[i]);return C(s.length===20,"nextPushId: Length should be 20."),s}}();var fd=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Oe(this.snapshot.exportVal())}},hd=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var ja=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return C(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var pd=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new Ue;return eV(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){xt("OnDisconnect.remove",this._path);let e=new Ue;return iw(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){xt("OnDisconnect.set",this._path),Ln("OnDisconnect.set",e,this._path,!1);let n=new Ue;return iw(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){xt("OnDisconnect.setWithPriority",this._path),Ln("OnDisconnect.setWithPriority",e,this._path,!1),_v("OnDisconnect.setWithPriority",n,!1);let r=new Ue;return tV(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){xt("OnDisconnect.update",this._path),nb("OnDisconnect.update",e,this._path,!1);let n=new Ue;return nV(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var vt=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return X(this._path)?null:tv(this._path)}get ref(){return new Ot(this._repo,this._path)}get _queryIdentifier(){let e=WD(this._queryParams),n=Jm(e);return n==="{}"?"default":n}get _queryObject(){return WD(this._queryParams)}isEqual(e){if(e=rt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=nv(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+yF(this._path)}};function xd(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Gr(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===On){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Lr)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==ar)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Ce){if(e!=null&&!Ha(e)||n!=null&&!Ha(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(C(t.getIndex()instanceof Pa||t.getIndex()===ov,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Rd(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ot=class t extends vt{constructor(e,n){super(e,n,new ka,!1)}get parent(){let e=Mw(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Jo=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new ie(e),r=jr(this.ref,e);return new t(this._node.getChild(n),r,Ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,jr(this.ref,r),Ce)))}hasChild(e){let n=new ie(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function wv(t,e){return t=rt(t),t._checkNotDeleted("ref"),e!==void 0?jr(t._root,e):t._root}function bv(t,e){t=rt(t),t._checkNotDeleted("refFromURL");let n=Vm(e,t._repo.repoInfo_.nodeAdmin);rb("refFromURL",n);let r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&kn("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),wv(t,n.path.toString())}function jr(t,e){return t=rt(t),K(t._path)===null?zL("child","path",e,!1):rs("child","path",e,!1),new Ot(t._repo,De(t._path,e))}function fb(t,e){t=rt(t),xt("push",t._path),Ln("push",e,t._path,!0);let n=ab(t._repo),r=dV(n),i=jr(t,r),o=jr(t,r),s;return e!=null?s=Od(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function hb(t){return xt("remove",t._path),Od(t,null)}function Od(t,e){t=rt(t),xt("set",t._path),Ln("set",e,t._path,!1);let n=new Ue;return Tv(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function pb(t,e){t=rt(t),xt("setPriority",t._path),_v("setPriority",e,!1);let n=new Ue;return Tv(t._repo,De(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function gb(t,e,n){if(xt("setWithPriority",t._path),Ln("setWithPriority",e,t._path,!1),_v("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let r=new Ue;return Tv(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function mb(t,e){nb("update",e,t._path,!1);let n=new Ue;return ZL(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function vb(t){t=rt(t);let e=new ja(()=>{}),n=new Ga(e);return YL(t._repo,t,n).then(r=>new Jo(r,new Ot(t._repo,t._path),t._queryParams.getIndex()))}var Ga=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new fd("value",this,new Jo(e.snapshotNode,new Ot(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hd(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},gd=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hd(this,e,n):null}createEvent(e,n){C(e.childName!=null,"Child events should have a childName.");let r=jr(new Ot(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new fd(e.type,this,new Jo(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Ya(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{Lm(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new ja(n,o||void 0),a=e==="value"?new Ga(s):new gd(e,s);return rV(t._repo,t,a),()=>Lm(t._repo,t,a)}function kd(t,e,n,r){return Ya(t,"value",e,n,r)}function Sv(t,e,n,r){return Ya(t,"child_added",e,n,r)}function Iv(t,e,n,r){return Ya(t,"child_changed",e,n,r)}function Mv(t,e,n,r){return Ya(t,"child_moved",e,n,r)}function Av(t,e,n,r){return Ya(t,"child_removed",e,n,r)}function Nv(t,e,n){let r=null,i=n?new ja(n):null;e==="value"?r=new Ga(i):e&&(r=new gd(e,i)),Lm(t._repo,t,r)}var kt=class{},md=class extends kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Ln("endAt",this._value,e._path,!0);let n=pm(e._queryParams,this._value,this._key);if(Rd(n),Gr(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vt(e._repo,e._path,n,e._orderByCalled)}};function yb(t,e){return Xa("endAt","key",e,!0),new md(t,e)}var Bm=class extends kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Ln("endBefore",this._value,e._path,!1);let n=LF(e._queryParams,this._value,this._key);if(Rd(n),Gr(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vt(e._repo,e._path,n,e._orderByCalled)}};function _b(t,e){return Xa("endBefore","key",e,!0),new Bm(t,e)}var vd=class extends kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Ln("startAt",this._value,e._path,!0);let n=hm(e._queryParams,this._value,this._key);if(Rd(n),Gr(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new vt(e._repo,e._path,n,e._orderByCalled)}};function Cb(t=null,e){return Xa("startAt","key",e,!0),new vd(t,e)}var Hm=class extends kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){Ln("startAfter",this._value,e._path,!1);let n=FF(e._queryParams,this._value,this._key);if(Rd(n),Gr(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new vt(e._repo,e._path,n,e._orderByCalled)}};function Tb(t,e){return Xa("startAfter","key",e,!0),new Hm(t,e)}var jm=class extends kt{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new vt(e._repo,e._path,OF(e._queryParams,this._limit),e._orderByCalled)}};function Eb(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new jm(t)}var Gm=class extends kt{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new vt(e._repo,e._path,kF(e._queryParams,this._limit),e._orderByCalled)}};function Db(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Gm(t)}var Um=class extends kt{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){xd(e,"orderByChild");let n=new ie(this._path);if(X(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new Pa(n),i=_d(e._queryParams,r);return Gr(i),new vt(e._repo,e._path,i,!0)}};function wb(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return rs("orderByChild","path",t,!1),new Um(t)}var $m=class extends kt{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){xd(e,"orderByKey");let n=_d(e._queryParams,On);return Gr(n),new vt(e._repo,e._path,n,!0)}};function bb(){return new $m}var Wm=class extends kt{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){xd(e,"orderByPriority");let n=_d(e._queryParams,Ce);return Gr(n),new vt(e._repo,e._path,n,!0)}};function Sb(){return new Wm}var zm=class extends kt{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){xd(e,"orderByValue");let n=_d(e._queryParams,ov);return Gr(n),new vt(e._repo,e._path,n,!0)}};function Ib(){return new zm}var qm=class extends kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Ln("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new md(this._value,this._key)._apply(new vd(this._value,this._key)._apply(e))}};function Mb(t,e){return Xa("equalTo","key",e,!0),new qm(t,e)}function Kt(t,...e){let n=rt(t);for(let r of e)n=r._apply(n);return n}yL(Ot);DL(Ot);var fV="FIREBASE_DATABASE_EMULATOR_HOST",Km={},hV=!1;function pV(t,e,n,r){t.repoInfo_=new qu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Pv(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$e("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Vm(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[fV]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=Vm(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let u=i&&l?new ba(ba.OWNER):new Zg(t.name,t.options,e);rb("Invalid Firebase Database URL",s),X(s.path)||kn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=mV(a,t,u,new Yg(t.name,n));return new Xm(d,t)}function gV(t,e){let n=Km[e];(!n||n[t.key]!==t)&&kn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),lb(t),delete n[t.key]}function mV(t,e,n,r){let i=Km[e.name];i||(i={},Km[e.name]=i);let o=i[t.toURLString()];return o&&kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Fm(t,hV,n,r),i[t.toURLString()]=o,o}var Xm=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(XL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ot(this._repo,re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(gV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&kn("Cannot call "+e+" on a deleted database.")}};function Ab(){Iw.IS_TRANSPORT_INITIALIZED&&nt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Nb(){Ab(),Aa.forceDisallow()}function Pb(){Ab(),Uo.forceDisallow(),Aa.forceAllow()}function xb(t,e,n,r={}){t=rt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&kn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ba(ba.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:Zv(r.mockUserToken,t.app.options.projectId);o=new ba(s)}pV(i,e,n,o)}function Rb(t){t=rt(t),t._checkNotDeleted("goOffline"),lb(t._repo)}function Ob(t){t=rt(t),t._checkNotDeleted("goOnline"),iV(t._repo)}function kb(t,e){cw(t,e)}function vV(t){Zm(ly),cs(new Hn("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Pv(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),dr(MD,AD,t),dr(MD,AD,"esm2017")}var yV={".sv":"timestamp"};function Fb(){return yV}function Lb(t){return{".sv":{increment:t}}}var Qm=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Vb(t,e,n){var r;if(t=rt(t),xt("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,o=new Ue,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new Jo(u,new Ot(t._repo,t._path),Ce),o.resolve(new Qm(c,d)))},a=kd(t,()=>{});return oV(t._repo,t._path,e,s,a,i),o.promise}rv.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};rv.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};vV();var _V="@firebase/database-compat",CV="1.0.6";var TV=new Ri("@firebase/database-compat"),Bb=function(t){let e="FIREBASE WARNING: "+t;TV.warn(e)};var EV=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Ct(t,e)+"must be a boolean.")},DV=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ct(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var xv=class{constructor(e){this._delegate=e}cancel(e){P("OnDisconnect.cancel",0,1,arguments.length),Be("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){P("OnDisconnect.remove",0,1,arguments.length),Be("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){P("OnDisconnect.set",1,2,arguments.length),Be("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){P("OnDisconnect.setWithPriority",2,3,arguments.length),Be("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if(P("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,Bb("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Be("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}};var Rv=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return P("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Ni=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return P("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return P("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return P("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return P("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return P("DataSnapshot.child",0,1,arguments.length),e=String(e),rs("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return P("DataSnapshot.hasChild",1,1,arguments.length),rs("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return P("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return P("DataSnapshot.forEach",1,1,arguments.length),Be("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return P("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return P("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return P("DataSnapshot.ref",0,0,arguments.length),new lr(this._database,this._delegate.ref)}get ref(){return this.getRef()}},Fd=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;P("Query.on",2,4,arguments.length),Be("Query.on","callback",n,!1);let s=t.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new Ni(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(e){case"value":return kd(this._delegate,a,l),n;case"child_added":return Sv(this._delegate,a,l),n;case"child_removed":return Av(this._delegate,a,l),n;case"child_changed":return Iv(this._delegate,a,l),n;case"child_moved":return Mv(this._delegate,a,l),n;default:throw new Error(Ct("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(P("Query.off",0,3,arguments.length),DV("Query.off",e,!0),Be("Query.off","callback",n,!0),$d("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,Nv(this._delegate,e,i)}else Nv(this._delegate,e)}get(){return vb(this._delegate).then(e=>new Ni(this.database,e))}once(e,n,r,i){P("Query.once",1,4,arguments.length),Be("Query.once","callback",n,!0);let o=t.getCancelAndContextArgs_("Query.once",r,i),s=new Ue,a=(c,u)=>{let d=new Ni(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(e){case"value":kd(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Sv(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":Av(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":Iv(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Mv(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Ct("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return P("Query.limitToFirst",1,1,arguments.length),new t(this.database,Kt(this._delegate,Eb(e)))}limitToLast(e){return P("Query.limitToLast",1,1,arguments.length),new t(this.database,Kt(this._delegate,Db(e)))}orderByChild(e){return P("Query.orderByChild",1,1,arguments.length),new t(this.database,Kt(this._delegate,wb(e)))}orderByKey(){return P("Query.orderByKey",0,0,arguments.length),new t(this.database,Kt(this._delegate,bb()))}orderByPriority(){return P("Query.orderByPriority",0,0,arguments.length),new t(this.database,Kt(this._delegate,Sb()))}orderByValue(){return P("Query.orderByValue",0,0,arguments.length),new t(this.database,Kt(this._delegate,Ib()))}startAt(e=null,n){return P("Query.startAt",0,2,arguments.length),new t(this.database,Kt(this._delegate,Cb(e,n)))}startAfter(e=null,n){return P("Query.startAfter",0,2,arguments.length),new t(this.database,Kt(this._delegate,Tb(e,n)))}endAt(e=null,n){return P("Query.endAt",0,2,arguments.length),new t(this.database,Kt(this._delegate,yb(e,n)))}endBefore(e=null,n){return P("Query.endBefore",0,2,arguments.length),new t(this.database,Kt(this._delegate,_b(e,n)))}equalTo(e,n){return P("Query.equalTo",1,2,arguments.length),new t(this.database,Kt(this._delegate,Mb(e,n)))}toString(){return P("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return P("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(P("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Be(e,"cancel",i.cancel,!0),i.context=r,$d(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Ct(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new lr(this.database,new Ot(this._delegate._repo,this._delegate._path))}},lr=class t extends Fd{constructor(e,n){super(e,new vt(n._repo,n._path,new ka,!1)),this.database=e,this._delegate=n}getKey(){return P("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return P("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,jr(this._delegate,e))}getParent(){P("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return P("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){P("Reference.set",1,2,arguments.length),Be("Reference.set","onComplete",n,!0);let r=Od(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(P("Reference.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,Bb("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xt("Reference.update",this._delegate._path),Be("Reference.update","onComplete",n,!0);let r=mb(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){P("Reference.setWithPriority",2,3,arguments.length),Be("Reference.setWithPriority","onComplete",r,!0);let i=gb(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){P("Reference.remove",0,1,arguments.length),Be("Reference.remove","onComplete",e,!0);let n=hb(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){P("Reference.transaction",1,3,arguments.length),Be("Reference.transaction","transactionUpdate",e,!1),Be("Reference.transaction","onComplete",n,!0),EV("Reference.transaction","applyLocally",r,!0);let i=Vb(this._delegate,e,{applyLocally:r}).then(o=>new Rv(o.committed,new Ni(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){P("Reference.setPriority",1,2,arguments.length),Be("Reference.setPriority","onComplete",n,!0);let r=pb(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){P("Reference.push",0,2,arguments.length),Be("Reference.push","onComplete",n,!0);let r=fb(this._delegate,e),i=r.then(s=>new t(this.database,s));n&&i.then(()=>n(null),s=>n(s));let o=new t(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return xt("Reference.onDisconnect",this._delegate._path),new xv(new pd(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Pi=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Nb,forceLongPolling:Pb}}useEmulator(e,n,r={}){xb(this._delegate,e,n,r)}ref(e){if(P("database.ref",0,1,arguments.length),e instanceof lr){let n=bv(this._delegate,e.toString());return new lr(this,n)}else{let n=wv(this._delegate,e);return new lr(this,n)}}refFromURL(e){P("database.refFromURL",1,1,arguments.length);let r=bv(this._delegate,e);return new lr(this,r)}goOffline(){return P("database.goOffline",0,0,arguments.length),Rb(this._delegate)}goOnline(){return P("database.goOnline",0,0,arguments.length),Ob(this._delegate)}};Pi.ServerValue={TIMESTAMP:Fb(),increment:t=>Lb(t)};function wV({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){Zm(n);let a=new Wd("database-standalone"),l=new il("auth-internal",a);l.setComponent(new Hn("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new il("app-check-internal",a),c.setComponent(new Hn("app-check-internal",()=>i,"PRIVATE"))),{instance:new Pi(Pv(t,l,c,e,s),t),namespace:o}}var bV=Object.freeze({__proto__:null,initStandalone:wV});var SV=Pi.ServerValue;function IV(t){t.INTERNAL.registerComponent(new Hn("database-compat",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Pi(i,r)},"PUBLIC").setServiceProps({Reference:lr,Query:Fd,Database:Pi,DataSnapshot:Ni,enableLogging:kb,INTERNAL:bV,ServerValue:SV}).setMultipleInstances(!0)),t.registerVersion(_V,CV)}IV(St);function Za(t,e,n="on",r=gs){return new $(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),n==="on"?{unsubscribe(){o!=null&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(A(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),Qr())}function MV(t){return typeof t=="string"}function AV(t){return typeof t.exportVal=="function"}function $b(t){return t==null}function Wb(t){return typeof t.set=="function"}function Hb(t,e){return Wb(e)?e:t.ref(e)}function zb(t,e){if(MV(t))return e.stringCase();if(Wb(t))return e.firebaseCase();if(AV(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function qb(t){return($b(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Kb(t,e,n){e=qb(e);let r=e.map(i=>Za(t,i,"on",n));return zi(...r)}function NV(t,e,n){let r=Kb(t,e).pipe(Ki((i,o)=>[...i,o],[]));return xV(t,r,n)}function PV(t,e){return Za(t,"value","on",e).pipe(A(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function xV(t,e,n){return PV(t,n).pipe(yf(e),A(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),gf(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),A(i=>i.actions))}function jb(t,e){return function(r,i){return zb(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function RV(t){return function(n){return n?zb(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function OV(t,e,n){return Za(t,"value","once",n).pipe(Ee(r=>{let i=[M(r)];return e.forEach(o=>i.push(Za(t,o,"on",n))),zi(...i).pipe(Ki(FV,[]))}),ff())}function Xb(t,e){let n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function kV(t,e){if($b(e))return 0;{let n=Xb(t,e);return n===-1?t.length:n+1}}function FV(t,e){let{payload:n,prevKey:r,key:i}=e,o=Xb(t,i),s=kV(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,t=[...t,c],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(l=>l.payload.key!==n.key),t.splice(s,0,e));else{if(r==null)return[e,...t];t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){let a=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,a),t}return t;default:return t}}function Gb(t,e,n){return e=qb(e),OV(t,e,n)}function LV(t,e){let n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:jb(r,"update"),set:jb(r,"set"),push:i=>r.push(i),remove:RV(r),snapshotChanges(i){return Gb(t,i,n).pipe(sr)},stateChanges(i){return Kb(t,i,n).pipe(sr)},auditTrail(i){return NV(t,i,n).pipe(sr)},valueChanges(i,o){return Gb(t,i,n).pipe(A(a=>a.map(l=>o&&o.idField?z(D({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),sr)}}}function Ub(t,e){return function(){return Za(t,"value","on",e)}}function VV(t,e){return{query:t,snapshotChanges(){return Ub(t,e.schedulers.outsideAngular)().pipe(sr)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return Ub(t,e.schedulers.outsideAngular)().pipe(sr,A(r=>r.payload.exists()?r.payload.val():null))}}}var BV=new w("angularfire2.realtimeDatabaseURL"),HV=new w("angularfire2.database.use-emulator"),Qb=(()=>{class t{schedulers;database;constructor(n,r,i,o,s,a,l,c,u,d,f,h,g,y,v){this.schedulers=a;let E=l,x=_a(n,s,r);c&&Bg(x,s,u,f,h,g,d,y),this.database=Uu(`${x.name}.database.${i}`,"AngularFireDatabase",x.name,()=>{let I=s.runOutsideAngular(()=>x.database(i||void 0));return E&&I.useEmulator(...E),I},[E])}list(n,r){let i=this.schedulers.ngZone.runOutsideAngular(()=>Hb(this.database,n)),o=i;return r&&(o=r(i)),LV(o,this)}object(n){let r=this.schedulers.ngZone.runOutsideAngular(()=>Hb(this.database,n));return VV(r,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||t)(T(Ho),T(jo,8),T(BV,8),T(tt),T(ce),T(Hu),T(HV,8),T($u,8),T(Rg,8),T(Og,8),T(kg,8),T(Fg,8),T(Lg,8),T(Vg,8),T(Ei,8))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var Ur=(()=>{class t{fbAuth;fbDb;router;get user(){return this.fbAuth.user.pipe(st()).toPromise()}constructor(n,r,i){this.fbAuth=n,this.fbDb=r,this.router=i}login(n,r){return oe(this,null,function*(){console.log("Logging in...");let i=yield this.fbAuth.signInWithEmailAndPassword(n,r);console.log("Login result:",i)})}addData(n,r){return oe(this,null,function*(){console.log("Adding data...");let i=yield this.fbDb.list(n).push(r);console.log("Added data:",i)})}getRecentValue(n,r){return oe(this,null,function*(){let i=this.fbDb.list(n,s=>s.orderByChild("email").equalTo(r).limitToLast(1)).valueChanges(),o=yield cf(i);return o.length>0?o[0]:null})}logout(){return oe(this,null,function*(){yield this.fbAuth.signOut(),yield this.router.navigate(["/login"])})}static \u0275fac=function(r){return new(r||t)(T($u),T(Qb),T(xn))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ov={};(function t(e,n,r,i){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var m=new OffscreenCanvas(1,1),p=m.getContext("2d");p.fillRect(0,0,1,1);var N=m.transferToImageBitmap();try{p.createPattern(N,"no-repeat")}catch{return!1}return!0}();function l(){}function c(m){var p=n.exports.Promise,N=p!==void 0?p:e.Promise;return typeof N=="function"?new N(m):(m(l,l),null)}var u=function(m,p){return{transform:function(N){if(m)return N;if(p.has(N))return p.get(N);var k=new OffscreenCanvas(N.width,N.height),W=k.getContext("2d");return W.drawImage(N,0,0),p.set(N,k),k},clear:function(){p.clear()}}}(a,new Map),d=function(){var m=Math.floor(16.666666666666668),p,N,k={},W=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(p=function(Q){var ee=Math.random();return k[ee]=requestAnimationFrame(function R(te){W===te||W+m-1<te?(W=te,delete k[ee],Q()):k[ee]=requestAnimationFrame(R)}),ee},N=function(Q){k[Q]&&cancelAnimationFrame(k[Q])}):(p=function(Q){return setTimeout(Q,m)},N=function(Q){return clearTimeout(Q)}),{frame:p,cancel:N}}(),f=function(){var m,p,N={};function k(W){function Q(ee,R){W.postMessage({options:ee||{},callback:R})}W.init=function(R){var te=R.transferControlToOffscreen();W.postMessage({canvas:te},[te])},W.fire=function(R,te,ye){if(p)return Q(R,null),p;var Ie=Math.random().toString(36).slice(2);return p=c(function(Te){function Me(ze){ze.data.callback===Ie&&(delete N[Ie],W.removeEventListener("message",Me),p=null,u.clear(),ye(),Te())}W.addEventListener("message",Me),Q(R,Ie),N[Ie]=Me.bind(null,{data:{callback:Ie}})}),p},W.reset=function(){W.postMessage({reset:!0});for(var R in N)N[R](),delete N[R]}}return function(){if(m)return m;if(!r&&o){var W=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{m=new Worker(URL.createObjectURL(new Blob([W])))}catch(Q){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",Q),null}k(m)}return m}}(),h={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(m,p){return p?p(m):m}function y(m){return m!=null}function v(m,p,N){return g(m&&y(m[p])?m[p]:h[p],N)}function E(m){return m<0?0:Math.floor(m)}function x(m,p){return Math.floor(Math.random()*(p-m))+m}function I(m){return parseInt(m,16)}function j(m){return m.map(Se)}function Se(m){var p=String(m).replace(/[^0-9a-f]/gi,"");return p.length<6&&(p=p[0]+p[0]+p[1]+p[1]+p[2]+p[2]),{r:I(p.substring(0,2)),g:I(p.substring(2,4)),b:I(p.substring(4,6))}}function Pe(m){var p=v(m,"origin",Object);return p.x=v(p,"x",Number),p.y=v(p,"y",Number),p}function yt(m){m.width=document.documentElement.clientWidth,m.height=document.documentElement.clientHeight}function cr(m){var p=m.getBoundingClientRect();m.width=p.width,m.height=p.height}function Bd(m){var p=document.createElement("canvas");return p.style.position="fixed",p.style.top="0px",p.style.left="0px",p.style.pointerEvents="none",p.style.zIndex=m,p}function Hd(m,p,N,k,W,Q,ee,R,te){m.save(),m.translate(p,N),m.rotate(Q),m.scale(k,W),m.arc(0,0,1,ee,R,te),m.restore()}function fS(m){var p=m.angle*(Math.PI/180),N=m.spread*(Math.PI/180);return{x:m.x,y:m.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:m.startVelocity*.5+Math.random()*m.startVelocity,angle2D:-p+(.5*N-Math.random()*N),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:m.color,shape:m.shape,tick:0,totalTicks:m.ticks,decay:m.decay,drift:m.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:m.gravity*3,ovalScalar:.6,scalar:m.scalar,flat:m.flat}}function hS(m,p){p.x+=Math.cos(p.angle2D)*p.velocity+p.drift,p.y+=Math.sin(p.angle2D)*p.velocity+p.gravity,p.velocity*=p.decay,p.flat?(p.wobble=0,p.wobbleX=p.x+10*p.scalar,p.wobbleY=p.y+10*p.scalar,p.tiltSin=0,p.tiltCos=0,p.random=1):(p.wobble+=p.wobbleSpeed,p.wobbleX=p.x+10*p.scalar*Math.cos(p.wobble),p.wobbleY=p.y+10*p.scalar*Math.sin(p.wobble),p.tiltAngle+=.1,p.tiltSin=Math.sin(p.tiltAngle),p.tiltCos=Math.cos(p.tiltAngle),p.random=Math.random()+2);var N=p.tick++/p.totalTicks,k=p.x+p.random*p.tiltCos,W=p.y+p.random*p.tiltSin,Q=p.wobbleX+p.random*p.tiltCos,ee=p.wobbleY+p.random*p.tiltSin;if(m.fillStyle="rgba("+p.color.r+", "+p.color.g+", "+p.color.b+", "+(1-N)+")",m.beginPath(),s&&p.shape.type==="path"&&typeof p.shape.path=="string"&&Array.isArray(p.shape.matrix))m.fill(gS(p.shape.path,p.shape.matrix,p.x,p.y,Math.abs(Q-k)*.1,Math.abs(ee-W)*.1,Math.PI/10*p.wobble));else if(p.shape.type==="bitmap"){var R=Math.PI/10*p.wobble,te=Math.abs(Q-k)*.1,ye=Math.abs(ee-W)*.1,Ie=p.shape.bitmap.width*p.scalar,Te=p.shape.bitmap.height*p.scalar,Me=new DOMMatrix([Math.cos(R)*te,Math.sin(R)*te,-Math.sin(R)*ye,Math.cos(R)*ye,p.x,p.y]);Me.multiplySelf(new DOMMatrix(p.shape.matrix));var ze=m.createPattern(u.transform(p.shape.bitmap),"no-repeat");ze.setTransform(Me),m.globalAlpha=1-N,m.fillStyle=ze,m.fillRect(p.x-Ie/2,p.y-Te/2,Ie,Te),m.globalAlpha=1}else if(p.shape==="circle")m.ellipse?m.ellipse(p.x,p.y,Math.abs(Q-k)*p.ovalScalar,Math.abs(ee-W)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI):Hd(m,p.x,p.y,Math.abs(Q-k)*p.ovalScalar,Math.abs(ee-W)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI);else if(p.shape==="star")for(var ne=Math.PI/2*3,_t=4*p.scalar,Xt=8*p.scalar,Qt=p.x,Bn=p.y,Wr=5,hn=Math.PI/Wr;Wr--;)Qt=p.x+Math.cos(ne)*Xt,Bn=p.y+Math.sin(ne)*Xt,m.lineTo(Qt,Bn),ne+=hn,Qt=p.x+Math.cos(ne)*_t,Bn=p.y+Math.sin(ne)*_t,m.lineTo(Qt,Bn),ne+=hn;else m.moveTo(Math.floor(p.x),Math.floor(p.y)),m.lineTo(Math.floor(p.wobbleX),Math.floor(W)),m.lineTo(Math.floor(Q),Math.floor(ee)),m.lineTo(Math.floor(k),Math.floor(p.wobbleY));return m.closePath(),m.fill(),p.tick<p.totalTicks}function pS(m,p,N,k,W){var Q=p.slice(),ee=m.getContext("2d"),R,te,ye=c(function(Ie){function Te(){R=te=null,ee.clearRect(0,0,k.width,k.height),u.clear(),W(),Ie()}function Me(){r&&!(k.width===i.width&&k.height===i.height)&&(k.width=m.width=i.width,k.height=m.height=i.height),!k.width&&!k.height&&(N(m),k.width=m.width,k.height=m.height),ee.clearRect(0,0,k.width,k.height),Q=Q.filter(function(ze){return hS(ee,ze)}),Q.length?R=d.frame(Me):Te()}R=d.frame(Me),te=Te});return{addFettis:function(Ie){return Q=Q.concat(Ie),ye},canvas:m,promise:ye,reset:function(){R&&d.cancel(R),te&&te()}}}function jv(m,p){var N=!m,k=!!v(p||{},"resize"),W=!1,Q=v(p,"disableForReducedMotion",Boolean),ee=o&&!!v(p||{},"useWorker"),R=ee?f():null,te=N?yt:cr,ye=m&&R?!!m.__confetti_initialized:!1,Ie=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Te;function Me(ne,_t,Xt){for(var Qt=v(ne,"particleCount",E),Bn=v(ne,"angle",Number),Wr=v(ne,"spread",Number),hn=v(ne,"startVelocity",Number),yS=v(ne,"decay",Number),_S=v(ne,"gravity",Number),CS=v(ne,"drift",Number),Uv=v(ne,"colors",j),TS=v(ne,"ticks",Number),$v=v(ne,"shapes"),ES=v(ne,"scalar"),DS=!!v(ne,"flat"),Wv=Pe(ne),zv=Qt,Gd=[],wS=m.width*Wv.x,bS=m.height*Wv.y;zv--;)Gd.push(fS({x:wS,y:bS,angle:Bn,spread:Wr,startVelocity:hn,color:Uv[zv%Uv.length],shape:$v[x(0,$v.length)],ticks:TS,decay:yS,gravity:_S,drift:CS,scalar:ES,flat:DS}));return Te?Te.addFettis(Gd):(Te=pS(m,Gd,te,_t,Xt),Te.promise)}function ze(ne){var _t=Q||v(ne,"disableForReducedMotion",Boolean),Xt=v(ne,"zIndex",Number);if(_t&&Ie)return c(function(hn){hn()});N&&Te?m=Te.canvas:N&&!m&&(m=Bd(Xt),document.body.appendChild(m)),k&&!ye&&te(m);var Qt={width:m.width,height:m.height};R&&!ye&&R.init(m),ye=!0,R&&(m.__confetti_initialized=!0);function Bn(){if(R){var hn={getBoundingClientRect:function(){if(!N)return m.getBoundingClientRect()}};te(hn),R.postMessage({resize:{width:hn.width,height:hn.height}});return}Qt.width=Qt.height=null}function Wr(){Te=null,k&&(W=!1,e.removeEventListener("resize",Bn)),N&&m&&(document.body.contains(m)&&document.body.removeChild(m),m=null,ye=!1)}return k&&!W&&(W=!0,e.addEventListener("resize",Bn,!1)),R?R.fire(ne,Qt,Wr):Me(ne,Qt,Wr)}return ze.reset=function(){R&&R.reset(),Te&&Te.reset()},ze}var jd;function Gv(){return jd||(jd=jv(null,{useWorker:!0,resize:!0})),jd}function gS(m,p,N,k,W,Q,ee){var R=new Path2D(m),te=new Path2D;te.addPath(R,new DOMMatrix(p));var ye=new Path2D;return ye.addPath(te,new DOMMatrix([Math.cos(ee)*W,Math.sin(ee)*W,-Math.sin(ee)*Q,Math.cos(ee)*Q,N,k])),ye}function mS(m){if(!s)throw new Error("path confetti are not supported in this browser");var p,N;typeof m=="string"?p=m:(p=m.path,N=m.matrix);var k=new Path2D(p),W=document.createElement("canvas"),Q=W.getContext("2d");if(!N){for(var ee=1e3,R=ee,te=ee,ye=0,Ie=0,Te,Me,ze=0;ze<ee;ze+=2)for(var ne=0;ne<ee;ne+=2)Q.isPointInPath(k,ze,ne,"nonzero")&&(R=Math.min(R,ze),te=Math.min(te,ne),ye=Math.max(ye,ze),Ie=Math.max(Ie,ne));Te=ye-R,Me=Ie-te;var _t=10,Xt=Math.min(_t/Te,_t/Me);N=[Xt,0,0,Xt,-Math.round(Te/2+R)*Xt,-Math.round(Me/2+te)*Xt]}return{type:"path",path:p,matrix:N}}function vS(m){var p,N=1,k="#000000",W='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof m=="string"?p=m:(p=m.text,N="scalar"in m?m.scalar:N,W="fontFamily"in m?m.fontFamily:W,k="color"in m?m.color:k);var Q=10*N,ee=""+Q+"px "+W,R=new OffscreenCanvas(Q,Q),te=R.getContext("2d");te.font=ee;var ye=te.measureText(p),Ie=Math.ceil(ye.actualBoundingBoxRight+ye.actualBoundingBoxLeft),Te=Math.ceil(ye.actualBoundingBoxAscent+ye.actualBoundingBoxDescent),Me=2,ze=ye.actualBoundingBoxLeft+Me,ne=ye.actualBoundingBoxAscent+Me;Ie+=Me+Me,Te+=Me+Me,R=new OffscreenCanvas(Ie,Te),te=R.getContext("2d"),te.font=ee,te.fillStyle=k,te.fillText(p,ze,ne);var _t=1/N;return{type:"bitmap",bitmap:R.transferToImageBitmap(),matrix:[_t,0,0,_t,-Ie*_t/2,-Te*_t/2]}}n.exports=function(){return Gv().apply(this,arguments)},n.exports.reset=function(){Gv().reset()},n.exports.create=jv,n.exports.shapeFromPath=mS,n.exports.shapeFromText=vS})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ov,!1);var Zb=Ov.exports,dW=Ov.exports.create;var Jb=(()=>{class t{shoot(){Zb({particleCount:500,spread:250,scalar:2,colors:["#FFC0CB","#FFB6C1","#FF69B4","#FF1493","#DB7093","#FF7F50","#FF6EB4","#FF00FF","#FF6347","#FFD700"]})}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var eS=(()=>{class t{TIMESLOTS=[[800,1100],[1100,1400],[1400,1700]];get nextAvailableTime(){let n=new Date,r=n.getHours()*100+n.getMinutes(),i;for(let s of this.TIMESLOTS)if(r<s[0]){i=s;break}i||(new Date(n).setDate(n.getDate()+1),i=this.TIMESLOTS[0]);let o=new Date(n);return o.setHours(Math.floor(i[0]/100),i[0]%100,0,0),o}canPerformAction(n){let r=new Date,i=r.getHours()*100+r.getMinutes(),o=this.TIMESLOTS.find(([u,d])=>u<=i&&i<d);if(!o)return null;if(n===void 0)return!0;let s=new Date(n),a=new Date(r.getFullYear(),r.getMonth(),r.getDate()),l=new Date(s.getFullYear(),s.getMonth(),s.getDate());if(a.getTime()!==l.getTime())return!0;let c=s.getHours()*100+s.getMinutes();return!(o[0]<=c&&c<o[1])}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $V(t,e){if(t&1&&(ge(0,"div",2)(1,"h1"),Fe(2),de()()),t&2){let n=Gt();ke(2),yo(n.loading)}}function WV(t,e){if(t&1&&(ge(0,"div",2)(1,"h1",5),Fe(2),de(),ge(3,"h3",5),Fe(4),ap(5,"date"),de(),ge(6,"h5",5),Fe(7),ap(8,"countdown"),de()()),t&2){let n=Gt();ke(2),yo(n.canPerformAction===null?"Het is buiten werkuren, je kunt geen waardes invullen":"Je hebt al waardes ingevuld voor dit dagdeel"),ke(2),_o("Je kan weer een score invullen op ",YC(5,3,n.nextAvailableTime,"HH:mm"),""),ke(3),_o("",QC(8,6,n.nextAvailableTime),"!")}}function zV(t,e){t&1&&(ge(0,"h6",10),Fe(1,"Er is iets misgegaan met het verzenden van je waardes"),de())}function qV(t,e){if(t&1){let n=$C();ge(0,"div",3)(1,"div",6)(2,"h2",5),Fe(3,"Hoe zuur ben je?"),de(),ge(4,"app-slider",7),To("ngModelChange",function(i){Ic(n);let o=Gt();return Os(o.acidity,i)||(o.acidity=i),Mc(i)}),de()(),ge(5,"div",6)(6,"h2",5),Fe(7,"Wat is je gemoedstoestand?"),de(),ge(8,"app-slider",8),To("ngModelChange",function(i){Ic(n);let o=Gt();return Os(o.feeling,i)||(o.feeling=i),Mc(i)}),de()(),ge(9,"button",9),ht("click",function(){Ic(n);let i=Gt();return Mc(i.sendValues())}),Fe(10,"Verzenden!"),de(),Yn(11,zV,2,0,"h6",10),de()}if(t&2){let n=Gt();ke(4),Mn("reverse",!0),Co("ngModel",n.acidity),ke(4),Co("ngModel",n.feeling),ke(3),Zn(n.submitFailed?11:-1)}}function KV(t,e){t&1&&(ge(0,"div",4)(1,"h1"),Fe(2,"Je waardes zijn verzonden!"),de()())}var tS=(()=>{class t{fireBaseProvider;confettiProvider;timeProvider;acidity=0;feeling=0;loading="";submitFailed=!1;submitted=!1;canPerformAction=!1;nextAvailableTime=new Date;email="";constructor(n,r,i){this.fireBaseProvider=n,this.confettiProvider=r,this.timeProvider=i}ngOnInit(){return oe(this,null,function*(){this.email=(yield this.fireBaseProvider.user)?.email??"",this.nextAvailableTime=this.timeProvider.nextAvailableTime,yield this.checkValues()})}checkValues(){return oe(this,null,function*(){try{this.loading="We checken of je al een beoordeling hebt ingevuld...";let n=yield this.fireBaseProvider.getRecentValue(Fu.WERKBEOORDELING,this.email);this.canPerformAction=this.timeProvider.canPerformAction(n?.timestamp)}catch(n){console.error(n)}this.loading=""})}sendValues(){return oe(this,null,function*(){try{this.loading="We zijn je beoordeling aan het opslaan";let n={acidity:this.acidity,feeling:this.feeling,timestamp:new Date().getTime(),email:this.email};yield this.fireBaseProvider.addData(Fu.WERKBEOORDELING,n),this.confettiProvider.shoot(),this.submitted=!0}catch(n){console.error(n),this.submitFailed=!0}this.loading=""})}logout(){return oe(this,null,function*(){yield this.fireBaseProvider.logout()})}static \u0275fac=function(r){return new(r||t)(V(Ur),V(Jb),V(eS))};static \u0275cmp=Ht({type:t,selectors:[["app-fill-score"]],standalone:!0,features:[Ut],decls:7,vars:4,consts:[["popperClasses","red","red","",1,"email","center",3,"click","popper"],["src","assets/svg/logout.svg",1,"svg",3,"applyClass"],[1,"vh-center"],[1,"values","vh-center"],[1,"submitted","vh-center"],[1,"center"],[1,"value"],[3,"ngModelChange","reverse","ngModel"],[3,"ngModelChange","ngModel"],[3,"click"],[1,"center","red"]],template:function(r,i){r&1&&(ge(0,"h4",0),ht("click",function(){return i.logout()}),Fe(1),An(2,"svg-icon",1),de(),Yn(3,$V,3,1,"div",2)(4,WV,9,8,"div",2)(5,qV,12,4,"div",3)(6,KV,3,0,"div",4)),r&2&&(Mn("popper","Uitloggen?"),ke(),_o("Je bent ingelogd als: ",i.email," "),ke(),Mn("applyClass",!0),ke(),Zn(i.loading?3:i.canPerformAction?i.submitted?i.submitted?6:-1:5:4))},dependencies:[sD,ku,Bo,ga,aD,cD,TT,uD],styles:["[_nghost-%COMP%]{padding:2rem}[_nghost-%COMP%]   .values[_ngcontent-%COMP%]{max-width:32rem;min-width:16rem;width:100%;gap:2rem}[_nghost-%COMP%]   .email[_ngcontent-%COMP%]{display:flex;gap:1rem;cursor:pointer}[_nghost-%COMP%]   .email[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .email[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem}[_nghost-%COMP%]   .email[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}return t})();function XV(t,e){t&1&&(ge(0,"small"),Fe(1,"Email is verplicht"),de())}function QV(t,e){t&1&&(ge(0,"small"),Fe(1,"Ongeldig email adres"),de())}function YV(t,e){if(t&1&&Yn(0,XV,2,0,"small")(1,QV,2,0,"small"),t&2){let n=Gt();Zn(!(n.email==null||n.email.errors==null)&&n.email.errors.required?0:-1),ke(),Zn(!(n.email==null||n.email.errors==null)&&n.email.errors.email?1:-1)}}function ZV(t,e){t&1&&(ge(0,"small"),Fe(1,"Wachtwoord is verplicht"),de())}function JV(t,e){if(t&1&&Yn(0,ZV,2,0,"small"),t&2){let n=Gt();Zn(!(n.password==null||n.password.errors==null)&&n.password.errors.required?0:-1)}}var nS=(()=>{class t{fireBaseProvider;router;loginForm=new Au({email:new pa("",[Fo.required,Fo.email]),password:new pa("",[Fo.required])});loginFailed=!1;loading=!1;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}constructor(n,r){this.fireBaseProvider=n,this.router=r}login(){return oe(this,null,function*(){try{this.loading=!0,yield this.fireBaseProvider.login(this.email?.value,this.password?.value),yield this.router.navigate(["/fill-score"])}catch(n){console.error(n),this.loginFailed=!0}this.loading=!1})}static \u0275fac=function(r){return new(r||t)(V(Ur),V(xn))};static \u0275cmp=Ht({type:t,selectors:[["app-login"]],standalone:!0,features:[Ut],decls:13,vars:4,consts:[[1,"vh-center",3,"ngSubmit","formGroup"],["for","email",1,"h2","bold","d-flex"],["id","email","formControlName","email","type","email"],["for","password",1,"h2","bold","d-flex"],["id","password","formControlName","password","type","password"],["type","submit",3,"disabled"]],template:function(r,i){r&1&&(ge(0,"form",0),ht("ngSubmit",function(){return i.login()}),ge(1,"div")(2,"label",1),Fe(3,"Email:"),de(),An(4,"input",2),Yn(5,YV,2,2),de(),ge(6,"div")(7,"label",3),Fe(8,"Password:"),de(),An(9,"input",4),Yn(10,JV,1,1),de(),ge(11,"button",5),Fe(12,"Login"),de()()),r&2&&(Mn("formGroup",i.loginForm),ke(5),Zn(i.email!=null&&i.email.invalid&&(i.email!=null&&i.email.dirty||i.email!=null&&i.email.touched)?5:-1),ke(5),Zn(i.password!=null&&i.password.invalid&&(i.password!=null&&i.password.dirty||i.password!=null&&i.password.touched)?10:-1),ke(),Mn("disabled",i.loginForm.invalid))},dependencies:[oD,nD,Vo,Bo,XE,Eg,Dg],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;max-width:32rem;min-width:16rem;width:100%}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border-radius:.25rem;border:.0625rem solid var(--dark-blue)}"]})}return t})();var rS=(t,e)=>oe(void 0,null,function*(){let n=_(xn);return(yield _(Ur).user)?(yield n.navigate(["/fill-score"]),!1):!0});var iS=(t,e)=>oe(void 0,null,function*(){let n=_(xn);return(yield _(Ur).user)?!0:(yield n.navigate(["/login"]),!1)});var oS=[{path:"login",component:nS,pathMatch:"full",canActivate:[rS]},{path:"fill-score",component:tS,pathMatch:"full",canActivate:[iS]},{path:"**",redirectTo:"fill-score",pathMatch:"full"}];var Ld={firebaseConfig:{apiKey:"AIzaSyCuRcP3yE6bQna_3QejsMh2BE3wttptI-8",authDomain:"werkbeoordeelisator-69.firebaseapp.com",projectId:"werkbeoordeelisator-69",storageBucket:"werkbeoordeelisator-69.appspot.com",messagingSenderId:"918835579953",appId:"1:918835579953:web:624a944336b5ac78e55910",measurementId:"G-3RM2SN6XM0",databaseURL:"https://werkbeoordeelisator-69-default-rtdb.europe-west1.firebasedatabase.app"},rootFontSize:18};var sS={providers:[oT({eventCoalescing:!0}),bE(oS),Nh(SD.initializeApp(Ld.firebaseConfig),lD.forRoot(),kT)]};var ss={UKNOWN:"Unknown"},Hv={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:ss.UKNOWN},Vd={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp(`Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|
      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|
      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|
      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|
      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|
      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|
      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052`),SAMSUNG:new RegExp(`\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|
      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|
      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|
      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|
      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|
      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|
      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|
      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|
      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|
      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|
      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|
      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|
      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|
      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|
      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|
      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|
      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|
      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|
      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|
      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|
      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|
      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|
      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|
      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|
      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|
      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|
      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|
      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|
      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|
      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|
      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|
      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|
      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|
      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|
      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|
      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|
      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|
      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|
      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|
      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|
      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|
      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|
      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|
      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|
      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|
      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|
      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|
      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|
      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|
      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|
      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|
      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|
      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|
      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|
      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F`),LG:new RegExp(`\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|
      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|
      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|
      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|
      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|
      MS323|M257)`),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp(`PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|
        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|
        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|
        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|
        P2000|P7040|P7000|C790`),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp(`KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|
        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|
        CINK KING|CINK PEAX|CINK SLIM|SUBLIM`),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp(`Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|
        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser`)},os={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp(`SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|
        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|
        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|
        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|
        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|
        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|
        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|
        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|
        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|
        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|
        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|
        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|
        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|
        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|
        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|
        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|
        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|
        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|
        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970`),Kindle:new RegExp(`Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|
        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)`),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp(`^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|
        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|
        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|
        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|
        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b`),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp(`Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|
        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|
        \\bA3-A20\\b|\\bA3-A30`),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp(`PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|
        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|
        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|
        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|
        PMT5887|PMT5001|PMT5002`),LenovoTablet:new RegExp(`Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|
        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|
        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F`),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp(`Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|
        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|
        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|
        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|
        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b`),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp(`\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|
         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b`),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp(`Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|
        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|
        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|
        SGP612|SGP712`),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp(`MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|
        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010`),MIDTablet:new RegExp(`M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|
        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|
        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10`),MSITablet:new RegExp(`MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|
        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b`),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp(`Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|
        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus`),HuaweiTablet:new RegExp(`MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|
        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09`),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp(`NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|
        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|
        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|
        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|
        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|
        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|
        TB-436|TB-416|TB-146SE|TB-126SE`),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp(`Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|
        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b`),DanyTechTablet:`Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|
        Genius TAB GII|Genius TAB GIII|Genius Tab S1`,GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp(`\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|
        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|
        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|
        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b`),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp(`TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|
        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|
        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|
        TPC10111|TPC10203|TPC10205|TPC10503`),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp(`TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|
        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|
        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|
        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10`),OvermaxTablet:new RegExp(`OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|
        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027`),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp(`GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|
        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|
        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|
        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|
        TAB R104|TAB R83.3|TAB A1042`),ModecomTablet:new RegExp(`FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|
        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|
        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003`),VoninoTablet:new RegExp(`\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|
        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|
        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b`),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp(`Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|
        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|
        P1000|P300|S18|S6600|S9100)\\b`),iJoyTablet:new RegExp(`Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|
        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|
        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|
        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|
        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)`),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp(`KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|
        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|
        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|
        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151`),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp(`NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|
        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S`),TeclastTablet:new RegExp(`T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|
        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|
        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|
        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|
        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|
        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|
        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|
        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|
        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi`),OndaTablet:new RegExp(`\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|
        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|
        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|
        Vi40)\\b[s]+|V10 \\b4G\\b`),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp(`MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|
        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|
        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010`),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp(`miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|
        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|
        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b`),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp(`TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|
        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100`),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp(`Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|
        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|
        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107`)},$r={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:ss.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},aS=[$r.PS4,$r.CHROME_BOOK,$r.MAC,$r.DELL,$r.ASUS,$r.UNKNOWN],e2={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:ss.UKNOWN},t2={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:ss.UKNOWN.toLowerCase()},lS={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},n2={CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},r2=z(D(D(D({},Vd),os),lS),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),Fv={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},Lv={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},i2=Object.keys(Fv).reduce((t,e)=>(t[e]=Fv[e],t),{}),cS=Object.keys(Lv).reduce((t,e)=>(t[Hv[e]]=Lv[e],t),{}),Vn=Object.freeze({__proto__:null,BROWSERS:Hv,BROWSERS_RE:n2,BROWSER_VERSIONS_RE:cS,BROWSER_VERSIONS_RE_MAP:Lv,DESKTOP_DEVICES:aS,DEVICES:$r,DEVICES_RE:r2,GENERAL:ss,MOBILES_RE:Vd,OS:e2,OS_RE:lS,OS_VERSIONS:t2,OS_VERSIONS_RE:i2,OS_VERSIONS_RE_MAP:Fv,TABLETS_RE:os}),Vv=class{constructor(){}test(e,n){return typeof n=="string"&&(n=new RegExp(n)),n instanceof RegExp?n.test(e):n&&Array.isArray(n.and)?n.and.every(r=>this.test(e,r)):n&&Array.isArray(n.or)?n.or.some(r=>this.test(e,r)):n&&n.not?!this.test(e,n.not):!1}exec(e,n){return typeof n=="string"&&(n=new RegExp(n)),n instanceof RegExp?n.exec(e):n&&Array.isArray(n)?n.reduce((r,i)=>r||this.exec(e,i),null):null}},Ja=function(t){return t.Mobile="mobile",t.Tablet="tablet",t.Desktop="desktop",t.Unknown="unknown",t}(Ja||{}),Bv=function(t){return t.Portrait="portrait",t.Landscape="landscape",t}(Bv||{}),kv="iPad",uS=(()=>{let e=class e{constructor(r){this.platformId=r,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new Vv,this.deviceType="",this.orientation="",eu(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(r=this.userAgent){r!==this.userAgent&&(this.userAgent=r);let i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(o=>{this[o.prop]=Object.keys(Vn[o.const]).reduce((s,a)=>Vn[o.const][a]==="device"&&eu(this.platformId)&&(this.reTree.test(this.userAgent,os[kv])||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)?(s[Vn[o.const][a]]=kv,Object):(s[Vn[o.const][a]]=this.reTree.test(r,Vn[`${o.const}_RE`][a]),s),{})}),i.forEach(o=>{this[o.prop]=Object.keys(Vn[o.const]).map(s=>Vn[o.const][s]).reduce((s,a)=>o.prop==="device"&&s===Vn[o.const].ANDROID?this[o.prop][a]?a:s:s===Vn[o.const].UNKNOWN&&this[o.prop][a]?a:s,Vn[o.const].UNKNOWN)}),this.browser_version="0",this.browser!==Hv.UNKNOWN){let o=cS[this.browser],s=this.reTree.exec(r,o);s&&(this.browser_version=s[1])}typeof window<"u"&&window.matchMedia?this.orientation=window.matchMedia("(orientation: landscape)").matches?Bv.Landscape:Bv.Portrait:this.orientation=ss.UKNOWN,this.deviceType=this.isTablet()?Ja.Tablet:this.isMobile(this.userAgent)?Ja.Mobile:this.isDesktop(this.userAgent)?Ja.Desktop:Ja.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(r=this.userAgent){return this.isTablet(r)?!1:!!Object.keys(Vd).find(o=>this.reTree.test(r,Vd[o]))}isTablet(r=this.userAgent){return eu(this.platformId)&&(this.reTree.test(this.userAgent,os[kv])||typeof navigator<"u"&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)?!0:!!Object.keys(os).find(o=>!!this.reTree.test(r,os[o]))}isDesktop(r=this.userAgent){return this.device===$r.UNKNOWN&&(this.isMobile(r)||this.isTablet(r))?!1:aS.indexOf(this.device)>-1}};e.\u0275fac=function(i){return new(i||e)(T(tt))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dS=(()=>{class t{deviceDetectorService;constructor(n){this.deviceDetectorService=n}ngOnInit(){this.determineFontSize(window.innerWidth),window.addEventListener("resize",()=>this.determineFontSize(window.innerWidth))}determineFontSize(n){let r=window.innerWidth>window.innerHeight?"landscape":"portrait",i=Ld.rootFontSize,o=1920;this.deviceDetectorService.isMobile()?r==="landscape"?(o=915,i=13):(o=412,i=12):this.deviceDetectorService.isTablet()&&(r==="landscape"?o=1280:o=768);let s=window.outerWidth/window.outerHeight,a=2,l=i;s>a&&n>o&&this.deviceDetectorService.isDesktop()||(l=n/o*i),document.documentElement.style.setProperty("font-size",`${l.toFixed(3)}px`)}static \u0275fac=function(r){return new(r||t)(V(uS))};static \u0275cmp=Ht({type:t,selectors:[["app-root"]],standalone:!0,features:[Ut],decls:1,vars:0,consts:[[1,"outlet"]],template:function(r,i){r&1&&An(0,"router-outlet",0)},dependencies:[ag],styles:[".frikandelbroodje[_ngcontent-%COMP%]{color:red}"]})}return t})();UT(dS,sS).catch(t=>console.error(t));
