import{A as Zi,B as zg,C as qg,D as I,E as Fe,F as he,G as Jc,H as Qg,I as Ki,J as be,K as Ht,L as qs,M as eu,N as Yg,O as Ir,P as Xi,Q as Zg,R as Kg,S as un,T as Be,a as y,b as H,c as re,d as Pg,e as Hs,f as Fg,g as Lg,h as m,i as Er,j as Ws,k as Vg,l as jg,m as ve,n as Bg,o as Xc,p as Ug,q as Tt,r as $g,s as Hg,t as Gs,u as de,v as Wg,w as Gg,x as Je,y as cn,z as zs}from"./chunk-YI2MOBZN.js";function Xg(t,e){return Object.is(t,e)}var pe=null,Qs=!1,Ys=1,Wt=Symbol("SIGNAL");function B(t){let e=pe;return pe=t,e}function Jg(){return pe}var eo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ru(t){if(Qs)throw new Error("");if(pe===null)return;pe.consumerOnSignalRead(t);let e=pe.nextProducerIndex++;if(Js(pe),e<pe.producerNode.length&&pe.producerNode[e]!==t&&Ji(pe)){let n=pe.producerNode[e];Xs(n,pe.producerIndexOfThis[e])}pe.producerNode[e]!==t&&(pe.producerNode[e]=t,pe.producerIndexOfThis[e]=Ji(pe)?rm(t,pe,e):0),pe.producerLastReadVersion[e]=t.version}function oI(){Ys++}function em(t){if(!(Ji(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ys)){if(!t.producerMustRecompute(t)&&!ou(t)){t.dirty=!1,t.lastCleanEpoch=Ys;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ys}}function tm(t){if(t.liveConsumerNode===void 0)return;let e=Qs;Qs=!0;try{for(let n of t.liveConsumerNode)n.dirty||sI(n)}finally{Qs=e}}function nm(){return pe?.consumerAllowSignalWrites!==!1}function sI(t){t.dirty=!0,tm(t),t.consumerMarkedDirty?.(t)}function Ks(t){return t&&(t.nextProducerIndex=0),B(t)}function iu(t,e){if(B(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ji(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Xs(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ou(t){Js(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(em(n),r!==n.version))return!0}return!1}function su(t){if(Js(t),Ji(t))for(let e=0;e<t.producerNode.length;e++)Xs(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function rm(t,e,n){if(im(t),t.liveConsumerNode.length===0&&om(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=rm(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Xs(t,e){if(im(t),t.liveConsumerNode.length===1&&om(t))for(let r=0;r<t.producerNode.length;r++)Xs(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Js(i),i.producerIndexOfThis[r]=e}}function Ji(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Js(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function im(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function om(t){return t.producerNode!==void 0}function sm(t){let e=Object.create(aI);e.computation=t;let n=()=>{if(em(e),ru(e),e.value===Zs)throw e.error;return e.value};return n[Wt]=e,n}var tu=Symbol("UNSET"),nu=Symbol("COMPUTING"),Zs=Symbol("ERRORED"),aI=H(y({},eo),{value:tu,dirty:!0,error:null,equal:Xg,producerMustRecompute(t){return t.value===tu||t.value===nu},producerRecomputeValue(t){if(t.value===nu)throw new Error("Detected cycle in computations.");let e=t.value;t.value=nu;let n=Ks(t),r;try{r=t.computation()}catch(i){r=Zs,t.error=i}finally{iu(t,n)}if(e!==tu&&e!==Zs&&r!==Zs&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function lI(){throw new Error}var am=lI;function lm(){am()}function cm(t){am=t}var cI=null;function um(t){let e=Object.create(fm);e.value=t;let n=()=>(ru(e),e.value);return n[Wt]=e,n}function au(t,e){nm()||lm(),t.equal(t.value,e)||(t.value=e,uI(t))}function dm(t,e){nm()||lm(),au(t,e(t.value))}var fm=H(y({},eo),{equal:Xg,value:void 0});function uI(t){t.version++,oI(),tm(t),cI?.()}function A(t){return typeof t=="function"}function br(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ea=br(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Bn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ae=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(A(r))try{r()}catch(o){e=o instanceof ea?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{hm(o)}catch(s){e=e??[],s instanceof ea?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ea(e)}}add(e){var n;if(e&&e!==this)if(this.closed)hm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Bn(n,e)}remove(e){let{_finalizers:n}=this;n&&Bn(n,e),e instanceof t&&e._removeParent(this)}};ae.EMPTY=(()=>{let t=new ae;return t.closed=!0,t})();var lu=ae.EMPTY;function ta(t){return t instanceof ae||t&&"closed"in t&&A(t.remove)&&A(t.add)&&A(t.unsubscribe)}function hm(t){A(t)?t():t.unsubscribe()}var ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Sr={setTimeout(t,e,...n){let{delegate:r}=Sr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Sr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function na(t){Sr.setTimeout(()=>{let{onUnhandledError:e}=ht;if(e)e(t);else throw t})}function Un(){}var pm=cu("C",void 0,void 0);function gm(t){return cu("E",void 0,t)}function mm(t){return cu("N",t,void 0)}function cu(t,e,n){return{kind:t,value:e,error:n}}var $n=null;function Tr(t){if(ht.useDeprecatedSynchronousErrorHandling){let e=!$n;if(e&&($n={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=$n;if($n=null,n)throw r}}else t()}function vm(t){ht.useDeprecatedSynchronousErrorHandling&&$n&&($n.errorThrown=!0,$n.error=t)}var Hn=class extends ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ta(e)&&e.add(this)):this.destination=hI}static create(e,n,r){return new Gt(e,n,r)}next(e){this.isStopped?du(mm(e),this):this._next(e)}error(e){this.isStopped?du(gm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?du(pm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dI=Function.prototype.bind;function uu(t,e){return dI.call(t,e)}var fu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ra(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ra(r)}else ra(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ra(n)}}},Gt=class extends Hn{constructor(e,n,r){super();let i;if(A(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ht.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uu(e.next,o),error:e.error&&uu(e.error,o),complete:e.complete&&uu(e.complete,o)}):i=e}this.destination=new fu(i)}};function ra(t){ht.useDeprecatedSynchronousErrorHandling?vm(t):na(t)}function fI(t){throw t}function du(t,e){let{onStoppedNotification:n}=ht;n&&Sr.setTimeout(()=>n(t,e))}var hI={closed:!0,next:Un,error:fI,complete:Un};var Mr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function De(t){return t}function hu(...t){return pu(t)}function pu(t){return t.length===0?De:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var U=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=gI(n)?n:new Gt(n,r,i);return Tr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ym(r),new r((i,o)=>{let s=new Gt({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Mr](){return this}pipe(...n){return pu(n)(this)}toPromise(n){return n=ym(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ym(t){var e;return(e=t??ht.Promise)!==null&&e!==void 0?e:Promise}function pI(t){return t&&A(t.next)&&A(t.error)&&A(t.complete)}function gI(t){return t&&t instanceof Hn||pI(t)&&ta(t)}function gu(t){return A(t?.lift)}function O(t){return e=>{if(gu(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function x(t,e,n,r,i){return new mu(t,e,n,r,i)}var mu=class extends Hn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ar(){return O((t,e)=>{let n=null;t._refCount++;let r=x(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Nr=class extends U{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ae;let n=this.getSubject();e.add(this.source.subscribe(x(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ae.EMPTY)}return e}refCount(){return Ar()(this)}};var _m=br(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=(()=>{class t extends U{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ia(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _m}next(n){Tr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Tr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Tr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?lu:(this.currentObservers=null,o.push(n),new ae(()=>{this.currentObservers=null,Bn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new U;return n.source=this,n}}return t.create=(e,n)=>new ia(e,n),t})(),ia=class extends ie{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:lu}};var we=class extends ie{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var to={now(){return(to.delegate||Date).now()},delegate:void 0};var oa=class extends ie{constructor(e=1/0,n=1/0,r=to){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var sa=class extends ae{constructor(e,n){super()}schedule(e,n=0){return this}};var no={setInterval(t,e,...n){let{delegate:r}=no;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=no;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var xr=class extends sa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return no.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&no.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Bn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Rr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Rr.now=to.now;var Or=class extends Rr{constructor(e,n=Rr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ro=new Or(xr);var aa=class extends xr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var la=class extends Or{};var vu=new la(aa);var Se=new U(t=>t.complete());function Cm(t){return t&&A(t.schedule)}function yu(t){return t[t.length-1]}function kr(t){return A(yu(t))?t.pop():void 0}function Mt(t){return Cm(yu(t))?t.pop():void 0}function Dm(t,e){return typeof yu(t)=="number"?t.pop():e}var ca=t=>t&&typeof t.length=="number"&&typeof t!="function";function ua(t){return A(t?.then)}function da(t){return A(t[Mr])}function fa(t){return Symbol.asyncIterator&&A(t?.[Symbol.asyncIterator])}function ha(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function mI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pa=mI();function ga(t){return A(t?.[pa])}function ma(t){return Fg(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Hs(n.read());if(i)return yield Hs(void 0);yield yield Hs(r)}}finally{n.releaseLock()}})}function va(t){return A(t?.getReader)}function Z(t){if(t instanceof U)return t;if(t!=null){if(da(t))return vI(t);if(ca(t))return yI(t);if(ua(t))return _I(t);if(fa(t))return wm(t);if(ga(t))return CI(t);if(va(t))return DI(t)}throw ha(t)}function vI(t){return new U(e=>{let n=t[Mr]();if(A(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yI(t){return new U(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function _I(t){return new U(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,na)})}function CI(t){return new U(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function wm(t){return new U(e=>{wI(t,e).catch(n=>e.error(n))})}function DI(t){return wm(ma(t))}function wI(t,e){var n,r,i,o;return Pg(this,void 0,void 0,function*(){try{for(n=Lg(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Le(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function et(t,e=0){return O((n,r)=>{n.subscribe(x(r,i=>Le(r,t,()=>r.next(i),e),()=>Le(r,t,()=>r.complete(),e),i=>Le(r,t,()=>r.error(i),e)))})}function pt(t,e=0){return O((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Em(t,e){return Z(t).pipe(pt(e),et(e))}function Im(t,e){return Z(t).pipe(pt(e),et(e))}function bm(t,e){return new U(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Sm(t,e){return new U(n=>{let r;return Le(n,e,()=>{r=t[pa](),Le(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>A(r?.return)&&r.return()})}function ya(t,e){if(!t)throw new Error("Iterable cannot be null");return new U(n=>{Le(n,e,()=>{let r=t[Symbol.asyncIterator]();Le(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Tm(t,e){return ya(ma(t),e)}function Mm(t,e){if(t!=null){if(da(t))return Em(t,e);if(ca(t))return bm(t,e);if(ua(t))return Im(t,e);if(fa(t))return ya(t,e);if(ga(t))return Sm(t,e);if(va(t))return Tm(t,e)}throw ha(t)}function J(t,e){return e?Mm(t,e):Z(t)}function S(...t){let e=Mt(t);return J(t,e)}function Pr(t,e){let n=A(t)?t:()=>t,r=i=>i.error(n());return new U(e?i=>e.schedule(r,0,i):r)}function _u(t){return!!t&&(t instanceof U||A(t.lift)&&A(t.subscribe))}var zt=br(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function T(t,e){return O((n,r)=>{let i=0;n.subscribe(x(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:EI}=Array;function II(t,e){return EI(e)?t(...e):t(e)}function _a(t){return T(e=>II(t,e))}var{isArray:bI}=Array,{getPrototypeOf:SI,prototype:TI,keys:MI}=Object;function Ca(t){if(t.length===1){let e=t[0];if(bI(e))return{args:e,keys:null};if(AI(e)){let n=MI(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function AI(t){return t&&typeof t=="object"&&SI(t)===TI}function Da(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function wa(...t){let e=Mt(t),n=kr(t),{args:r,keys:i}=Ca(t);if(r.length===0)return J([],e);let o=new U(NI(r,e,i?s=>Da(i,s):De));return n?o.pipe(_a(n)):o}function NI(t,e,n=De){return r=>{Am(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Am(e,()=>{let c=J(t[l],e),u=!1;c.subscribe(x(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Am(t,e,n){t?Le(n,t,e):e()}function Nm(t,e,n,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=g=>c<r?p(g):l.push(g),p=g=>{o&&e.next(g),c++;let C=!1;Z(n(g,u++)).subscribe(x(e,w=>{i?.(w),o?h(w):e.next(w)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){let w=l.shift();s?Le(e,s,()=>p(w)):p(w)}f()}catch(w){e.error(w)}}))};return t.subscribe(x(e,h,()=>{d=!0,f()})),()=>{a?.()}}function ge(t,e,n=1/0){return A(e)?ge((r,i)=>T((o,s)=>e(r,o,i,s))(Z(t(r,i))),n):(typeof e=="number"&&(n=e),O((r,i)=>Nm(r,i,t,n)))}function io(t=1/0){return ge(De,t)}function xm(){return io(1)}function Fr(...t){return xm()(J(t,Mt(t)))}function Ea(t){return new U(e=>{Z(t()).subscribe(e)})}function Cu(...t){let e=kr(t),{args:n,keys:r}=Ca(t),i=new U(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Z(n[u]).subscribe(x(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Da(r,a):a),o.complete())}))}});return e?i.pipe(_a(e)):i}function Lr(...t){let e=Mt(t),n=Dm(t,1/0),r=t;return r.length?r.length===1?Z(r[0]):io(n)(J(r,e)):Se}function Ue(t,e){return O((n,r)=>{let i=0;n.subscribe(x(r,o=>t.call(e,o,i++)&&r.next(o)))})}function dn(t){return O((e,n)=>{let r=null,i=!1,o;r=e.subscribe(x(n,void 0,void 0,s=>{o=Z(t(s,dn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Rm(t,e,n,r,i){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(x(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Vr(t,e){return A(e)?ge(t,e,1):ge(t,1)}function fn(t){return O((e,n)=>{let r=!1;e.subscribe(x(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function qt(t){return t<=0?()=>Se:O((e,n)=>{let r=0;e.subscribe(x(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Du(t){return T(()=>t)}function wu(t,e=De){return t=t??xI,O((n,r)=>{let i,o=!0;n.subscribe(x(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function xI(t,e){return t===e}function Ia(t=RI){return O((e,n)=>{let r=!1;e.subscribe(x(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function RI(){return new zt}function oo(t){return O((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Te(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ue((i,o)=>t(i,o,r)):De,qt(1),n?fn(e):Ia(()=>new zt))}function jr(t){return t<=0?()=>Se:O((e,n)=>{let r=[];e.subscribe(x(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Eu(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ue((i,o)=>t(i,o,r)):De,jr(1),n?fn(e):Ia(()=>new zt))}function Br(t,e){return O(Rm(t,e,arguments.length>=2,!0))}function so(t={}){let{connector:e=()=>new ie,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},p=()=>{let g=s;h(),g?.unsubscribe()};return O((g,C)=>{c++,!d&&!u&&f();let w=l=l??e();C.add(()=>{c--,c===0&&!d&&!u&&(a=Iu(p,i))}),w.subscribe(C),!s&&c>0&&(s=new Gt({next:$=>w.next($),error:$=>{d=!0,f(),a=Iu(h,n,$),w.error($)},complete:()=>{u=!0,f(),a=Iu(h,r),w.complete()}}),Z(g).subscribe(s))})(o)}}function Iu(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Gt({next:()=>{r.unsubscribe(),t()}});return Z(e(...n)).subscribe(r)}function ba(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,so({connector:()=>new oa(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function bu(t){return O((e,n)=>{let r=!1,i=0;e.subscribe(x(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}function Su(...t){let e=Mt(t);return O((n,r)=>{(e?Fr(t,n,e):Fr(t,n)).subscribe(r)})}function oe(t,e){return O((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(x(r,l=>{i?.unsubscribe();let c=0,u=o++;Z(t(l,u)).subscribe(i=x(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Sa(t,e){return A(e)?oe(()=>t,e):oe(()=>t)}function Tu(t){return O((e,n)=>{Z(t).subscribe(x(n,()=>n.complete(),Un)),!n.closed&&e.subscribe(n)})}function me(t,e,n){let r=A(t)||e||n?{next:t,error:e,complete:n}:t;return r?O((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(x(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):De}function Mu(...t){let e=kr(t);return O((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let l=0;l<i;l++)Z(t[l]).subscribe(x(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(De))&&(s=null))},Un));n.subscribe(x(r,l=>{if(a){let c=[l,...o];r.next(e?e(...c):c)}}))})}var OI="https://g.co/ng/security#xss",b=class extends Error{constructor(e,n){super(kd(e,n)),this.code=e}};function kd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function wo(t){return{toString:t}.toString()}var Ta="__parameters__";function kI(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function PI(t,e,n){return wo(()=>{let r=kI(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Ta)?l[Ta]:Object.defineProperty(l,Ta,{value:[]})[Ta];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Wu=globalThis;function K(t){for(let e in t)if(t[e]===K)return e;throw Error("Could not find renamed property on target object.")}function FI(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ve(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ve).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Om(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var LI=K({__forward_ref__:K});function Ot(t){return t.__forward_ref__=Ot,t.toString=function(){return Ve(this())},t}function Me(t){return mv(t)?t():t}function mv(t){return typeof t=="function"&&t.hasOwnProperty(LI)&&t.__forward_ref__===Ot}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _t(t){return{providers:t.providers||[],imports:t.imports||[]}}function tl(t){return km(t,yv)||km(t,_v)}function vv(t){return tl(t)!==null}function km(t,e){return t.hasOwnProperty(e)?t[e]:null}function VI(t){let e=t&&(t[yv]||t[_v]);return e||null}function Pm(t){return t&&(t.hasOwnProperty(Fm)||t.hasOwnProperty(jI))?t[Fm]:null}var yv=K({\u0275prov:K}),Fm=K({\u0275inj:K}),_v=K({ngInjectableDef:K}),jI=K({ngInjectorDef:K}),D=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cv(t){return t&&!!t.\u0275providers}var BI=K({\u0275cmp:K}),UI=K({\u0275dir:K}),$I=K({\u0275pipe:K}),HI=K({\u0275mod:K}),Pa=K({\u0275fac:K}),ao=K({__NG_ELEMENT_ID__:K}),Lm=K({__NG_ENV_ID__:K});function Dv(t){return typeof t=="string"?t:t==null?"":String(t)}function WI(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Dv(t)}function GI(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,t)}function Pd(t,e){throw new b(-201,!1)}var F=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(F||{}),Gu;function wv(){return Gu}function tt(t){let e=Gu;return Gu=t,e}function Ev(t,e,n){let r=tl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&F.Optional)return null;if(e!==void 0)return e;Pd(t,"Injector")}var zI={},lo=zI,zu="__NG_DI_FLAG__",Fa="ngTempTokenPath",qI="ngTokenPath",QI=/\n/gm,YI="\u0275",Vm="__source",Wr;function ZI(){return Wr}function hn(t){let e=Wr;return Wr=t,e}function KI(t,e=F.Default){if(Wr===void 0)throw new b(-203,!1);return Wr===null?Ev(t,void 0,e):Wr.get(t,e&F.Optional?null:void 0,e)}function _(t,e=F.Default){return(wv()||KI)(Me(t),e)}function v(t,e=F.Default){return _(t,nl(e))}function nl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function qu(t){let e=[];for(let n=0;n<t.length;n++){let r=Me(t[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,o=F.Default;for(let s=0;s<r.length;s++){let a=r[s],l=JI(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(_(i,o))}else e.push(_(r))}return e}function XI(t,e){return t[zu]=e,t.prototype[zu]=e,t}function JI(t){return t[zu]}function eb(t,e,n,r){let i=t[Fa];throw e[Vm]&&i.unshift(e[Vm]),t.message=tb(`
`+t.message,i,n,r),t[qI]=i,t[Fa]=null,t}function tb(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==YI?t.slice(2):t;let i=Ve(e);if(Array.isArray(e))i=e.map(Ve).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ve(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(QI,`
  `)}`}var rl=XI(PI("Optional"),8);function zr(t,e){let n=t.hasOwnProperty(Pa);return n?t[Pa]:null}function Fd(t,e){t.forEach(n=>Array.isArray(n)?Fd(n,e):e(n))}function Iv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function La(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function nb(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function rb(t,e,n){let r=Eo(t,e);return r>=0?t[r|1]=n:(r=~r,nb(t,r,e,n)),r}function Au(t,e){let n=Eo(t,e);if(n>=0)return t[n|1]}function Eo(t,e){return ib(t,e,1)}function ib(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var qr={},nt=[],Qr=new D(""),bv=new D("",-1),Sv=new D(""),Va=class{get(e,n=lo){if(n===lo){let r=new Error(`NullInjectorError: No provider for ${Ve(e)}!`);throw r.name="NullInjectorError",r}return n}},Tv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Tv||{}),xt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xt||{}),mn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(mn||{});function ob(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Qu(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];ab(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function sb(t){return t===3||t===4||t===6}function ab(t){return t.charCodeAt(0)===64}function co(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?jm(t,n,i,null,e[++r]):jm(t,n,i,null,null))}}return t}function jm(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Mv="ng-template";function lb(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ob(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ld(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ld(t){return t.type===4&&t.value!==Mv}function cb(t,e,n){let r=t.type===4&&!n?Mv:t.value;return e===r}function ub(t,e,n){let r=4,i=t.attrs,o=i!==null?hb(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!gt(r)&&!gt(l))return!1;if(s&&gt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!cb(t,l,n)||l===""&&e.length===1){if(gt(r))return!1;s=!0}}else if(r&8){if(i===null||!lb(t,i,l,n)){if(gt(r))return!1;s=!0}}else{let c=e[++a],u=db(l,i,Ld(t),n);if(u===-1){if(gt(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(gt(r))return!1;s=!0}}}}return gt(r)||s}function gt(t){return(t&1)===0}function db(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return pb(e,t)}function fb(t,e,n=!1){for(let r=0;r<e.length;r++)if(ub(t,e[r],n))return!0;return!1}function hb(t){for(let e=0;e<t.length;e++){let n=t[e];if(sb(n))return e}return t.length}function pb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Bm(t,e){return t?":not("+e.trim()+")":e}function gb(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!gt(s)&&(e+=Bm(o,i),i=""),r=s,o=o||!gt(r);n++}return i!==""&&(e+=Bm(o,i)),e}function mb(t){return t.map(gb).join(",")}function vb(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!gt(i))break;i=o}r++}return{attrs:e,classes:n}}function kt(t){return wo(()=>{let e=Ov(t),n=H(y({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Tv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xt.Emulated,styles:t.styles||nt,_:null,schemas:t.schemas||null,tView:null,id:""});kv(n);let r=t.dependencies;return n.directiveDefs=$m(r,!1),n.pipeDefs=$m(r,!0),n.id=Cb(n),n})}function yb(t){return zn(t)||Av(t)}function _b(t){return t!==null}function Ct(t){return wo(()=>({type:t.type,bootstrap:t.bootstrap||nt,declarations:t.declarations||nt,imports:t.imports||nt,exports:t.exports||nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Um(t,e){if(t==null)return qr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=mn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==mn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function je(t){return wo(()=>{let e=Ov(t);return kv(e),e})}function zn(t){return t[BI]||null}function Av(t){return t[UI]||null}function Nv(t){return t[$I]||null}function xv(t){let e=zn(t)||Av(t)||Nv(t);return e!==null?e.standalone:!1}function Rv(t,e){let n=t[HI]||null;if(!n&&e===!0)throw new Error(`Type ${Ve(t)} does not have '\u0275mod' property.`);return n}function Ov(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||qr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||nt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Um(t.inputs,e),outputs:Um(t.outputs),debugInfo:null}}function kv(t){t.features?.forEach(e=>e(t))}function $m(t,e){if(!t)return null;let n=e?Nv:yb;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(_b)}function Cb(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function il(t){return{\u0275providers:t}}function Vd(...t){return{\u0275providers:Pv(!0,t),\u0275fromNgModule:!0}}function Pv(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Fd(e,s=>{let a=s;Yu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Fv(i,o),n}function Fv(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];jd(i,o=>{e(o,r)})}}function Yu(t,e,n,r){if(t=Me(t),!t)return!1;let i=null,o=Pm(t),s=!o&&zn(t);if(!o&&!s){let l=t.ngModule;if(o=Pm(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Yu(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Fd(o.imports,u=>{Yu(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Fv(c,e)}if(!a){let c=zr(i)||(()=>new i);e({provide:i,useFactory:c,deps:nt},i),e({provide:Sv,useValue:i,multi:!0},i),e({provide:Qr,useValue:()=>_(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;jd(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function jd(t,e){for(let n of t)Cv(n)&&(n=n.\u0275providers),Array.isArray(n)?jd(n,e):e(n)}var Db=K({provide:String,useValue:K});function Lv(t){return t!==null&&typeof t=="object"&&Db in t}function wb(t){return!!(t&&t.useExisting)}function Eb(t){return!!(t&&t.useFactory)}function Yr(t){return typeof t=="function"}function Ib(t){return!!t.useClass}var ol=new D(""),Na={},bb={},Nu;function Bd(){return Nu===void 0&&(Nu=new Va),Nu}var it=class{},uo=class extends it{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ku(e,s=>this.processProvider(s)),this.records.set(bv,Ur(void 0,this)),i.has("environment")&&this.records.set(it,Ur(void 0,this));let o=this.records.get(ol);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Sv,nt,F.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=B(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),B(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=hn(this),r=tt(void 0),i;try{return e()}finally{hn(n),tt(r)}}get(e,n=lo,r=F.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Lm))return e[Lm](this);r=nl(r);let i,o=hn(this),s=tt(void 0);try{if(!(r&F.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=Nb(e)&&tl(e);c&&this.injectableDefInScope(c)?l=Ur(Zu(e),Na):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&F.Self?Bd():this.parent;return n=r&F.Optional&&n===lo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Fa]=a[Fa]||[]).unshift(Ve(e)),o)throw a;return eb(a,e,"R3InjectorError",this.source)}else throw a}finally{tt(s),hn(o)}}resolveInjectorInitializers(){let e=B(null),n=hn(this),r=tt(void 0),i;try{let o=this.get(Qr,nt,F.Self);for(let s of o)s()}finally{hn(n),tt(r),B(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ve(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){e=Me(e);let n=Yr(e)?e:Me(e&&e.provide),r=Tb(e);if(!Yr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ur(void 0,Na,!0),i.factory=()=>qu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=B(null);try{return n.value===Na&&(n.value=bb,n.value=n.factory()),typeof n.value=="object"&&n.value&&Ab(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{B(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Me(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Zu(t){let e=tl(t),n=e!==null?e.factory:zr(t);if(n!==null)return n;if(t instanceof D)throw new b(204,!1);if(t instanceof Function)return Sb(t);throw new b(204,!1)}function Sb(t){if(t.length>0)throw new b(204,!1);let n=VI(t);return n!==null?()=>n.factory(t):()=>new t}function Tb(t){if(Lv(t))return Ur(void 0,t.useValue);{let e=Vv(t);return Ur(e,Na)}}function Vv(t,e,n){let r;if(Yr(t)){let i=Me(t);return zr(i)||Zu(i)}else if(Lv(t))r=()=>Me(t.useValue);else if(Eb(t))r=()=>t.useFactory(...qu(t.deps||[]));else if(wb(t))r=()=>_(Me(t.useExisting));else{let i=Me(t&&(t.useClass||t.provide));if(Mb(t))r=()=>new i(...qu(t.deps));else return zr(i)||Zu(i)}return r}function Ur(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Mb(t){return!!t.deps}function Ab(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Nb(t){return typeof t=="function"||typeof t=="object"&&t instanceof D}function Ku(t,e){for(let n of t)Array.isArray(n)?Ku(n,e):n&&Cv(n)?Ku(n.\u0275providers,e):e(n)}function Xt(t,e){t instanceof uo&&t.assertNotDestroyed();let n,r=hn(t),i=tt(void 0);try{return e()}finally{hn(r),tt(i)}}function xb(){return wv()!==void 0||ZI()!=null}function Rb(t){return typeof t=="function"}var Jt=0,P=1,N=2,xe=3,mt=4,Dt=5,fo=6,ja=7,Ae=8,Zr=9,Qt=10,ye=11,ho=12,Hm=13,oi=14,vt=15,Kr=16,$r=17,Xr=18,sl=19,jv=20,pn=21,xu=22,rt=23,yt=25,Bv=1;var qn=7,Ba=8,Ua=9,Ne=10,$a=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}($a||{});function gn(t){return Array.isArray(t)&&typeof t[Bv]=="object"}function en(t){return Array.isArray(t)&&t[Bv]===!0}function Uv(t){return(t.flags&4)!==0}function al(t){return t.componentOffset>-1}function Ud(t){return(t.flags&1)===1}function vn(t){return!!t.template}function Xu(t){return(t[N]&512)!==0}var Ju=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function $v(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Cn(){return Hv}function Hv(t){return t.type.prototype.ngOnChanges&&(t.setInput=kb),Ob}Cn.ngInherit=!0;function Ob(){let t=Gv(this),e=t?.current;if(e){let n=t.previous;if(n===qr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function kb(t,e,n,r,i){let o=this.declaredInputs[r],s=Gv(t)||Pb(t,{previous:qr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Ju(c&&c.currentValue,n,l===qr),$v(t,e,i,n)}var Wv="__ngSimpleChanges__";function Gv(t){return t[Wv]||null}function Pb(t,e){return t[Wv]=e}var Wm=null;var At=function(t,e,n){Wm?.(t,e,n)},Fb="svg",Lb="math";function Rt(t){for(;Array.isArray(t);)t=t[Jt];return t}function zv(t,e){return Rt(e[t])}function wt(t,e){return Rt(e[t.index])}function $d(t,e){return t.data[e]}function Dn(t,e){let n=e[t];return gn(n)?n:n[Jt]}function Hd(t){return(t[N]&128)===128}function Vb(t){return en(t[xe])}function Jr(t,e){return e==null?null:t[e]}function qv(t){t[$r]=0}function Qv(t){t[N]&1024||(t[N]|=1024,Hd(t)&&ll(t))}function jb(t,e){for(;t>0;)e=e[oi],t--;return e}function po(t){return!!(t[N]&9216||t[rt]?.dirty)}function ed(t){t[Qt].changeDetectionScheduler?.notify(7),t[N]&64&&(t[N]|=1024),po(t)&&ll(t)}function ll(t){t[Qt].changeDetectionScheduler?.notify(0);let e=Qn(t);for(;e!==null&&!(e[N]&8192||(e[N]|=8192,!Hd(e)));)e=Qn(e)}function Yv(t,e){if((t[N]&256)===256)throw new b(911,!1);t[pn]===null&&(t[pn]=[]),t[pn].push(e)}function Bb(t,e){if(t[pn]===null)return;let n=t[pn].indexOf(e);n!==-1&&t[pn].splice(n,1)}function Qn(t){let e=t[xe];return en(e)?e[xe]:e}var W={lFrame:iy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zv=!1;function Ub(){return W.lFrame.elementDepthCount}function $b(){W.lFrame.elementDepthCount++}function Hb(){W.lFrame.elementDepthCount--}function Kv(){return W.bindingsEnabled}function Wb(){return W.skipHydrationRootTNode!==null}function Gb(t){return W.skipHydrationRootTNode===t}function zb(){W.skipHydrationRootTNode=null}function te(){return W.lFrame.lView}function $e(){return W.lFrame.tView}function He(){let t=Xv();for(;t!==null&&t.type===64;)t=t.parent;return t}function Xv(){return W.lFrame.currentTNode}function qb(){let t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Io(t,e){let n=W.lFrame;n.currentTNode=t,n.isParent=e}function Jv(){return W.lFrame.isParent}function Qb(){W.lFrame.isParent=!1}function ey(){return Zv}function Gm(t){Zv=t}function Yb(t){return W.lFrame.bindingIndex=t}function bo(){return W.lFrame.bindingIndex++}function Zb(t){let e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Kb(){return W.lFrame.inI18n}function Xb(t,e){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,td(e)}function Jb(){return W.lFrame.currentDirectiveIndex}function td(t){W.lFrame.currentDirectiveIndex=t}function e0(t){let e=W.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ty(t){W.lFrame.currentQueryIndex=t}function t0(t){let e=t[P];return e.type===2?e.declTNode:e.type===1?t[Dt]:null}function ny(t,e,n){if(n&F.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&F.Host);)if(i=t0(o),i===null||(o=o[oi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=W.lFrame=ry();return r.currentTNode=e,r.lView=t,!0}function Wd(t){let e=ry(),n=t[P];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ry(){let t=W.lFrame,e=t===null?null:t.child;return e===null?iy(t):e}function iy(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function oy(){let t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var sy=oy;function Gd(){let t=oy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function n0(t){return(W.lFrame.contextLView=jb(t,W.lFrame.contextLView))[Ae]}function Jn(){return W.lFrame.selectedIndex}function Yn(t){W.lFrame.selectedIndex=t}function ay(){let t=W.lFrame;return $d(t.tView,t.selectedIndex)}function r0(){return W.lFrame.currentNamespace}var ly=!0;function zd(){return ly}function qd(t){ly=t}function i0(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Hv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Qd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function xa(t,e,n){cy(t,e,3,n)}function Ra(t,e,n,r){(t[N]&3)===n&&cy(t,e,n,r)}function Ru(t,e){let n=t[N];(n&3)===e&&(n&=16383,n+=1,t[N]=n)}function cy(t,e,n,r){let i=r!==void 0?t[$r]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[$r]+=65536),(a<o||o==-1)&&(o0(t,n,e,l),t[$r]=(t[$r]&4294901760)+l+2),l++}function zm(t,e){At(4,t,e);let n=B(null);try{e.call(t)}finally{B(n),At(5,t,e)}}function o0(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[N]>>14<t[$r]>>16&&(t[N]&3)===e&&(t[N]+=16384,zm(a,o)):zm(a,o)}var Gr=-1,Zn=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function s0(t){return t instanceof Zn}function a0(t){return(t.flags&8)!==0}function l0(t){return(t.flags&16)!==0}var Ou={},nd=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=nl(r);let i=this.injector.get(e,Ou,r);return i!==Ou||n===Ou?i:this.parentInjector.get(e,n,r)}};function uy(t){return t!==Gr}function Ha(t){return t&32767}function c0(t){return t>>16}function Wa(t,e){let n=c0(t),r=e;for(;n>0;)r=r[oi],n--;return r}var rd=!0;function qm(t){let e=rd;return rd=t,e}var u0=256,dy=u0-1,fy=5,d0=0,Nt={};function f0(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ao)&&(r=n[ao]),r==null&&(r=n[ao]=d0++);let i=r&dy,o=1<<i;e.data[t+(i>>fy)]|=o}function Ga(t,e){let n=hy(t,e);if(n!==-1)return n;let r=e[P];r.firstCreatePass&&(t.injectorIndex=e.length,ku(r.data,t),ku(e,null),ku(r.blueprint,null));let i=Yd(t,e),o=t.injectorIndex;if(uy(i)){let s=Ha(i),a=Wa(i,e),l=a[P].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function ku(t,e){t.push(0,0,0,0,0,0,0,0,e)}function hy(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Yd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=yy(i),r===null)return Gr;if(n++,i=i[oi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Gr}function id(t,e,n){f0(t,e,n)}function py(t,e,n){if(n&F.Optional||t!==void 0)return t;Pd(e,"NodeInjector")}function gy(t,e,n,r){if(n&F.Optional&&r===void 0&&(r=null),!(n&(F.Self|F.Host))){let i=t[Zr],o=tt(void 0);try{return i?i.get(e,r,n&F.Optional):Ev(e,r,n&F.Optional)}finally{tt(o)}}return py(r,e,n)}function my(t,e,n,r=F.Default,i){if(t!==null){if(e[N]&2048&&!(r&F.Self)){let s=v0(t,e,n,r,Nt);if(s!==Nt)return s}let o=vy(t,e,n,r,Nt);if(o!==Nt)return o}return gy(e,n,r,i)}function vy(t,e,n,r,i){let o=g0(n);if(typeof o=="function"){if(!ny(e,t,r))return r&F.Host?py(i,n,r):gy(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&F.Optional))Pd(n);else return s}finally{sy()}}else if(typeof o=="number"){let s=null,a=hy(t,e),l=Gr,c=r&F.Host?e[vt][Dt]:null;for((a===-1||r&F.SkipSelf)&&(l=a===-1?Yd(t,e):e[a+8],l===Gr||!Ym(r,!1)?a=-1:(s=e[P],a=Ha(l),e=Wa(l,e)));a!==-1;){let u=e[P];if(Qm(o,a,u.data)){let d=h0(a,e,n,s,r,c);if(d!==Nt)return d}l=e[a+8],l!==Gr&&Ym(r,e[P].data[a+8]===c)&&Qm(o,a,e)?(s=u,a=Ha(l),e=Wa(l,e)):a=-1}}return i}function h0(t,e,n,r,i,o){let s=e[P],a=s.data[t+8],l=r==null?al(a)&&rd:r!=s&&(a.type&3)!==0,c=i&F.Host&&o===a,u=p0(a,s,n,l,c);return u!==null?ei(e,s,u,a):Nt}function p0(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){let h=s[l];if(h&&vn(h)&&h.type===n)return l}return null}function ei(t,e,n,r){let i=t[n],o=e.data;if(s0(i)){let s=i;s.resolving&&GI(WI(o[n]));let a=qm(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?tt(s.injectImpl):null,u=ny(t,r,F.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&i0(n,o[n],e)}finally{c!==null&&tt(c),qm(a),s.resolving=!1,sy()}}return i}function g0(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ao)?t[ao]:void 0;return typeof e=="number"?e>=0?e&dy:m0:e}function Qm(t,e,n){let r=1<<t;return!!(n[e+(t>>fy)]&r)}function Ym(t,e){return!(t&F.Self)&&!(t&F.Host&&e)}var Gn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return my(this._tNode,this._lView,e,nl(r),n)}};function m0(){return new Gn(He(),te())}function si(t){return wo(()=>{let e=t.prototype.constructor,n=e[Pa]||od(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Pa]||od(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function od(t){return mv(t)?()=>{let e=od(Me(t));return e&&e()}:zr(t)}function v0(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[N]&2048&&!(s[N]&512);){let a=vy(o,s,n,r|F.Self,Nt);if(a!==Nt)return a;let l=o.parent;if(!l){let c=s[jv];if(c){let u=c.get(n,Nt,r);if(u!==Nt)return u}l=yy(s),s=s[oi]}o=l}return i}function yy(t){let e=t[P],n=e.type;return n===2?e.declTNode:n===1?t[Dt]:null}function Zm(t,e=null,n=null,r){let i=_y(t,e,n,r);return i.resolveInjectorInitializers(),i}function _y(t,e=null,n=null,r,i=new Set){let o=[n||nt,Vd(t)];return r=r||(typeof t=="object"?void 0:Ve(t)),new uo(o,e||Bd(),r||null,i)}var Wn=class Wn{static create(e,n){if(Array.isArray(e))return Zm({name:""},n,e,"");{let r=e.name??"";return Zm({name:r},e.parent,e.providers,r)}}};Wn.THROW_IF_NOT_FOUND=lo,Wn.NULL=new Va,Wn.\u0275prov=E({token:Wn,providedIn:"any",factory:()=>_(bv)}),Wn.__NG_ELEMENT_ID__=-1;var yn=Wn;var y0=new D("");y0.__NG_ELEMENT_ID__=t=>{let e=He();if(e===null)throw new b(204,!1);if(e.type&2)return e.value;if(t&F.Optional)return null;throw new b(204,!1)};var _0="ngOriginalError";function Pu(t){return t[_0]}var Yt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Pu(e);for(;n&&Pu(n);)n=Pu(n);return n||null}},Cy=new D("",{providedIn:"root",factory:()=>v(Yt).handleError.bind(void 0)}),Dy=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=C0,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),sd=class extends Dy{constructor(e){super(),this._lView=e}onDestroy(e){return Yv(this._lView,e),()=>Bb(this._lView,e)}};function C0(){return new sd(te())}function D0(){return Zd(He(),te())}function Zd(t,e){return new er(wt(t,e))}var er=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=D0;let t=e;return t})();var ai=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new we(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var ad=class extends ie{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,xb()&&(this.destroyRef=v(Dy,{optional:!0})??void 0,this.pendingTasks=v(ai,{optional:!0})??void 0)}emit(e){let n=B(null);try{super.next(e)}finally{B(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ae&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ce=ad;function wy(t){return(t.flags&128)===128}var Ey=new Map,w0=0;function E0(){return w0++}function I0(t){Ey.set(t[sl],t)}function b0(t){Ey.delete(t[sl])}var Km="__ngContext__";function Kn(t,e){gn(e)?(t[Km]=e[sl],I0(e)):t[Km]=e}function Iy(t){return Sy(t[ho])}function by(t){return Sy(t[mt])}function Sy(t){for(;t!==null&&!en(t);)t=t[mt];return t}var ld;function Ty(t){ld=t}function S0(){if(ld!==void 0)return ld;if(typeof document<"u")return document;throw new b(210,!1)}var Kd=new D("",{providedIn:"root",factory:()=>T0}),T0="ng",Xd=new D(""),ot=new D("",{providedIn:"platform",factory:()=>"unknown"});var Jd=new D("",{providedIn:"root",factory:()=>S0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var M0="h",A0="b";var N0=()=>null;function ef(t,e,n=!1){return N0(t,e,n)}var My=!1,x0=new D("",{providedIn:"root",factory:()=>My});var cd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${OI})`}};function tf(t){return t instanceof cd?t.changingThisBreaksApplicationSecurity:t}function Ay(t){return t instanceof Function?t():t}var Zt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Zt||{}),R0;function nf(t,e){return R0(t,e)}function Hr(t,e,n,r,i){if(r!=null){let o,s=!1;en(r)?o=r:gn(r)&&(s=!0,r=r[Jt]);let a=Rt(r);t===0&&n!==null?i==null?Oy(e,n,a):za(e,n,a,i||null,!0):t===1&&n!==null?za(e,n,a,i||null,!0):t===2?Q0(e,a,s):t===3&&e.destroyNode(a),o!=null&&Z0(e,t,o,n,i)}}function O0(t,e){return t.createText(e)}function k0(t,e,n){t.setValue(e,n)}function Ny(t,e,n){return t.createElement(e,n)}function P0(t,e){xy(t,e),e[Jt]=null,e[Dt]=null}function F0(t,e,n,r,i,o){r[Jt]=i,r[Dt]=e,ul(t,r,n,1,i,o)}function xy(t,e){e[Qt].changeDetectionScheduler?.notify(8),ul(t,e,e[ye],2,null,null)}function L0(t){let e=t[ho];if(!e)return Fu(t[P],t);for(;e;){let n=null;if(gn(e))n=e[ho];else{let r=e[Ne];r&&(n=r)}if(!n){for(;e&&!e[mt]&&e!==t;)gn(e)&&Fu(e[P],e),e=e[xe];e===null&&(e=t),gn(e)&&Fu(e[P],e),n=e&&e[mt]}e=n}}function V0(t,e,n,r){let i=Ne+r,o=n.length;r>0&&(n[i-1][mt]=e),r<o-Ne?(e[mt]=n[i],Iv(n,Ne+r,e)):(n.push(e),e[mt]=null),e[xe]=n;let s=e[Kr];s!==null&&n!==s&&Ry(s,e);let a=e[Xr];a!==null&&a.insertView(t),ed(e),e[N]|=128}function Ry(t,e){let n=t[Ua],r=e[xe];if(gn(r))t[N]|=$a.HasTransplantedViews;else{let i=r[xe][vt];e[vt]!==i&&(t[N]|=$a.HasTransplantedViews)}n===null?t[Ua]=[e]:n.push(e)}function rf(t,e){let n=t[Ua],r=n.indexOf(e);n.splice(r,1)}function go(t,e){if(t.length<=Ne)return;let n=Ne+e,r=t[n];if(r){let i=r[Kr];i!==null&&i!==t&&rf(i,r),e>0&&(t[n-1][mt]=r[mt]);let o=La(t,Ne+e);P0(r[P],r);let s=o[Xr];s!==null&&s.detachView(o[P]),r[xe]=null,r[mt]=null,r[N]&=-129}return r}function cl(t,e){if(!(e[N]&256)){let n=e[ye];n.destroyNode&&ul(t,e,n,3,null,null),L0(e)}}function Fu(t,e){if(e[N]&256)return;let n=B(null);try{e[N]&=-129,e[N]|=256,e[rt]&&su(e[rt]),B0(t,e),j0(t,e),e[P].type===1&&e[ye].destroy();let r=e[Kr];if(r!==null&&en(e[xe])){r!==e[xe]&&rf(r,e);let i=e[Xr];i!==null&&i.detachView(t)}b0(e)}finally{B(n)}}function j0(t,e){let n=t.cleanup,r=e[ja];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ja]=null);let i=e[pn];if(i!==null){e[pn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function B0(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Zn)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];At(4,a,l);try{l.call(a)}finally{At(5,a,l)}}else{At(4,i,o);try{o.call(i)}finally{At(5,i,o)}}}}}function U0(t,e,n){return $0(t,e.parent,n)}function $0(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Jt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===xt.None||o===xt.Emulated)return null}return wt(r,n)}}function za(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Oy(t,e,n){t.appendChild(e,n)}function Xm(t,e,n,r,i){r!==null?za(t,e,n,r,i):Oy(t,e,n)}function H0(t,e,n,r){t.removeChild(e,n,r)}function of(t,e){return t.parentNode(e)}function W0(t,e){return t.nextSibling(e)}function G0(t,e,n){return q0(t,e,n)}function z0(t,e,n){return t.type&40?wt(t,n):null}var q0=z0,Jm;function sf(t,e,n,r){let i=U0(t,r,e),o=e[ye],s=r.parent||e[Dt],a=G0(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Xm(o,i,n[l],a,!1);else Xm(o,i,n,a,!1);Jm!==void 0&&Jm(o,r,e,n,i)}function Oa(t,e){if(e!==null){let n=e.type;if(n&3)return wt(e,t);if(n&4)return ud(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Oa(t,r);{let i=t[e.index];return en(i)?ud(-1,i):Rt(i)}}else{if(n&32)return nf(e,t)()||Rt(t[e.index]);{let r=ky(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qn(t[vt]);return Oa(i,r)}else return Oa(t,e.next)}}}return null}function ky(t,e){if(e!==null){let r=t[vt][Dt],i=e.projection;return r.projection[i]}return null}function ud(t,e){let n=Ne+t+1;if(n<e.length){let r=e[n],i=r[P].firstChild;if(i!==null)return Oa(r,i)}return e[qn]}function Q0(t,e,n){let r=of(t,e);r&&H0(t,r,e,n)}function af(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&Kn(Rt(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)af(t,e,n.child,r,i,o,!1),Hr(e,t,i,a,o);else if(l&32){let c=nf(n,r),u;for(;u=c();)Hr(e,t,i,u,o);Hr(e,t,i,a,o)}else l&16?Y0(t,e,r,n,i,o):Hr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ul(t,e,n,r,i,o){af(n,r,t.firstChild,e,i,o,!1)}function Y0(t,e,n,r,i,o){let s=n[vt],l=s[Dt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Hr(e,t,i,u,o)}else{let c=l,u=s[xe];wy(r)&&(c.flags|=128),af(t,e,c,u,i,o,!0)}}function Z0(t,e,n,r,i){let o=n[qn],s=Rt(n);o!==s&&Hr(e,t,r,o,i);for(let a=Ne;a<n.length;a++){let l=n[a];ul(l[P],l,t,e,r,o)}}function K0(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Zt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Zt.Important),t.setStyle(n,r,i,o))}}function X0(t,e,n){t.setAttribute(e,"style",n)}function Py(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Fy(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Qu(t,e,r),i!==null&&Py(t,e,i),o!==null&&X0(t,e,o)}var tr={};function st(t=1){Ly($e(),te(),Jn()+t,!1)}function Ly(t,e,n,r){if(!r)if((e[N]&3)===3){let o=t.preOrderCheckHooks;o!==null&&xa(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ra(e,o,0,n)}Yn(n)}function G(t,e=F.Default){let n=te();if(n===null)return _(t,e);let r=He();return my(r,n,Me(t),e)}function Vy(t,e,n,r,i,o){let s=B(null);try{let a=null;i&mn.SignalBased&&(a=e[r][Wt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&mn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):$v(e,a,r,o)}finally{B(s)}}function J0(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Yn(~i);else{let o=i,s=n[++r],a=n[++r];Xb(s,o);let l=e[o];a(2,l)}}}finally{Yn(-1)}}function dl(t,e,n,r,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[Jt]=i,d[N]=r|4|128|8|64,(c!==null||t&&t[N]&2048)&&(d[N]|=2048),qv(d),d[xe]=d[oi]=t,d[Ae]=n,d[Qt]=s||t&&t[Qt],d[ye]=a||t&&t[ye],d[Zr]=l||t&&t[Zr]||null,d[Dt]=o,d[sl]=E0(),d[fo]=u,d[jv]=c,d[vt]=e.type==2?t[vt]:d,d}function fl(t,e,n,r,i){let o=t.data[e];if(o===null)o=eS(t,e,n,r,i),Kb()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=qb();o.injectorIndex=s===null?-1:s.injectorIndex}return Io(o,!0),o}function eS(t,e,n,r,i){let o=Xv(),s=Jv(),a=s?o:o&&o.parent,l=t.data[e]=oS(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function jy(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function By(t,e,n,r,i){let o=Jn(),s=r&2;try{Yn(-1),s&&e.length>yt&&Ly(t,e,yt,!1),At(s?2:0,i),n(r,i)}finally{Yn(o),At(s?3:1,i)}}function Uy(t,e,n){if(Uv(e)){let r=B(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{B(r)}}}function $y(t,e,n){Kv()&&(dS(t,e,n,wt(n,e)),(n.flags&64)===64&&Qy(t,e,n))}function Hy(t,e,n=wt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Wy(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=lf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function lf(t,e,n,r,i,o,s,a,l,c,u){let d=yt+r,f=d+i,h=tS(d,f),p=typeof c=="function"?c():c;return h[P]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function tS(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:tr);return n}function nS(t,e,n,r){let o=r.get(x0,My)||n===xt.ShadowDom,s=t.selectRootElement(e,o);return rS(s),s}function rS(t){iS(t)}var iS=()=>null;function oS(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Wb()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ev(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=mn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?tv(r,n,c,a,l):tv(r,n,c,a)}return r}function tv(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function sS(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;l=ev(0,d.inputs,u,l,h),c=ev(1,d.outputs,u,c,p);let g=l!==null&&s!==null&&!Ld(e)?CS(l,u,s):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function aS(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Gy(t,e,n,r,i,o,s,a){let l=wt(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(cf(t,n,u,r,i),al(e)&&lS(n,e.index)):e.type&3?(r=aS(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function lS(t,e){let n=Dn(e,t);n[N]&16||(n[N]|=64)}function zy(t,e,n,r){if(Kv()){let i=r===null?null:{"":-1},o=hS(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&qy(t,e,n,s,i,a),i&&pS(n,r,i)}n.mergedAttrs=co(n.mergedAttrs,n.attrs)}function qy(t,e,n,r,i,o){for(let c=0;c<r.length;c++)id(Ga(n,e),t,r[c].type);mS(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=jy(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=co(n.mergedAttrs,u.hostAttrs),vS(t,n,e,l,u),gS(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}sS(t,n,o)}function cS(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;uS(s)!=a&&s.push(a),s.push(n,r,o)}}function uS(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function dS(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;al(n)&&yS(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ga(n,e),Kn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],c=ei(e,t,a,n);if(Kn(c,e),s!==null&&_S(e,a-i,c,l,n,s),vn(l)){let u=Dn(n.index,e);u[Ae]=ei(e,t,a,n)}}}function Qy(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Jb();try{Yn(o);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];td(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&fS(l,c)}}finally{Yn(-1),td(s)}}function fS(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function hS(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(fb(e,s.selectors,!1))if(r||(r=[]),vn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;dd(t,e,l)}else r.unshift(s),dd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function dd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function pS(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new b(-301,!1);r.push(e[i],o)}}}function gS(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vn(e)&&(n[""]=t)}}function mS(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vS(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=zr(i.type,!0)),s=new Zn(o,vn(i),G);t.blueprint[r]=s,n[r]=s,cS(t,e,r,jy(t,n,i.hostVars,tr),i)}function yS(t,e,n){let r=wt(e,t),i=Wy(n),o=t[Qt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=hl(t,dl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function _S(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];Vy(r,n,l,c,u,d)}}function CS(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Yy(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Zy(t,e){let n=t.contentQueries;if(n!==null){let r=B(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];ty(o),a.contentQueries(2,e[s],s)}}}finally{B(r)}}}function hl(t,e){return t[ho]?t[Hm][mt]=e:t[ho]=e,t[Hm]=e,e}function fd(t,e,n){ty(0);let r=B(null);try{e(t,n)}finally{B(r)}}function DS(t){return t[ja]??=[]}function wS(t){return t.cleanup??=[]}function Ky(t,e){let n=t[Zr],r=n?n.get(Yt,null):null;r&&r.handleError(e)}function cf(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=e[s],u=t.data[s];Vy(u,c,r,a,l,i)}}function ES(t,e,n){let r=zv(e,t);k0(t[ye],r,n)}function IS(t,e){let n=Dn(e,t),r=n[P];bS(r,n);let i=n[Jt];i!==null&&n[fo]===null&&(n[fo]=ef(i,n[Zr])),uf(r,n,n[Ae])}function bS(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function uf(t,e,n){Wd(e);try{let r=t.viewQuery;r!==null&&fd(1,r,n);let i=t.template;i!==null&&By(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Xr]?.finishViewCreation(t),t.staticContentQueries&&Zy(t,e),t.staticViewQueries&&fd(2,t.viewQuery,n);let o=t.components;o!==null&&SS(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[N]&=-5,Gd()}}function SS(t,e){for(let n=0;n<e.length;n++)IS(t,e[n])}function df(t,e,n,r){let i=B(null);try{let o=e.tView,a=t[N]&4096?4096:16,l=dl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[Kr]=c;let u=t[Xr];return u!==null&&(l[Xr]=u.createEmbeddedView(o)),uf(o,l,n),l}finally{B(i)}}function Xy(t,e){let n=Ne+e;if(n<t.length)return t[n]}function mo(t,e){return!e||e.firstChild===null||wy(t)}function pl(t,e,n,r=!0){let i=e[P];if(V0(i,e,t,n),r){let s=ud(n,t),a=e[ye],l=of(a,t[qn]);l!==null&&F0(i,t[Dt],a,e,l,s)}let o=e[fo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Jy(t,e){let n=go(t,e);return n!==void 0&&cl(n[P],n),n}function qa(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Rt(o)),en(o)&&TS(o,r);let s=n.type;if(s&8)qa(t,e,n.child,r);else if(s&32){let a=nf(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=ky(e,n);if(Array.isArray(a))r.push(...a);else{let l=Qn(e[vt]);qa(l[P],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function TS(t,e){for(let n=Ne;n<t.length;n++){let r=t[n],i=r[P].firstChild;i!==null&&qa(r[P],r,i,e)}t[qn]!==t[Jt]&&e.push(t[qn])}var e_=[];function MS(t){return t[rt]??AS(t)}function AS(t){let e=e_.pop()??Object.create(xS);return e.lView=t,e}function NS(t){t.lView[rt]!==t&&(t.lView=null,e_.push(t))}var xS=H(y({},eo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ll(t.lView)},consumerOnSignalRead(){this.lView[rt]=this}});function RS(t){let e=t[rt]??Object.create(OS);return e.lView=t,e}var OS=H(y({},eo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Qn(t.lView);for(;e&&!t_(e[P]);)e=Qn(e);e&&Qv(e)},consumerOnSignalRead(){this.lView[rt]=this}});function t_(t){return t.type!==2}var kS=100;function n_(t,e=!0,n=0){let r=t[Qt],i=r.rendererFactory,o=!1;o||i.begin?.();try{PS(t,n)}catch(s){throw e&&Ky(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function PS(t,e){let n=ey();try{Gm(!0),hd(t,e);let r=0;for(;po(t);){if(r===kS)throw new b(103,!1);r++,hd(t,1)}}finally{Gm(n)}}function FS(t,e,n,r){let i=e[N];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Qt].inlineEffectRunner?.flush(),Wd(e);let a=!0,l=null,c=null;o||(t_(t)?(c=MS(e),l=Ks(c)):Jg()===null?(a=!1,c=RS(e),l=Ks(c)):e[rt]&&(su(e[rt]),e[rt]=null));try{qv(e),Yb(t.bindingStartIndex),n!==null&&By(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&xa(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Ra(e,h,0,null),Ru(e,0)}if(s||LS(e),r_(e,0),t.contentQueries!==null&&Zy(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&xa(e,h)}else{let h=t.contentHooks;h!==null&&Ra(e,h,1),Ru(e,1)}J0(t,e);let d=t.components;d!==null&&o_(e,d,0);let f=t.viewQuery;if(f!==null&&fd(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&xa(e,h)}else{let h=t.viewHooks;h!==null&&Ra(e,h,2),Ru(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[xu]){for(let h of e[xu])h();e[xu]=null}o||(e[N]&=-73)}catch(u){throw o||ll(e),u}finally{c!==null&&(iu(c,l),a&&NS(c)),Gd()}}function r_(t,e){for(let n=Iy(t);n!==null;n=by(n))for(let r=Ne;r<n.length;r++){let i=n[r];i_(i,e)}}function LS(t){for(let e=Iy(t);e!==null;e=by(e)){if(!(e[N]&$a.HasTransplantedViews))continue;let n=e[Ua];for(let r=0;r<n.length;r++){let i=n[r];Qv(i)}}}function VS(t,e,n){let r=Dn(e,t);i_(r,n)}function i_(t,e){Hd(t)&&hd(t,e)}function hd(t,e){let r=t[P],i=t[N],o=t[rt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ou(o)),s||=!1,o&&(o.dirty=!1),t[N]&=-9217,s)FS(r,t,r.template,t[Ae]);else if(i&8192){r_(t,1);let a=r.components;a!==null&&o_(t,a,1)}}function o_(t,e,n){for(let r=0;r<e.length;r++)VS(t,e[r],n)}function ff(t,e){let n=ey()?64:1088;for(t[Qt].changeDetectionScheduler?.notify(e);t;){t[N]|=n;let r=Qn(t);if(Xu(t)&&!r)return t;t=r}return null}var ti=class{get rootNodes(){let e=this._lView,n=e[P];return qa(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ae]}set context(e){this._lView[Ae]=e}get destroyed(){return(this._lView[N]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xe];if(en(e)){let n=e[Ba],r=n?n.indexOf(this):-1;r>-1&&(go(e,r),La(n,r))}this._attachedToViewContainer=!1}cl(this._lView[P],this._lView)}onDestroy(e){Yv(this._lView,e)}markForCheck(){ff(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[N]&=-129}reattach(){ed(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,n_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Xu(this._lView),n=this._lView[Kr];n!==null&&!e&&rf(n,this._lView),xy(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e;let n=Xu(this._lView),r=this._lView[Kr];r!==null&&!n&&Ry(r,this._lView),ed(this._lView)}};var pU=new RegExp(`^(\\d+)*(${A0}|${M0})*(.*)`);var jS=()=>null;function vo(t,e){return jS(t,e)}var yo=class{},hf=new D("",{providedIn:"root",factory:()=>!1});var s_=new D(""),pd=class{},Qa=class{};function BS(t){let e=Error(`No component factory found for ${Ve(t)}.`);return e[US]=t,e}var US="ngComponent";var gd=class{resolveComponentFactory(e){throw BS(e)}},Df=class Df{};Df.NULL=new gd;var ni=Df,ri=class{},li=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>$S();let t=e;return t})();function $S(){let t=te(),e=He(),n=Dn(e.index,t);return(gn(n)?n:t)[ye]}var HS=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var nv=new Set;function nr(t){nv.has(t)||(nv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function a_(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Wu.requestAnimationFrame=="function"&&Wu.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function rv(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function iv(...t){}var Y=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ce(!1),this.onMicrotaskEmpty=new ce(!1),this.onStable=new ce(!1),this.onError=new ce(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,zS(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,WS,iv,iv);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},WS={};function pf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function GS(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{a_(()=>{t.callbackScheduled=!1,md(t),t.isCheckStableRunning=!0,pf(t),t.isCheckStableRunning=!1})}),md(t))}function zS(t){let e=()=>{GS(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(qS(a))return n.invokeTask(i,o,s,a);try{return ov(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),sv(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return ov(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!QS(a)&&e(),sv(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,md(t),pf(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function md(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ov(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sv(t){t._nesting--,pf(t)}var vd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ce,this.onMicrotaskEmpty=new ce,this.onStable=new ce,this.onError=new ce}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function qS(t){return l_(t,"__ignore_ng_zone__")}function QS(t){return l_(t,"__scheduler_tick__")}function l_(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var c_=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function yd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Om(i,a);else if(o==2){let l=a,c=e[++s];r=Om(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ya=class extends ni{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=zn(e);return new _o(n,this.ngModule)}};function av(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:mn.None;e?n.push({propName:s,templateName:r,isSignal:(a&mn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function YS(t){let e=t.toLowerCase();return e==="svg"?Fb:e==="math"?Lb:null}var _o=class extends Qa{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=av(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return av(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=mb(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=B(null);try{i=i||this.ngModule;let s=i instanceof it?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new nd(e,s):e,l=a.get(ri,null);if(l===null)throw new b(407,!1);let c=a.get(HS,null),u=a.get(c_,null),d=a.get(yo,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=r?nS(h,r,this.componentDef.encapsulation,a):Ny(h,p,YS(p)),C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let w=null;g!==null&&(w=ef(g,a,!0));let $=lf(0,null,null,1,0,null,null,null,null,null,null),M=dl(null,$,null,C,null,null,f,h,a,null,w);Wd(M);let le,Pe;try{let ft=this.componentDef,wr,Kc=null;ft.findHostDirectiveDefs?(wr=[],Kc=new Map,ft.findHostDirectiveDefs(ft,wr,Kc),wr.push(ft)):wr=[ft];let rI=ZS(M,g),iI=KS(rI,g,ft,wr,M,f,h);Pe=$d($,yt),g&&eT(h,ft,g,r),n!==void 0&&tT(Pe,this.ngContentSelectors,n),le=JS(iI,ft,wr,Kc,M,[nT]),uf($,M,null)}finally{Gd()}return new _d(this.componentType,le,Zd(Pe,M),M,Pe)}finally{B(o)}}},_d=class extends pd{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ti(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;cf(o[P],o,i,e,n),this.previousInputValues.set(e,n);let s=Dn(this._tNode.index,o);ff(s,1)}}get injector(){return new Gn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ZS(t,e){let n=t[P],r=yt;return t[r]=e,fl(n,r,2,"#host",null)}function KS(t,e,n,r,i,o,s){let a=i[P];XS(r,t,e,s);let l=null;e!==null&&(l=ef(e,i[Zr]));let c=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=dl(i,Wy(n),null,u,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&dd(a,t,r.length-1),hl(i,d),i[t.index]=d}function XS(t,e,n,r){for(let i of t)e.mergedAttrs=co(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(yd(e,e.mergedAttrs,!0),n!==null&&Fy(r,n,e))}function JS(t,e,n,r,i,o){let s=He(),a=i[P],l=wt(s,i);qy(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=ei(i,a,d,s);Kn(f,i)}Qy(a,i,s),l&&Kn(l,i);let c=ei(i,a,s.directiveStart+s.componentOffset,s);if(t[Ae]=i[Ae]=c,o!==null)for(let u of o)u(c,e);return Uy(a,s,i),c}function eT(t,e,n,r){if(r)Qu(t,n,["ng-version","18.1.0"]);else{let{attrs:i,classes:o}=vb(e.selectors[0]);i&&Qu(t,n,i),o&&o.length>0&&Py(t,n,o.join(" "))}}function tT(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function nT(){let t=He();Qd(te()[P],t)}var gl=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rT;let t=e;return t})();function rT(){let t=He();return oT(t,te())}var iT=gl,u_=class extends iT{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Zd(this._hostTNode,this._hostLView)}get injector(){return new Gn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Yd(this._hostTNode,this._hostLView);if(uy(e)){let n=Wa(e,this._hostLView),r=Ha(e),i=n[P].data[r+8];return new Gn(i,n)}else return new Gn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=lv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ne}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=vo(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,mo(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!Rb(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?e:new _o(zn(e)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?c:this.parentInjector).get(it,null);g&&(o=g)}let u=zn(l.componentType??{}),d=vo(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,mo(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Vb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[xe],c=new u_(l,l[Dt],l[xe]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return pl(s,i,o,r),e.attachToViewContainerRef(),Iv(Lu(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=lv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=go(this._lContainer,n);r&&(La(Lu(this._lContainer),n),cl(r[P],r))}detach(e){let n=this._adjustIndex(e,-1),r=go(this._lContainer,n);return r&&La(Lu(this._lContainer),n)!=null?new ti(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function lv(t){return t[Ba]}function Lu(t){return t[Ba]||(t[Ba]=[])}function oT(t,e){let n,r=e[t.index];return en(r)?n=r:(n=Yy(r,e,null,t),e[t.index]=n,hl(e,n)),aT(n,e,t,r),new u_(n,t,e)}function sT(t,e){let n=t[ye],r=n.createComment(""),i=wt(e,t),o=of(n,i);return za(n,o,r,W0(n,i),!1),r}var aT=uT,lT=()=>!1;function cT(t,e,n){return lT(t,e,n)}function uT(t,e,n,r){if(t[qn])return;let i;n.type&8?i=Rt(r):i=sT(e,n),t[qn]=i}function dT(t){return typeof t=="function"&&t[Wt]!==void 0}function So(t,e){nr("NgSignals");let n=um(t),r=n[Wt];return e?.equal&&(r.equal=e.equal),n.set=i=>au(r,i),n.update=i=>dm(r,i),n.asReadonly=fT.bind(n),n}function fT(){let t=this[Wt];if(t.readonlyFn===void 0){let e=()=>this();e[Wt]=t,t.readonlyFn=e}return t.readonlyFn}function d_(t){return dT(t)&&typeof t.set=="function"}function hT(t){return Object.getPrototypeOf(t.prototype).constructor}function Pt(t){let e=hT(t.type),n=!0,r=[t];for(;e;){let i;if(vn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Ma(t.inputs),s.inputTransforms=Ma(t.inputTransforms),s.declaredInputs=Ma(t.declaredInputs),s.outputs=Ma(t.outputs);let a=i.hostBindings;a&&yT(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&mT(t,l),c&&vT(t,c),pT(t,i),FI(t.outputs,i.outputs),vn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Pt&&(n=!1)}}e=Object.getPrototypeOf(e)}gT(r)}function pT(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function gT(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=co(i.hostAttrs,n=co(n,i.hostAttrs))}}function Ma(t){return t===qr?{}:t===nt?[]:t}function mT(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function vT(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function yT(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var _n=class{},Co=class{};var Cd=class extends _n{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ya(this);let i=Rv(e);this._bootstrapComponents=Ay(i.bootstrap),this._r3Injector=_y(e,n,[{provide:_n,useValue:this},{provide:ni,useValue:this.componentFactoryResolver},...r],Ve(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Dd=class extends Co{constructor(e){super(),this.moduleType=e}create(e){return new Cd(this.moduleType,e,[])}};var Za=class extends _n{constructor(e){super(),this.componentFactoryResolver=new Ya(this),this.instance=null;let n=new uo([...e.providers,{provide:_n,useValue:this},{provide:ni,useValue:this.componentFactoryResolver}],e.parent||Bd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function gf(t,e,n=null){return new Za({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function ci(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function _T(t){return(t.flags&32)===32}function CT(t,e,n,r,i,o,s,a,l){let c=e.consts,u=fl(e,t,4,s||null,a||null);zy(e,n,u,Jr(c,l)),Qd(e,u);let d=u.tView=lf(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function wd(t,e,n,r,i,o,s,a,l,c){let u=n+yt,d=e.firstCreatePass?CT(u,e,t,r,i,o,s,a,l):e.data[u];Io(d,!1);let f=DT(e,t,d,n);zd()&&sf(e,t,f,d),Kn(f,t);let h=Yy(f,t,f,d);return t[u]=h,hl(t,h),cT(h,d,t),Ud(d)&&$y(e,t,d),l!=null&&Hy(t,d,c),d}function ui(t,e,n,r,i,o,s,a){let l=te(),c=$e(),u=Jr(c.consts,o);return wd(l,c,t,e,n,r,i,u,s,a),ui}var DT=wT;function wT(t,e,n,r){return qd(!0),e[ye].createComment("")}function ET(t,e,n,r){return ci(t,bo(),n)?e+Dv(n)+r:tr}function Aa(t,e){return t<<17|e<<2}function Xn(t){return t>>17&32767}function IT(t){return(t&2)==2}function bT(t,e){return t&131071|e<<17}function Ed(t){return t|2}function ii(t){return(t&131068)>>2}function Vu(t,e){return t&-131069|e<<2}function ST(t){return(t&1)===1}function Id(t){return t|1}function TT(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Xn(s),l=ii(s);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Eo(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=Xn(t[a+1]);t[r+1]=Aa(f,a),f!==0&&(t[f+1]=Vu(t[f+1],r)),t[a+1]=bT(t[a+1],r)}else t[r+1]=Aa(a,0),a!==0&&(t[a+1]=Vu(t[a+1],r)),a=r;else t[r+1]=Aa(l,0),a===0?a=r:t[l+1]=Vu(t[l+1],r),l=r;c&&(t[r+1]=Ed(t[r+1])),cv(t,u,r,!0),cv(t,u,r,!1),MT(e,u,t,r,o),s=Aa(a,l),o?e.classBindings=s:e.styleBindings=s}function MT(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Eo(o,e)>=0&&(n[r+1]=Id(n[r+1]))}function cv(t,e,n,r){let i=t[n+1],o=e===null,s=r?Xn(i):ii(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];AT(l,e)&&(a=!0,t[s+1]=r?Id(c):Ed(c)),s=r?Xn(c):ii(c)}a&&(t[n+1]=r?Ed(i):Id(i))}function AT(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Eo(t,e)>=0:!1}function wn(t,e,n){let r=te(),i=bo();if(ci(r,i,e)){let o=$e(),s=ay();Gy(o,s,r,t,e,r[ye],n,!1)}return wn}function uv(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";cf(t,n,o[s],s,r)}function ml(t,e){return NT(t,e,null,!0),ml}function NT(t,e,n,r){let i=te(),o=$e(),s=Zb(2);if(o.firstUpdatePass&&RT(o,t,s,r),e!==tr&&ci(i,s,e)){let a=o.data[Jn()];LT(o,a,i,i[ye],t,i[s+1]=VT(e,n),r,s)}}function xT(t,e){return e>=t.expandoStartIndex}function RT(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Jn()],s=xT(t,n);jT(o,r)&&e===null&&!s&&(e=!1),e=OT(i,o,e,r),TT(i,o,e,n,s,r)}}function OT(t,e,n,r){let i=e0(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ju(null,t,e,n,r),n=Do(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ju(i,t,e,n,r),o===null){let l=kT(t,e,r);l!==void 0&&Array.isArray(l)&&(l=ju(null,t,e,l[1],r),l=Do(l,e.attrs,r),PT(t,e,r,l))}else o=FT(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function kT(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ii(r)!==0)return t[Xn(r)]}function PT(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Xn(i)]=r}function FT(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Do(r,s,n)}return Do(r,e.attrs,n)}function ju(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Do(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Do(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),rb(t,s,n?!0:e[++o]))}return t===void 0?null:t}function LT(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=ST(c)?dv(l,e,n,i,ii(c),s):void 0;if(!Ka(u)){Ka(o)||IT(c)&&(o=dv(l,null,n,i,a,s));let d=zv(Jn(),n);K0(r,s,d,i,o)}}function dv(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===tr&&(f=d?nt:void 0);let h=d?Au(f,r):u===r?f:void 0;if(c&&!Ka(h)&&(h=Au(l,r)),Ka(h)&&(a=h,s))return a;let p=t[i+1];i=s?Xn(p):ii(p)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Au(l,r))}return a}function Ka(t){return t!==void 0}function VT(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ve(tf(t)))),t}function jT(t,e){return(t.flags&(e?8:16))!==0}var bd=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Bu(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function BT(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=t.at(o),u=e[o],d=Bu(o,c,o,u,n);if(d!==0){d<0&&t.updateValue(o,u),o++;continue}let f=t.at(s),h=e[l],p=Bu(s,f,l,h,n);if(p!==0){p<0&&t.updateValue(s,h),s--,l--;continue}let g=n(o,c),C=n(s,f),w=n(o,u);if(Object.is(w,C)){let $=n(l,h);Object.is($,g)?(t.swap(o,s),t.updateValue(s,h),l--,s--):t.move(s,o),t.updateValue(o,u),o++;continue}if(r??=new Xa,i??=hv(t,o,s,n),Sd(t,r,o,w))t.updateValue(o,u),o++,s++;else if(i.has(w))r.set(g,t.detach(o)),s--;else{let $=t.create(o,e[o]);t.attach(o,$),o++,s++}}for(;o<=l;)fv(t,r,n,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=t.at(o),d=c.value,f=Bu(o,u,o,d,n);if(f!==0)f<0&&t.updateValue(o,d),o++,c=l.next();else{r??=new Xa,i??=hv(t,o,s,n);let h=n(o,d);if(Sd(t,r,o,h))t.updateValue(o,d),o++,s++,c=l.next();else if(!i.has(h))t.attach(o,t.create(o,d)),o++,s++,c=l.next();else{let p=n(o,u);r.set(p,t.detach(o)),s--}}}for(;!c.done;)fv(t,r,n,t.length,c.value),c=l.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(l=>{t.destroy(l)})}function Sd(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function fv(t,e,n,r,i){if(Sd(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function hv(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Xa=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function di(t,e){nr("NgControlFlow");let n=te(),r=bo(),i=n[r]!==tr?n[r]:-1,o=i!==-1?Ja(n,yt+i):void 0,s=0;if(ci(n,r,t)){let a=B(null);try{if(o!==void 0&&Jy(o,s),t!==-1){let l=yt+t,c=Ja(n,l),u=Nd(n[P],l),d=vo(c,u.tView.ssrId),f=df(n,u,e,{dehydratedView:d});pl(c,f,s,mo(u,d))}}finally{B(a)}}else if(o!==void 0){let a=Xy(o,s);a!==void 0&&(a[Ae]=e)}}var Td=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ne}};function f_(t,e){return e}var Md=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function h_(t,e,n,r,i,o,s,a,l,c,u,d,f){nr("NgControlFlow");let h=te(),p=$e(),g=l!==void 0,C=te(),w=a?s.bind(C[vt][Ae]):s,$=new Md(g,w);C[yt+t]=$,wd(h,p,t+1,e,n,r,i,Jr(p.consts,o)),g&&wd(h,p,t+2,l,c,u,d,Jr(p.consts,f))}var Ad=class extends bd{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ne}at(e){return this.getLView(e)[Ae].$implicit}attach(e,n){let r=n[fo];this.needsIndexUpdate||=e!==this.length,pl(this.lContainer,n,e,mo(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,UT(this.lContainer,e)}create(e,n){let r=vo(this.lContainer,this.templateTNode.tView.ssrId),i=df(this.hostLView,this.templateTNode,new Td(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){cl(e[P],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ae].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ae].$index=e}getLView(e){return $T(this.lContainer,e)}};function p_(t){let e=B(null),n=Jn();try{let r=te(),i=r[P],o=r[n],s=n+1,a=Ja(r,s);if(o.liveCollection===void 0){let c=Nd(i,s);o.liveCollection=new Ad(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(BT(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=bo(),u=l.length===0;if(ci(r,c,u)){let d=n+2,f=Ja(r,d);if(u){let h=Nd(i,d),p=vo(f,h.tView.ssrId),g=df(r,h,void 0,{dehydratedView:p});pl(f,g,0,mo(h,p))}else Jy(f,0)}}}finally{B(e)}}function Ja(t,e){return t[e]}function UT(t,e){return go(t,e)}function $T(t,e){return Xy(t,e)}function Nd(t,e){return $d(t,e)}function HT(t,e,n,r,i,o){let s=e.consts,a=Jr(s,i),l=fl(e,t,2,r,a);return zy(e,n,l,Jr(s,o)),l.attrs!==null&&yd(l,l.attrs,!1),l.mergedAttrs!==null&&yd(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function fe(t,e,n,r){let i=te(),o=$e(),s=yt+t,a=i[ye],l=o.firstCreatePass?HT(s,o,i,e,n,r):o.data[s],c=WT(o,i,l,a,e,t);i[s]=c;let u=Ud(l);return Io(l,!0),Fy(a,c,l),!_T(l)&&zd()&&sf(o,i,c,l),Ub()===0&&Kn(c,i),$b(),u&&($y(o,i,l),Uy(o,l,i)),r!==null&&Hy(i,l),fe}function ue(){let t=He();Jv()?Qb():(t=t.parent,Io(t,!1));let e=t;Gb(e)&&zb(),Hb();let n=$e();return n.firstCreatePass&&(Qd(n,t),Uv(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&a0(e)&&uv(n,e,te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&l0(e)&&uv(n,e,te(),e.stylesWithoutHost,!1),ue}function En(t,e,n,r){return fe(t,e,n,r),ue(),En}var WT=(t,e,n,r,i,o)=>(qd(!0),Ny(r,i,r0()));var el="en-US";var GT=el;function zT(t){typeof t=="string"&&(GT=t.toLowerCase().replace(/_/g,"-"))}var qT=(t,e,n)=>{};function at(t,e,n,r){let i=te(),o=$e(),s=He();return g_(o,i,i[ye],s,t,e,r),at}function QT(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ja],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function g_(t,e,n,r,i,o,s){let a=Ud(r),c=t.firstCreatePass&&wS(t),u=e[Ae],d=DS(e),f=!0;if(r.type&3||s){let g=wt(r,e),C=s?s(g):g,w=d.length,$=s?le=>s(Rt(le[r.index])):r.index,M=null;if(!s&&a&&(M=QT(t,e,i,r.index)),M!==null){let le=M.__ngLastListenerFn__||M;le.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,f=!1}else{o=gv(r,e,u,o),qT(g,i,o);let le=n.listen(C,i,o);d.push(o,le),c&&c.push(i,$,w,w+1)}}else o=gv(r,e,u,o);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let g=p.length;if(g)for(let C=0;C<g;C+=2){let w=p[C],$=p[C+1],Pe=e[w][$].subscribe(o),ft=d.length;d.push(o,Pe),c&&c.push(i,r.index,ft,-(ft+1))}}}function pv(t,e,n,r){let i=B(null);try{return At(6,e,n),n(r)!==!1}catch(o){return Ky(t,o),!1}finally{At(7,e,n),B(i)}}function gv(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Dn(t.index,e):e;ff(s,5);let a=pv(e,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=pv(e,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function To(t=1){return n0(t)}function We(t,e=""){let n=te(),r=$e(),i=t+yt,o=r.firstCreatePass?fl(r,i,1,e,null):r.data[i],s=YT(r,n,o,e,t);n[i]=s,zd()&&sf(r,n,s,o),Io(o,!1)}var YT=(t,e,n,r,i)=>(qd(!0),O0(e[ye],r));function mf(t){return m_("",t,""),mf}function m_(t,e,n){let r=te(),i=ET(r,t,e,n);return i!==tr&&ES(r,Jn(),i),m_}function fi(t,e,n){d_(e)&&(e=e());let r=te(),i=bo();if(ci(r,i,e)){let o=$e(),s=ay();Gy(o,s,r,t,e,r[ye],n,!1)}return fi}function Mo(t,e){let n=d_(t);return n&&t.set(e),n}function hi(t,e){let n=te(),r=$e(),i=He();return g_(r,n,n[ye],i,t,e),hi}function ZT(t,e,n){let r=$e();if(r.firstCreatePass){let i=vn(t);xd(n,r.data,r.blueprint,i,!0),xd(e,r.data,r.blueprint,i,!1)}}function xd(t,e,n,r,i){if(t=Me(t),Array.isArray(t))for(let o=0;o<t.length;o++)xd(t[o],e,n,r,i);else{let o=$e(),s=te(),a=He(),l=Yr(t)?t:Me(t.provide),c=Vv(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Yr(t)||!t.multi){let h=new Zn(c,i,G),p=$u(l,e,i?u:u+f,d);p===-1?(id(Ga(a,s),o,l),Uu(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=$u(l,e,u+f,d),p=$u(l,e,u,u+f),g=h>=0&&n[h],C=p>=0&&n[p];if(i&&!C||!i&&!g){id(Ga(a,s),o,l);let w=JT(i?XT:KT,n.length,i,r,c);!i&&C&&(n[p].providerFactory=w),Uu(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),s.push(w)}else{let w=v_(n[i?p:h],c,!i&&r);Uu(o,t,h>-1?h:p,w)}!i&&r&&C&&n[p].componentProviders++}}}function Uu(t,e,n,r){let i=Yr(e),o=Ib(e);if(i||o){let l=(o?Me(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function v_(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $u(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function KT(t,e,n,r){return Rd(this.multi,[])}function XT(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ei(n,n[P],this.providerFactory.index,r);o=a.slice(0,s),Rd(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Rd(i,o);return o}function Rd(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function JT(t,e,n,r,i){let o=new Zn(t,n,G);return o.multi=[],o.index=e,o.componentProviders=0,v_(o,i,r&&!n),o}function In(t,e=[]){return n=>{n.providersResolver=(r,i)=>ZT(r,i?i(t):t,e)}}var eM=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Pv(!1,r.type),o=i.length>0?gf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(_(it))});let t=e;return t})();function Ft(t){nr("NgStandalone"),t.getStandaloneInjector=e=>e.get(eM).getOrCreateStandaloneInjector(t)}var Kt=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},y_=new Kt("18.1.0");var vl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var __=new D("");function rr(t){return!!t&&typeof t.then=="function"}function C_(t){return!!t&&typeof t.subscribe=="function"}var D_=new D(""),w_=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=v(D_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(rr(s))r.push(s);else if(C_(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vf=new D("");function tM(){cm(()=>{throw new b(600,!1)})}function nM(t){return t.isBoundToModule}var rM=10;function iM(t,e,n){try{let r=n();return rr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var pi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(Cy),this.afterRenderEffectManager=v(c_),this.zonelessEnabled=v(hf),this.externalTestViews=new Set,this.beforeRender=new ie,this.afterTick=new ie,this.componentTypes=[],this.components=[],this.isStable=v(ai).hasPendingTasks.pipe(T(r=>!r)),this._injector=v(it)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Qa;if(!this._injector.get(w_).done){let h=!o&&xv(r),p=!1;throw new b(405,p)}let a;o?a=r:a=this._injector.get(ni).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=nM(a)?void 0:this._injector.get(_n),c=i||a.selector,u=a.create(yn.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(__,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Hu(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new b(101,!1);let i=B(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,B(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(ri,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<rM;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)oM(l,c,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>po(l))&&(s.execute(),!this.allViews.some(({_lView:l})=>po(l))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Hu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(vf,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Hu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new b(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function oM(t,e,n,r){if(!n&&!po(t))return;n_(t,e,n&&!r?0:1)}var Od=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},yf=(()=>{let e=class e{compileModuleSync(r){return new Dd(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Rv(r),s=Ay(o.declarations).reduce((a,l)=>{let c=zn(l);return c&&a.push(new _o(c)),a},[]);return new Od(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sM=(()=>{let e=class e{constructor(){this.zone=v(Y),this.changeDetectionScheduler=v(yo),this.applicationRef=v(pi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aM=new D("",{factory:()=>!1});function E_({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new Y(b_()),[{provide:Y,useFactory:t},{provide:Qr,multi:!0,useFactory:()=>{let n=v(sM,{optional:!0});return()=>n.initialize()}},{provide:Qr,multi:!0,useFactory:()=>{let n=v(cM);return()=>{n.initialize()}}},{provide:Cy,useFactory:lM},e===!0?{provide:s_,useValue:!0}:[]]}function lM(){let t=v(Y),e=v(Yt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function I_(t){let e=t?.ignoreChangesOutsideZone,n=E_({ngZoneFactory:()=>{let r=b_(t);return r.shouldCoalesceEventChangeDetection&&nr("NgZone_CoalesceEvent"),new Y(r)},ignoreChangesOutsideZone:e});return il([{provide:aM,useValue:!0},{provide:hf,useValue:!1},n])}function b_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var cM=(()=>{let e=class e{constructor(){this.subscription=new ae,this.initialized=!1,this.zone=v(Y),this.pendingTasks=v(ai)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Y.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Y.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var uM=(()=>{let e=class e{constructor(){this.appRef=v(pi),this.taskService=v(ai),this.ngZone=v(Y),this.zonelessEnabled=v(hf),this.disableScheduling=v(s_,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ae,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vd||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?rv:a_;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Y.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,rv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dM(){return typeof $localize<"u"&&$localize.locale||el}var _f=new D("",{providedIn:"root",factory:()=>v(_f,F.Optional|F.SkipSelf)||dM()});var S_=new D("");var ka=null;function fM(t=[],e){return yn.create({name:e,providers:[{provide:ol,useValue:"platform"},{provide:S_,useValue:new Set([()=>ka=null])},...t]})}function hM(t=[]){if(ka)return ka;let e=fM(t);return ka=e,tM(),pM(e),e}function pM(t){t.get(Xd,null)?.forEach(n=>n())}function Cf(){return!1}var ir=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gM;let t=e;return t})();function gM(t){return mM(He(),te(),(t&16)===16)}function mM(t,e,n){if(al(t)&&!n){let r=Dn(t.index,e);return new ti(r,r)}else if(t.type&175){let r=e[vt];return new ti(r,e)}return null}function T_(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=hM(r),o=[E_({}),{provide:yo,useExisting:uM},...n||[]],a=new Za({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(Y);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(Yt,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:h=>{c.handleError(h)}})});let d=()=>a.destroy(),f=i.get(S_);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),iM(c,l,()=>{let h=a.get(w_);return h.runInitializers(),h.donePromise.then(()=>{let p=a.get(_f,el);zT(p||el);let g=a.get(pi);return e!==void 0&&g.bootstrap(e),g})})})}catch(e){return Promise.reject(e)}}var M_=new D("");function yl(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ao(t,e){nr("NgSignals");let n=sm(t);return e?.equal&&(n[Wt].equal=e.equal),n}function tn(t){let e=B(null);try{return t()}finally{B(e)}}var x_=null;function nn(){return x_}function R_(t){x_??=t}var _l=class{};var ze=new D(""),O_=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(_M),providedIn:"platform"});let t=e;return t})();var _M=(()=>{let e=class e extends O_{constructor(){super(),this._doc=v(ze),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nn().getBaseHref(this._doc)}onPopState(r){let i=nn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=nn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function k_(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function A_(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function or(t){return t&&t[0]!=="?"?"?"+t:t}var Dl=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(P_),providedIn:"root"});let t=e;return t})(),CM=new D(""),P_=(()=>{let e=class e extends Dl{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??v(ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return k_(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+or(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+or(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+or(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(_(O_),_(CM,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var No=(()=>{let e=class e{constructor(r){this._subject=new ce,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=EM(A_(N_(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+or(i))}normalize(r){return e.stripTrailingSlash(wM(this._basePath,N_(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+or(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+or(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=or,e.joinWithSlash=k_,e.stripTrailingSlash=A_,e.\u0275fac=function(i){return new(i||e)(_(Dl))},e.\u0275prov=E({token:e,factory:()=>DM(),providedIn:"root"});let t=e;return t})();function DM(){return new No(_(Dl))}function wM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function N_(t){return t.replace(/\/index.html$/,"")}function EM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function F_(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var L_="browser",IM="server";function xo(t){return t===IM}var Cl=class{};var If=class extends _l{constructor(){super(...arguments),this.supportsDOMEvents=!0}},bf=class t extends If{static makeCurrent(){R_(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=bM();return n==null?null:SM(n)}resetBaseElement(){Ro=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return F_(document.cookie,e)}},Ro=null;function bM(){return Ro=Ro||document.querySelector("base"),Ro?Ro.getAttribute("href"):null}function SM(t){return new URL(t,document.baseURI).pathname}var TM=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),wl=new D(""),U_=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new b(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(_(wl),_(Y))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Oo=class{constructor(e){this._doc=e}},wf="ng-app-id",$_=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xo(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${wf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(wf),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(wf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(_(ze),_(Kd),_(Jd,8),_(ot))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Ef={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Tf=/%COMP%/g,H_="%COMP%",MM=`_nghost-${H_}`,AM=`_ngcontent-${H_}`,NM=!0,xM=new D("",{providedIn:"root",factory:()=>NM});function RM(t){return AM.replace(Tf,t)}function OM(t){return MM.replace(Tf,t)}function W_(t,e){return e.map(n=>n.replace(Tf,t))}var V_=(()=>{let e=class e{constructor(r,i,o,s,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=xo(l),this.defaultRenderer=new ko(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===xt.ShadowDom&&(i=H(y({},i),{encapsulation:xt.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof El?o.applyToHost(r):o instanceof Po&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case xt.Emulated:s=new El(c,u,i,this.appId,d,a,l,f);break;case xt.ShadowDom:return new Sf(c,u,r,i,a,l,this.nonce,f);default:s=new Po(c,u,i,d,a,l,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(_(U_),_($_),_(Kd),_(xM),_(ze),_(ot),_(Y),_(Jd))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),ko=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ef[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(j_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(j_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Ef[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ef[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Zt.DashCase|Zt.Important)?e.style.setProperty(n,r,i&Zt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Zt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=nn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function j_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Sf=class extends ko{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=W_(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Po=class extends ko{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?W_(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},El=class extends Po{constructor(e,n,r,i,o,s,a,l){let c=i+"-"+r.id;super(e,n,r,o,s,a,l,c),this.contentAttr=RM(c),this.hostAttr=OM(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},kM=(()=>{let e=class e extends Oo{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(_(ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),PM=(()=>{let e=class e extends Oo{constructor(r){super(r),this.delegate=v(M_,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(_(ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),B_=["alt","control","meta","shift"],FM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},VM=(()=>{let e=class e extends Oo{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),B_.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=FM[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),B_.forEach(a=>{if(a!==o){let l=LM[a];l(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(_(ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function G_(t,e){return T_(y({rootComponent:t},jM(e)))}function jM(t){return{appProviders:[...WM,...t?.providers??[]],platformProviders:HM}}function BM(){bf.makeCurrent()}function UM(){return new Yt}function $M(){return Ty(document),document}var HM=[{provide:ot,useValue:L_},{provide:Xd,useValue:BM,multi:!0},{provide:ze,useFactory:$M,deps:[]}];var WM=[{provide:ol,useValue:"root"},{provide:Yt,useFactory:UM,deps:[]},{provide:wl,useClass:kM,multi:!0,deps:[ze,Y,ot]},{provide:wl,useClass:VM,multi:!0,deps:[ze]},{provide:wl,useClass:PM,multi:!0},V_,$_,U_,{provide:ri,useExisting:V_},{provide:Cl,useClass:TM,deps:[]},[]];var z_=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(_(ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var k="primary",Xo=Symbol("RouteTitle"),Rf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ci(t){return new Rf(t)}function qM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function QM(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Lt(t[n],e[n]))return!1;return!0}function Lt(t,e){let n=t?Of(t):void 0,r=e?Of(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!eC(t[i],e[i]))return!1;return!0}function Of(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function tC(t){return t.length>0?t[t.length-1]:null}function bn(t){return _u(t)?t:rr(t)?J(Promise.resolve(t)):S(t)}var YM={exact:rC,subset:iC},nC={exact:ZM,subset:KM,ignored:()=>!0};function q_(t,e,n){return YM[n.paths](t.root,e.root,n.matrixParams)&&nC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function ZM(t,e){return Lt(t,e)}function rC(t,e,n){if(!ar(t.segments,e.segments)||!Sl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!rC(t.children[r],e.children[r],n))return!1;return!0}function KM(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eC(t[n],e[n]))}function iC(t,e,n){return oC(t,e,e.segments,n)}function oC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ar(i,n)||e.hasChildren()||!Sl(i,n,r))}else if(t.segments.length===n.length){if(!ar(t.segments,n)||!Sl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!iC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ar(t.segments,i)||!Sl(t.segments,i,r)||!t.children[k]?!1:oC(t.children[k],e,o,r)}}function Sl(t,e,n){return e.every((r,i)=>nC[n](t[i].parameters,r.parameters))}var on=class{constructor(e=new Q([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){return eA.serialize(this)}},Q=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tl(this)}},sr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ci(this.parameters),this._parameterMap}toString(){return aC(this)}};function XM(t,e){return ar(t,e)&&t.every((n,r)=>Lt(n.parameters,e[r].parameters))}function ar(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function JM(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===k&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==k&&(n=n.concat(e(i,r)))}),n}var oh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new $o,providedIn:"root"});let t=e;return t})(),$o=class{parse(e){let n=new Pf(e);return new on(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Fo(e.root,!0)}`,r=rA(e.queryParams),i=typeof e.fragment=="string"?`#${tA(e.fragment)}`:"";return`${n}${r}${i}`}},eA=new $o;function Tl(t){return t.segments.map(e=>aC(e)).join("/")}function Fo(t,e){if(!t.hasChildren())return Tl(t);if(e){let n=t.children[k]?Fo(t.children[k],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==k&&r.push(`${i}:${Fo(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=JM(t,(r,i)=>i===k?[Fo(t.children[k],!1)]:[`${i}:${Fo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[k]!=null?`${Tl(t)}/${n[0]}`:`${Tl(t)}/(${n.join("//")})`}}function sC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Il(t){return sC(t).replace(/%3B/gi,";")}function tA(t){return encodeURI(t)}function kf(t){return sC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ml(t){return decodeURIComponent(t)}function Q_(t){return Ml(t.replace(/\+/g,"%20"))}function aC(t){return`${kf(t.path)}${nA(t.parameters)}`}function nA(t){return Object.entries(t).map(([e,n])=>`;${kf(e)}=${kf(n)}`).join("")}function rA(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Il(n)}=${Il(i)}`).join("&"):`${Il(n)}=${Il(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var iA=/^[^\/()?;#]+/;function Mf(t){let e=t.match(iA);return e?e[0]:""}var oA=/^[^\/()?;=#]+/;function sA(t){let e=t.match(oA);return e?e[0]:""}var aA=/^[^=?&#]+/;function lA(t){let e=t.match(aA);return e?e[0]:""}var cA=/^[^&#]+/;function uA(t){let e=t.match(cA);return e?e[0]:""}var Pf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[k]=new Q(e,n)),r}parseSegment(){let e=Mf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new sr(Ml(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=sA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Mf(this.remaining);i&&(r=i,this.capture(r))}e[Ml(n)]=Ml(r)}parseQueryParam(e){let n=lA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=uA(this.remaining);s&&(r=s,this.capture(r))}let i=Q_(n),o=Q_(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Mf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=k);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[k]:new Q([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}};function lC(t){return t.segments.length>0?new Q([],{[k]:t}):t}function cC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=cC(i);if(r===k&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Q(t.segments,e);return dA(n)}function dA(t){if(t.numberOfChildren===1&&t.children[k]){let e=t.children[k];return new Q(t.segments.concat(e.segments),e.children)}return t}function Ho(t){return t instanceof on}function fA(t,e,n=null,r=null){let i=uC(t);return dC(i,e,n,r)}function uC(t){let e;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new Q(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=lC(r);return e??i}function dC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Af(i,i,i,n,r);let o=hA(e);if(o.toRoot())return Af(i,i,new Q([],{}),n,r);let s=pA(o,i,t),a=s.processChildren?jo(s.segmentGroup,s.index,o.commands):hC(s.segmentGroup,s.index,o.commands);return Af(i,s.segmentGroup,a,n,r)}function Al(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Wo(t){return typeof t=="object"&&t!=null&&t.outlets}function Af(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=n:s=fC(t,e,n);let a=lC(cC(s));return new on(a,o,i)}function fC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=fC(o,e,n)}),new Q(t.segments,r)}var Nl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Al(r[0]))throw new b(4003,!1);let i=r.find(Wo);if(i&&i!==tC(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hA(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Nl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Nl(n,e,r)}var vi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function pA(t,e,n){if(t.isAbsolute)return new vi(e,!0,0);if(!n)return new vi(e,!1,NaN);if(n.parent===null)return new vi(n,!0,0);let r=Al(t.commands[0])?0:1,i=n.segments.length-1+r;return gA(n,i,t.numberOfDoubleDots)}function gA(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new vi(r,!1,i-o)}function mA(t){return Wo(t[0])?t[0].outlets:{[k]:t}}function hC(t,e,n){if(t??=new Q([],{}),t.segments.length===0&&t.hasChildren())return jo(t,e,n);let r=vA(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Q(t.segments.slice(0,r.pathIndex),{});return o.children[k]=new Q(t.segments.slice(r.pathIndex),t.children),jo(o,0,i)}else return r.match&&i.length===0?new Q(t.segments,{}):r.match&&!t.hasChildren()?Ff(t,e,n):r.match?jo(t,0,i):Ff(t,e,n)}function jo(t,e,n){if(n.length===0)return new Q(t.segments,{});{let r=mA(n),i={};if(Object.keys(r).some(o=>o!==k)&&t.children[k]&&t.numberOfChildren===1&&t.children[k].segments.length===0){let o=jo(t.children[k],e,n);return new Q(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=hC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Q(t.segments,i)}}function vA(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Wo(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Z_(l,c,s))return o;r+=2}else{if(!Z_(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ff(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Wo(o)){let l=yA(o.outlets);return new Q(r,l)}if(i===0&&Al(n[0])){let l=t.segments[e];r.push(new sr(l.path,Y_(n[0]))),i++;continue}let s=Wo(o)?o.outlets[k]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Al(a)?(r.push(new sr(s,Y_(a))),i+=2):(r.push(new sr(s,{})),i++)}return new Q(r,{})}function yA(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ff(new Q([],{}),0,r))}),e}function Y_(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Z_(t,e,n){return t==n.path&&Lt(e,n.parameters)}var Bo="imperative",Ee=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ee||{}),lt=class{constructor(e,n){this.id=e,this.url=n}},Go=class extends lt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ee.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},lr=class extends lt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qe=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Qe||{}),Lf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Lf||{}),rn=class extends lt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},cr=class extends lt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ee.NavigationSkipped}},zo=class extends lt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xl=class extends lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vf=class extends lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jf=class extends lt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bf=class extends lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uf=class extends lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$f=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Hf=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wf=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gf=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zf=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qf=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var qo=class{},Di=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function _A(t,e){return t.providers&&!t._injector&&(t._injector=gf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Et(t){return t.outlet||k}function CA(t,e){let n=t.filter(r=>Et(r)===e);return n.push(...t.filter(r=>Et(r)!==e)),n}function Jo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Qf=class{get injector(){return Jo(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Vl(this.rootInjector),this.attachRef=null}},Vl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Qf(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(_(it))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Yf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Yf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Zf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Zf(e,this._root).map(n=>n.value)}};function Yf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Yf(t,n);if(r)return r}return null}function Zf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Zf(t,n);if(r.length)return r.unshift(e),r}return[]}var qe=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function mi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ol=class extends Rl{constructor(e,n){super(e),this.snapshot=n,sh(this,e)}toString(){return this.snapshot.toString()}};function pC(t){let e=DA(t),n=new we([new sr("",{})]),r=new we({}),i=new we({}),o=new we({}),s=new we(""),a=new wi(n,r,o,s,i,k,t,e.root);return a.snapshot=e.root,new Ol(new qe(a,[]),e)}function DA(t){let e={},n={},r={},i="",o=new yi([],e,r,i,n,k,t,null,{});return new Pl("",new qe(o,[]))}var wi=class{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(T(c=>c[Xo]))??S(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(T(e=>Ci(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(T(e=>Ci(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:y(y({},e.params),t.params),data:y(y({},e.data),t.data),resolve:y(y(y(y({},t.data),e.data),i?.data),t._resolvedData)}:r={params:y({},t.params),data:y({},t.data),resolve:y(y({},t.data),t._resolvedData??{})},i&&mC(i)&&(r.resolve[Xo]=i.title),r}var yi=class{get title(){return this.data?.[Xo]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ci(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Pl=class extends Rl{constructor(e,n){super(n),this.url=e,sh(this,n)}toString(){return gC(this._root)}};function sh(t,e){e.value._routerState=t,e.children.forEach(n=>sh(t,n))}function gC(t){let e=t.children.length>0?` { ${t.children.map(gC).join(", ")} } `:"";return`${t.value}${e}`}function Nf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Lt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Lt(e.params,n.params)||t.paramsSubject.next(n.params),QM(e.url,n.url)||t.urlSubject.next(n.url),Lt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Kf(t,e){let n=Lt(t.params,e.params)&&XM(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Kf(t.parent,e.parent))}function mC(t){return typeof t.title=="string"||t.title===null}var ah=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=k,this.activateEvents=new ce,this.deactivateEvents=new ce,this.attachEvents=new ce,this.detachEvents=new ce,this.parentContexts=v(Vl),this.location=v(gl),this.changeDetector=v(ir),this.inputBinder=v(lh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Xf(r,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=je({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Cn]});let t=e;return t})(),Xf=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===wi?this.route:e===Vl?this.childContexts:this.parent.get(e,n)}},lh=new D("");function wA(t,e,n){let r=Qo(t,e._root,n?n._root:void 0);return new Ol(r,e)}function Qo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=EA(t,e,n);return new qe(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Qo(t,a)),s}}let r=IA(e.value),i=e.children.map(o=>Qo(t,o));return new qe(r,i)}}function EA(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Qo(t,r,i);return Qo(t,r)})}function IA(t){return new wi(new we(t.url),new we(t.params),new we(t.queryParams),new we(t.fragment),new we(t.data),t.outlet,t.component,t)}var Yo=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},vC="ngNavigationCancelingError";function Fl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ho(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=yC(!1,Qe.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function yC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[vC]=!0,n.cancellationCode=e,n}function bA(t){return _C(t)&&Ho(t.url)}function _C(t){return!!t&&t[vC]}var SA=(t,e,n,r)=>T(i=>(new Jf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Jf=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Nf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=mi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=mi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=mi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=mi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new qf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Gf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Nf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Nf(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ll=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},_i=class{constructor(e,n){this.component=e,this.route=n}};function TA(t,e,n){let r=t._root,i=e?e._root:null;return Lo(r,i,n,[r.value])}function MA(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ii(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!vv(t)?t:e.get(t):r}function Lo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=mi(e);return t.children.forEach(s=>{AA(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Uo(a,n.getContext(s),i)),i}function AA(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=NA(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ll(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Lo(t,e,a?a.children:null,r,i):Lo(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _i(a.outlet.component,s))}else s&&Uo(e,a,i),i.canActivateChecks.push(new Ll(r)),o.component?Lo(t,null,a?a.children:null,r,i):Lo(t,null,n,r,i);return i}function NA(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ar(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ar(t.url,e.url)||!Lt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kf(t,e)||!Lt(t.queryParams,e.queryParams);case"paramsChange":default:return!Kf(t,e)}}function Uo(t,e,n){let r=mi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Uo(s,e.children.getContext(o),n):Uo(s,null,n):Uo(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new _i(e.outlet.component,i)):n.canDeactivateChecks.push(new _i(null,i)):n.canDeactivateChecks.push(new _i(null,i))}function es(t){return typeof t=="function"}function xA(t){return typeof t=="boolean"}function RA(t){return t&&es(t.canLoad)}function OA(t){return t&&es(t.canActivate)}function kA(t){return t&&es(t.canActivateChild)}function PA(t){return t&&es(t.canDeactivate)}function FA(t){return t&&es(t.canMatch)}function CC(t){return t instanceof zt||t?.name==="EmptyError"}var bl=Symbol("INITIAL_VALUE");function Ei(){return oe(t=>wa(t.map(e=>e.pipe(qt(1),Su(bl)))).pipe(T(e=>{for(let n of e)if(n!==!0){if(n===bl)return bl;if(n===!1||LA(n))return n}return!0}),Ue(e=>e!==bl),qt(1)))}function LA(t){return Ho(t)||t instanceof Yo}function VA(t,e){return ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?S(H(y({},n),{guardsResult:!0})):jA(s,r,i,t).pipe(ge(a=>a&&xA(a)?BA(r,o,t,e):S(a)),T(a=>H(y({},n),{guardsResult:a})))})}function jA(t,e,n,r){return J(t).pipe(ge(i=>GA(i.component,i.route,n,e,r)),Te(i=>i!==!0,!0))}function BA(t,e,n,r){return J(e).pipe(Vr(i=>Fr($A(i.route.parent,r),UA(i.route,r),WA(t,i.path,n),HA(t,i.route,n))),Te(i=>i!==!0,!0))}function UA(t,e){return t!==null&&e&&e(new zf(t)),S(!0)}function $A(t,e){return t!==null&&e&&e(new Wf(t)),S(!0)}function HA(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return S(!0);let i=r.map(o=>Ea(()=>{let s=Jo(e)??n,a=Ii(o,s),l=OA(a)?a.canActivate(e,t):Xt(s,()=>a(e,t));return bn(l).pipe(Te())}));return S(i).pipe(Ei())}function WA(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>MA(s)).filter(s=>s!==null).map(s=>Ea(()=>{let a=s.guards.map(l=>{let c=Jo(s.node)??n,u=Ii(l,c),d=kA(u)?u.canActivateChild(r,t):Xt(c,()=>u(r,t));return bn(d).pipe(Te())});return S(a).pipe(Ei())}));return S(o).pipe(Ei())}function GA(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return S(!0);let s=o.map(a=>{let l=Jo(e)??i,c=Ii(a,l),u=PA(c)?c.canDeactivate(t,e,n,r):Xt(l,()=>c(t,e,n,r));return bn(u).pipe(Te())});return S(s).pipe(Ei())}function zA(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return S(!0);let o=i.map(s=>{let a=Ii(s,t),l=RA(a)?a.canLoad(e,n):Xt(t,()=>a(e,n));return bn(l)});return S(o).pipe(Ei(),DC(r))}function DC(t){return hu(me(e=>{if(typeof e!="boolean")throw Fl(t,e)}),T(e=>e===!0))}function qA(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return S(!0);let o=i.map(s=>{let a=Ii(s,t),l=FA(a)?a.canMatch(e,n):Xt(t,()=>a(e,n));return bn(l)});return S(o).pipe(Ei(),DC(r))}var Zo=class{constructor(e){this.segmentGroup=e||null}},Ko=class extends Error{constructor(e){super(),this.urlTree=e}};function gi(t){return Pr(new Zo(t))}function QA(t){return Pr(new b(4e3,!1))}function YA(t){return Pr(yC(!1,Qe.GuardRejected))}var eh=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return S(r);if(i.numberOfChildren>1||!i.children[k])return QA(`${e.redirectTo}`);i=i.children[k]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:p,title:g}=i,C=Xt(o,()=>a({params:h,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:g}));if(C instanceof on)throw new Ko(C);n=C}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ko(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new on(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Q(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},th={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZA(t,e,n,r,i){let o=ch(t,e,n);return o.matched?(r=_A(e,r),qA(r,e,n,i).pipe(T(s=>s===!0?o:y({},th)))):S(o)}function ch(t,e,n){if(e.path==="**")return KA(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?y({},th):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||qM)(n,t,e);if(!i)return y({},th);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?y(y({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function KA(t){return{matched:!0,parameters:t.length>0?tC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function K_(t,e,n,r){return n.length>0&&eN(t,n,r)?{segmentGroup:new Q(e,JA(r,new Q(n,t.children))),slicedSegments:[]}:n.length===0&&tN(t,n,r)?{segmentGroup:new Q(t.segments,XA(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Q(t.segments,t.children),slicedSegments:n}}function XA(t,e,n,r){let i={};for(let o of n)if(jl(t,e,o)&&!r[Et(o)]){let s=new Q([],{});i[Et(o)]=s}return y(y({},r),i)}function JA(t,e){let n={};n[k]=e;for(let r of t)if(r.path===""&&Et(r)!==k){let i=new Q([],{});n[Et(r)]=i}return n}function eN(t,e,n){return n.some(r=>jl(t,e,r)&&Et(r)!==k)}function tN(t,e,n){return n.some(r=>jl(t,e,r))}function jl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function nN(t,e,n,r){return Et(t)!==r&&(r===k||!jl(e,n,t))?!1:ch(e,t,n).matched}function rN(t,e,n){return e.length===0&&!t.children[n]}var nh=class{};function iN(t,e,n,r,i,o,s="emptyOnly"){return new rh(t,e,n,r,i,s,o).recognize()}var oN=31,rh=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new eh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new b(4002,`'${e.segmentGroup}'`)}recognize(){let e=K_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(T(({children:n,rootSnapshot:r})=>{let i=new qe(r,n),o=new Pl("",i),s=fA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new yi([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),k,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,k,n).pipe(T(r=>({children:r,rootSnapshot:n})),dn(r=>{if(r instanceof Ko)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zo?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(T(s=>s instanceof qe?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return J(o).pipe(Vr(s=>{let a=r.children[s],l=CA(n,s);return this.processSegmentGroup(e,l,a,s,i)}),Br((s,a)=>(s.push(...a),s)),fn(null),Eu(),ge(s=>{if(s===null)return gi(r);let a=wC(s);return sN(a),S(a)}))}processSegment(e,n,r,i,o,s,a){return J(n).pipe(Vr(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,a).pipe(dn(c=>{if(c instanceof Zo)return S(null);throw c}))),Te(l=>!!l),dn(l=>{if(CC(l))return rN(r,i,o)?S(new nh):gi(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return nN(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):gi(i):gi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=ch(n,i,o);if(!l)return gi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oN&&(this.allowRedirects=!1));let h=new yi(o,c,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,X_(i),Et(i),i.component??i._loadedComponent??null,i,J_(i)),p=kl(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,g).pipe(ge(C=>this.processSegment(e,r,n,C.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=ZA(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(oe(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(oe(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=l,p=new yi(f,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,X_(r),Et(r),r.component??r._loadedComponent??null,r,J_(r)),g=kl(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:C,slicedSegments:w}=K_(n,f,h,c);if(w.length===0&&C.hasChildren())return this.processChildren(u,c,C,p).pipe(T(M=>new qe(p,M)));if(c.length===0&&w.length===0)return S(new qe(p,[]));let $=Et(r)===o;return this.processSegment(u,c,C,w,$?k:o,!0,p).pipe(T(M=>new qe(p,M instanceof qe?[M]:[])))}))):gi(n)))}getChildConfig(e,n,r){return n.children?S({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?S({routes:n._loadedRoutes,injector:n._loadedInjector}):zA(e,n,r,this.urlSerializer).pipe(ge(i=>i?this.configLoader.loadChildren(e,n).pipe(me(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):YA(n))):S({routes:[],injector:e})}};function sN(t){t.sort((e,n)=>e.value.outlet===k?-1:n.value.outlet===k?1:e.value.outlet.localeCompare(n.value.outlet))}function aN(t){let e=t.value.routeConfig;return e&&e.path===""}function wC(t){let e=[],n=new Set;for(let r of t){if(!aN(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=wC(r.children);e.push(new qe(r.value,i))}return e.filter(r=>!n.has(r))}function X_(t){return t.data||{}}function J_(t){return t.resolve||{}}function lN(t,e,n,r,i,o){return ge(s=>iN(t,e,n,r,s.extractedUrl,i,o).pipe(T(({state:a,tree:l})=>H(y({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function cN(t,e){return ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return S(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of EC(l))s.add(c);let a=0;return J(s).pipe(Vr(l=>o.has(l)?uN(l,r,t,e):(l.data=kl(l,l.parent,t).resolve,S(void 0))),me(()=>a++),jr(1),ge(l=>a===s.size?S(n):Se))})}function EC(t){let e=t.children.map(n=>EC(n)).flat();return[t,...e]}function uN(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!mC(i)&&(o[Xo]=i.title),dN(o,t,e,r).pipe(T(s=>(t._resolvedData=s,t.data=kl(t,t.parent,n).resolve,null)))}function dN(t,e,n,r){let i=Of(t);if(i.length===0)return S({});let o={};return J(i).pipe(ge(s=>fN(t[s],e,n,r).pipe(Te(),me(a=>{if(a instanceof Yo)throw Fl(new $o,a);o[s]=a}))),jr(1),Du(o),dn(s=>CC(s)?Se:Pr(s)))}function fN(t,e,n,r){let i=Jo(e)??r,o=Ii(t,i),s=o.resolve?o.resolve(e,n):Xt(i,()=>o(e,n));return bn(s)}function xf(t){return oe(e=>{let n=t(e);return n?J(n).pipe(T(()=>e)):S(e)})}var IC=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===k);return i}getResolvedTitleForRoute(r){return r.data[Xo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(hN),providedIn:"root"});let t=e;return t})(),hN=(()=>{let e=class e extends IC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(_(z_))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uh=new D("",{providedIn:"root",factory:()=>({})}),pN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=kt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ft],decls:1,vars:0,template:function(i,o){i&1&&En(0,"router-outlet")},dependencies:[ah],encapsulation:2});let t=e;return t})();function dh(t){let e=t.children&&t.children.map(dh),n=e?H(y({},t),{children:e}):y({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==k&&(n.component=pN),n}var fh=new D(""),gN=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(yf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return S(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=bn(r.loadComponent()).pipe(T(bC),me(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),oo(()=>{this.componentLoaders.delete(r)})),o=new Nr(i,()=>new ie).pipe(Ar());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return S({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=mN(i,this.compiler,r,this.onLoadEndListener).pipe(oo(()=>{this.childrenLoaders.delete(i)})),a=new Nr(s,()=>new ie).pipe(Ar());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mN(t,e,n,r){return bn(t.loadChildren()).pipe(T(bC),ge(i=>i instanceof Co||Array.isArray(i)?S(i):J(e.compileModuleAsync(i))),T(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(fh,[],{optional:!0,self:!0}).flat()),{routes:s.map(dh),injector:o}}))}function vN(t){return t&&typeof t=="object"&&"default"in t}function bC(t){return vN(t)?t.default:t}var hh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(yN),providedIn:"root"});let t=e;return t})(),yN=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_N=new D("");var CN=new D(""),DN=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ie,this.transitionAbortSubject=new ie,this.configLoader=v(gN),this.environmentInjector=v(it),this.urlSerializer=v(oh),this.rootContexts=v(Vl),this.location=v(No),this.inputBindingEnabled=v(lh,{optional:!0})!==null,this.titleStrategy=v(IC),this.options=v(uh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(hh),this.createViewTransition=v(_N,{optional:!0}),this.navigationErrorHandler=v(CN,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>S(void 0),this.rootComponentType=null;let r=o=>this.events.next(new $f(o)),i=o=>this.events.next(new Hf(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(H(y(y({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new we({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Bo,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ue(s=>s.id!==0),T(s=>H(y({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),oe(s=>{let a=!1,l=!1;return S(s).pipe(oe(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Qe.SupersededByNewNavigation),Se;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?H(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new cr(c.id,this.urlSerializer.serialize(c.rawUrl),f,Lf.IgnoredSameUrlNavigation)),c.resolve(!1),Se}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return S(c).pipe(oe(f=>{let h=this.transitions?.getValue();return this.events.next(new Go(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Se:Promise.resolve(f)}),lN(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),me(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=H(y({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new xl(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:g,extras:C}=c,w=new Go(f,this.urlSerializer.serialize(h),p,g);this.events.next(w);let $=pC(this.rootComponentType).snapshot;return this.currentTransition=s=H(y({},c),{targetSnapshot:$,urlAfterRedirects:h,extras:H(y({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,S(s)}else{let f="";return this.events.next(new cr(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Lf.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Se}}),me(c=>{let u=new Vf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),T(c=>(this.currentTransition=s=H(y({},c),{guards:TA(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),VA(this.environmentInjector,c=>this.events.next(c)),me(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Fl(this.urlSerializer,c.guardsResult);let u=new jf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Ue(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Qe.GuardRejected),!1)),xf(c=>{if(c.guards.canActivateChecks.length)return S(c).pipe(me(u=>{let d=new Bf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),oe(u=>{let d=!1;return S(u).pipe(cN(this.paramsInheritanceStrategy,this.environmentInjector),me({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Qe.NoDataFromResolver)}}))}),me(u=>{let d=new Uf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),xf(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(me(h=>{d.component=h}),T(()=>{})));for(let h of d.children)f.push(...u(h));return f};return wa(u(c.targetSnapshot.root)).pipe(fn(null),qt(1))}),xf(()=>this.afterPreactivation()),oe(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?J(d).pipe(T(()=>s)):S(s)}),T(c=>{let u=wA(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=H(y({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),me(()=>{this.events.next(new qo)}),SA(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),qt(1),me({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new lr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Tu(this.transitionAbortSubject.pipe(me(c=>{throw c}))),oo(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",Qe.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),dn(c=>{if(l=!0,_C(c))this.events.next(new rn(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),bA(c)?this.events.next(new Di(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let u=new zo(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let d=Xt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Yo){let{message:f,cancellationCode:h}=Fl(this.urlSerializer,d);this.events.next(new rn(s.id,this.urlSerializer.serialize(s.extractedUrl),f,h)),this.events.next(new Di(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=r.errorHandler(c);s.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Se}))}))}cancelNavigationTransition(r,i,o){let s=new rn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wN(t){return t!==Bo}var EN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(IN),providedIn:"root"});let t=e;return t})(),ih=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},IN=(()=>{let e=class e extends ih{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=si(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),SC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(bN),providedIn:"root"});let t=e;return t})(),bN=(()=>{let e=class e extends SC{constructor(){super(...arguments),this.location=v(No),this.urlSerializer=v(oh),this.options=v(uh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(hh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new on,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Go)this.stateMemento=this.createStateMemento();else if(r instanceof cr)this.rawUrlTree=i.initialUrl;else if(r instanceof xl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof qo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof rn&&(r.code===Qe.GuardRejected||r.code===Qe.NoDataFromResolver)?this.restoreHistory(i):r instanceof zo?this.restoreHistory(i,!0):r instanceof lr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof on?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=y(y({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=si(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Vo||{});function SN(t,e){t.events.pipe(Ue(n=>n instanceof lr||n instanceof rn||n instanceof zo||n instanceof cr),T(n=>n instanceof lr||n instanceof cr?Vo.COMPLETE:(n instanceof rn?n.code===Qe.Redirect||n.code===Qe.SupersededByNewNavigation:!1)?Vo.REDIRECTING:Vo.FAILED),Ue(n=>n!==Vo.REDIRECTING),qt(1)).subscribe(()=>{e()})}function TN(t){throw t}var MN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=v(vl),this.stateManager=v(SC),this.options=v(uh,{optional:!0})||{},this.pendingTasks=v(ai),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(DN),this.urlSerializer=v(oh),this.location=v(No),this.urlHandlingStrategy=v(hh),this._events=new ie,this.errorHandler=this.options.errorHandler||TN,this.navigated=!1,this.routeReuseStrategy=v(EN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(fh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(lh,{optional:!0}),this.eventsSubscription=new ae,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof rn&&i.code!==Qe.Redirect&&i.code!==Qe.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof lr)this.navigated=!0;else if(i instanceof Di){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c=y({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||wN(o.source)},a);this.scheduleNavigation(l,Bo,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}xN(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=y({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(dh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=y(y({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=uC(h)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),f=this.currentUrlTree.root}return dC(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ho(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Bo,null,i)}navigate(r,i={skipLocationChange:!1}){return NN(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=y({},MN):i===!1?o=y({},AN):o=i,Ho(r))return q_(this.currentUrlTree,r,o);let s=this.parseUrl(r);return q_(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});let d=this.pendingTasks.add();return SN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new b(4008,!1)}function xN(t){return!(t instanceof qo)&&!(t instanceof Di)}var RN=new D("");function TC(t,...e){return il([{provide:fh,multi:!0,useValue:t},[],{provide:wi,useFactory:ON,deps:[Sn]},{provide:vf,multi:!0,useFactory:kN},e.map(n=>n.\u0275providers)])}function ON(t){return t.routerState.root}function kN(){let t=v(yn);return e=>{let n=t.get(pi);if(e!==n.components[0])return;let r=t.get(Sn),i=t.get(PN);t.get(FN)===1&&r.initialNavigation(),t.get(LN,null,F.Optional)?.setUpPreloading(),t.get(RN,null,F.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var PN=new D("",{factory:()=>new ie}),FN=new D("",{providedIn:"root",factory:()=>1});var LN=new D("");var PC=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(G(li),G(er))},e.\u0275dir=je({type:e});let t=e;return t})(),FC=(()=>{let e=class e extends PC{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=si(e)))(o||e)}})(),e.\u0275dir=je({type:e,features:[Pt]});let t=e;return t})(),Mi=new D("");var jN={provide:Mi,useExisting:Ot(()=>Ai),multi:!0};function BN(){let t=nn()?nn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var UN=new D(""),Ai=(()=>{let e=class e extends PC{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!BN())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(G(li),G(er),G(UN,8))},e.\u0275dir=je({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&at("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[In([jN]),Pt]});let t=e;return t})();function Tn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function LC(t){return t!=null&&typeof t.length=="number"}var yh=new D(""),_h=new D(""),$N=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ti=class{static min(e){return HN(e)}static max(e){return WN(e)}static required(e){return GN(e)}static requiredTrue(e){return zN(e)}static email(e){return qN(e)}static minLength(e){return QN(e)}static maxLength(e){return YN(e)}static pattern(e){return ZN(e)}static nullValidator(e){return VC(e)}static compose(e){return WC(e)}static composeAsync(e){return zC(e)}};function HN(t){return e=>{if(Tn(e.value)||Tn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function WN(t){return e=>{if(Tn(e.value)||Tn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function GN(t){return Tn(t.value)?{required:!0}:null}function zN(t){return t.value===!0?null:{required:!0}}function qN(t){return Tn(t.value)||$N.test(t.value)?null:{email:!0}}function QN(t){return e=>Tn(e.value)||!LC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function YN(t){return e=>LC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function ZN(t){if(!t)return VC;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Tn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function VC(t){return null}function jC(t){return t!=null}function BC(t){return rr(t)?J(t):t}function UC(t){let e={};return t.forEach(n=>{e=n!=null?y(y({},e),n):e}),Object.keys(e).length===0?null:e}function $C(t,e){return e.map(n=>n(t))}function KN(t){return!t.validate}function HC(t){return t.map(e=>KN(e)?e:n=>e.validate(n))}function WC(t){if(!t)return null;let e=t.filter(jC);return e.length==0?null:function(n){return UC($C(n,e))}}function GC(t){return t!=null?WC(HC(t)):null}function zC(t){if(!t)return null;let e=t.filter(jC);return e.length==0?null:function(n){let r=$C(n,e).map(BC);return Cu(r).pipe(T(UC))}}function qC(t){return t!=null?zC(HC(t)):null}function MC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function QC(t){return t._rawValidators}function YC(t){return t._rawAsyncValidators}function ph(t){return t?Array.isArray(t)?t:[t]:[]}function Ul(t,e){return Array.isArray(t)?t.includes(e):t===e}function AC(t,e){let n=ph(e);return ph(t).forEach(i=>{Ul(n,i)||n.push(i)}),n}function NC(t,e){return ph(e).filter(n=>!Ul(t,n))}var $l=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=GC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ur=class extends $l{get formDirective(){return null}get path(){return null}},dr=class extends $l{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Hl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},XN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},cH=H(y({},XN),{"[class.ng-submitted]":"isSubmitted"}),Ni=(()=>{let e=class e extends Hl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(G(dr,2))},e.\u0275dir=je({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&ml("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Pt]});let t=e;return t})(),ZC=(()=>{let e=class e extends Hl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(G(ur,10))},e.\u0275dir=je({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&ml("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Pt]});let t=e;return t})();var ts="VALID",Bl="INVALID",bi="PENDING",ns="DISABLED",Mn=class{},Wl=class extends Mn{constructor(e,n){super(),this.value=e,this.source=n}},rs=class extends Mn{constructor(e,n){super(),this.pristine=e,this.source=n}},is=class extends Mn{constructor(e,n){super(),this.touched=e,this.source=n}},Si=class extends Mn{constructor(e,n){super(),this.status=e,this.source=n}},gh=class extends Mn{constructor(e){super(),this.source=e}},mh=class extends Mn{constructor(e){super(),this.source=e}};function KC(t){return(Yl(t)?t.validators:t)||null}function JN(t){return Array.isArray(t)?GC(t):t||null}function XC(t,e){return(Yl(e)?e.asyncValidators:t)||null}function ex(t){return Array.isArray(t)?qC(t):t||null}function Yl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function tx(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function nx(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new b(1002,"")})}var Gl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ao(()=>this.statusReactive()),this.statusReactive=So(void 0),this._pristine=Ao(()=>this.pristineReactive()),this.pristineReactive=So(!0),this._touched=Ao(()=>this.touchedReactive()),this.touchedReactive=So(!1),this._events=new ie,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return tn(this.statusReactive)}set status(e){tn(()=>this.statusReactive.set(e))}get valid(){return this.status===ts}get invalid(){return this.status===Bl}get pending(){return this.status==bi}get disabled(){return this.status===ns}get enabled(){return this.status!==ns}get pristine(){return tn(this.pristineReactive)}set pristine(e){tn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return tn(this.touchedReactive)}set touched(e){tn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(AC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NC(e,this._rawAsyncValidators))}hasValidator(e){return Ul(this._rawValidators,e)}hasAsyncValidator(e){return Ul(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(H(y({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new is(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new is(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(H(y({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new rs(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new rs(!0,r))}markAsPending(e={}){this.status=bi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Si(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(H(y({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ns,this.errors=null,this._forEachChild(i=>{i.disable(H(y({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wl(this.value,r)),this._events.next(new Si(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(y({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ts,this._forEachChild(r=>{r.enable(H(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(H(y({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ts||this.status===bi)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wl(this.value,n)),this._events.next(new Si(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(H(y({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ns:ts}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=bi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=BC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Si(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ce,this.statusChanges=new ce}_calculateStatus(){return this._allControlsDisabled()?ns:this.errors?Bl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bi)?bi:this._anyControlsHaveStatus(Bl)?Bl:ts}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new rs(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new is(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=JN(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ex(this._rawAsyncValidators)}},zl=class extends Gl{constructor(e,n,r){super(KC(n),XC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){nx(this,!0,e),Object.keys(e).forEach(r=>{tx(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Zl=new D("CallSetDisabledState",{providedIn:"root",factory:()=>Kl}),Kl="always";function JC(t,e){return[...e.path,t]}function vh(t,e,n=Kl){Ch(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),ix(t,e),sx(t,e),ox(t,e),rx(t,e)}function xC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ql(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ql(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function rx(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Ch(t,e){let n=QC(t);e.validator!==null?t.setValidators(MC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=YC(t);e.asyncValidator!==null?t.setAsyncValidators(MC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();ql(e._rawValidators,i),ql(e._rawAsyncValidators,i)}function Ql(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=QC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=YC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return ql(e._rawValidators,r),ql(e._rawAsyncValidators,r),n}function ix(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&eD(t,e)})}function ox(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&eD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function eD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function sx(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function ax(t,e){t==null,Ch(t,e)}function lx(t,e){return Ql(t,e)}function tD(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function cx(t){return Object.getPrototypeOf(t.constructor)===FC}function ux(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function nD(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Ai?n=o:cx(o)?r=o:i=o}),i||r||n||null}function dx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function RC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function OC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var os=class extends Gl{constructor(e=null,n,r){super(KC(n),XC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(OC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){RC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){RC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){OC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var fx=t=>t instanceof os;var hx={provide:dr,useExisting:Ot(()=>ss)},kC=Promise.resolve(),ss=(()=>{let e=class e extends dr{constructor(r,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new os,this._registered=!1,this.name="",this.update=new ce,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=nD(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),tD(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){vh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){kC.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&yl(i);kC.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?JC(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(G(ur,9),G(yh,10),G(_h,10),G(Mi,10),G(ir,8),G(Zl,8))},e.\u0275dir=je({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[In([hx]),Pt,Cn]});let t=e;return t})(),rD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=je({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var px={provide:Mi,useExisting:Ot(()=>Dh),multi:!0},Dh=(()=>{let e=class e extends FC{writeValue(r){this.setProperty("value",parseFloat(r))}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=si(e)))(o||e)}})(),e.\u0275dir=je({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,o){i&1&&at("change",function(a){return o.onChange(a.target.value)})("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[In([px]),Pt]});let t=e;return t})(),iD=new D("");var gx={provide:ur,useExisting:Ot(()=>wh)},wh=(()=>{let e=class e extends ur{get submitted(){return tn(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=Ao(()=>this._submittedReactive()),this._submittedReactive=So(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ce,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ql(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return vh(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){xC(r.control||null,r,!1),dx(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),ux(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new gh(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new mh(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(xC(i||null,r),fx(o)&&(vh(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);ax(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&lx(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ch(this.form,this),this._oldForm&&Ql(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(G(yh,10),G(_h,10),G(Zl,8))},e.\u0275dir=je({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&at("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[In([gx]),Pt,Cn]});let t=e;return t})();var mx={provide:dr,useExisting:Ot(()=>Eh)},Eh=(()=>{let e=class e extends dr{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ce,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=nD(this,s)}ngOnChanges(r){this._added||this._setUpControl(),tD(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return JC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(G(ur,13),G(yh,10),G(_h,10),G(Mi,10),G(iD,8))},e.\u0275dir=je({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[In([mx]),Pt,Cn]});let t=e;return t})();var oD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ct({type:e}),e.\u0275inj=_t({});let t=e;return t})();var Xl=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Zl,useValue:r.callSetDisabledState??Kl}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ct({type:e}),e.\u0275inj=_t({imports:[oD]});let t=e;return t})(),sD=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:iD,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Zl,useValue:r.callSetDisabledState??Kl}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ct({type:e}),e.\u0275inj=_t({imports:[oD]});let t=e;return t})();function vx(t,e){if(t&1&&(fe(0,"span"),We(1),ue()),t&2){let n=e.$implicit,r=To();st(),mf(r.reverse?r.sliderLabels[r.sliderLabels.length-1-n]:n)}}var aD=(()=>{class t{reverse=!1;onChange=()=>{};onTouched=()=>{};sliderValue=0;maxValue=10;get value(){return this.reverse?this.maxValue-this.sliderValue:this.sliderValue}get sliderLabels(){return Array.from({length:this.maxValue+1},(n,r)=>r)}writeValue(n){this.sliderValue=this.reverse?this.maxValue-n:n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}onInput(n){let r=n.target;this.sliderValue=r.value?parseInt(r.value,10):0,this.onChange(this.value)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=kt({type:t,selectors:[["app-slider"]],inputs:{reverse:"reverse"},standalone:!0,features:[In([{provide:Mi,useExisting:Ot(()=>t),multi:!0}]),Ft],decls:5,vars:2,consts:[[1,"slider-container"],["type","range","id","slider","min","0",3,"ngModelChange","input","ngModel","max"],[1,"slider-labels"]],template:function(r,i){r&1&&(fe(0,"div",0)(1,"input",1),hi("ngModelChange",function(s){return Mo(i.sliderValue,s)||(i.sliderValue=s),s}),at("input",function(s){return i.onInput(s)}),ue()(),fe(2,"div",2),h_(3,vx,2,1,"span",null,f_),ue()),r&2&&(st(),fi("ngModel",i.sliderValue),wn("max",i.maxValue),st(2),p_(i.sliderLabels))},dependencies:[Xl,Ai,Dh,Ni,ss],styles:["input[_ngcontent-%COMP%]{width:100%}.slider-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem}.slider-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-align:center}"]})}return t})();var bh=function(t){return t.WERKBEOORDELING="werkbeoordeling",t}(bh||{});var yx="firebase",_x="10.12.3";un(yx,_x,"app");var as=new Kt("ANGULARFIRE2_VERSION");var Cx=(t,e)=>{let n=e?[e]:Kg(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},fr=class{constructor(){return Cx(Dx)}},Dx="app-check";function Sh(){}var Jl=class{zone;delegate;constructor(e,n=vu){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Th=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sh,{},Sh,Sh)),n.pipe(me({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ec=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Jl(Zone.current)),this.insideAngular=n.run(()=>new Jl(Zone.current,ro)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(_(Y))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wx(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function sn(t){return Ex(wx())(t)}function Ex(t){return function(n){return n=n.lift(new Th(t.ngZone)),n.pipe(pt(t.outsideAngular),et(t.insideAngular))}}var Sx=new Map,Tx={activated:!1,tokenObservers:[]},Mx={initialized:!1,enabled:!1};function It(t){return Sx.get(t)||Object.assign({},Tx)}function hD(){return Mx}var Ax="https://content-firebaseappcheck.googleapis.com/v1";var Nx="exchangeDebugToken",cD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},kH=24*60*60*1e3;var Ah=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return re(this,null,function*(){this.stop();try{this.pending=new ve,this.pending.promise.catch(n=>{}),yield xx(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ve,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function xx(t){return new Promise(e=>{setTimeout(e,t)})}var Rx={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},An=new Hg("appCheck","AppCheck",Rx);function pD(t){if(!It(t).activated)throw An.create("use-before-activation",{appName:t.name})}function gD(r,i){return re(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(h){throw An.create("fetch-network-error",{originalErrorMessage:h?.message})}if(l.status!==200)throw An.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(h){throw An.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw An.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function mD(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Ax}/projects/${n}/apps/${r}:${Nx}?key=${i}`,body:{debug_token:e}}}var Ox="firebase-app-check-database",kx=1,Nh="firebase-app-check-store";var tc=null;function Px(){return tc||(tc=new Promise((t,e)=>{try{let n=indexedDB.open(Ox,kx);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(An.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Nh,{keyPath:"compositeKey"})}}}catch(n){e(An.create("storage-open",{originalErrorMessage:n?.message}))}}),tc)}function Fx(t,e){return Lx(Vx(t),e)}function Lx(t,e){return re(this,null,function*(){let r=(yield Px()).transaction(Nh,"readwrite"),o=r.objectStore(Nh).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(An.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function Vx(t){return`${t.options.appId}-${t.name}`}var xh=new Ir("@firebase/app-check");function Mh(t,e){return $g()?Fx(t,e).catch(n=>{xh.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function vD(){return hD().enabled}function yD(){return re(this,null,function*(){let t=hD();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var jx={error:"UNKNOWN_ERROR"};function Bx(t){return Ws.encodeString(JSON.stringify(t),!1)}function Rh(t,e=!1){return re(this,null,function*(){let n=t.app;pD(n);let r=It(n),i=r.token,o;if(i&&!ls(i)&&(r.token=void 0,i=void 0),!i){let l=yield r.cachedTokenPromise;l&&(ls(l)?i=l:yield Mh(n,void 0))}if(!e&&i&&ls(i))return{token:i.token};let s=!1;if(vD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=gD(mD(n,yield yD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let l=yield r.exchangeTokenPromise;return yield Mh(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield It(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?xh.warn(l.message):xh.error(l),o=l}let a;return i?o?ls(i)?a={token:i.token,internalError:o}:a=dD(o):(a={token:i.token},r.token=i,yield Mh(n,i)):a=dD(o),s&&Wx(n,a),a})}function Ux(t){return re(this,null,function*(){let e=t.app;pD(e);let{provider:n}=It(e);if(vD()){let r=yield yD(),{token:i}=yield gD(mD(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function $x(t,e,n,r){let{app:i}=t,o=It(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ls(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),uD(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>uD(t))}function _D(t,e){let n=It(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function uD(t){let{app:e}=t,n=It(e),r=n.tokenRefresher;r||(r=Hx(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Hx(t){let{app:e}=t;return new Ah(()=>re(this,null,function*(){let n=It(e),r;if(n.token?r=yield Rh(t,!0):r=yield Rh(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=It(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},cD.RETRIAL_MIN_WAIT,cD.RETRIAL_MAX_WAIT)}function Wx(t,e){let n=It(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ls(t){return t.expireTimeMillis-Date.now()>0}function dD(t){return{token:Bx(jx),error:t}}var Oh=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=It(this.app);for(let n of e)_D(this.app,n.next);return Promise.resolve()}};function Gx(t,e){return new Oh(t,e)}function zx(t){return{getToken:e=>Rh(t,e),getLimitedUseToken:()=>Ux(t),addTokenListener:e=>$x(t,"INTERNAL",e),removeTokenListener:e=>_D(t.app,e)}}var qx="@firebase/app-check",Qx="0.8.5";var Yx="app-check",fD="app-check-internal";function Zx(){Xi(new Ht(Yx,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Gx(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(fD).initialize()})),Xi(new Ht(fD,t=>{let e=t.getProvider("app-check").getImmediate();return zx(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),un(qx,Qx)}Zx();var Kx=["localhost","0.0.0.0","127.0.0.1"],zH=typeof window<"u"&&Kx.includes(window.location.hostname);var Xx="firebase",Jx="10.12.3";Be.registerVersion(Xx,Jx,"app-compat");var eR=["ngOnDestroy"],wD=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(eR.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return r?.spy?.apply&&r.spy.apply(o,c,d),d})})})});var nc=class{constructor(e){return e}},xi=new D("angularfire2.app.options"),Ri=new D("angularfire2.app.name");function cs(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=Be.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Be.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;tR("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new nc(s)}var tR=(t,...e)=>{Cf()&&typeof console<"u"&&console[t](...e)},nR={provide:nc,useFactory:cs,deps:[xi,Y,[new rl,Ri]]},ED=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:xi,useValue:n},{provide:Ri,useValue:r}]}}constructor(n){Be.registerVersion("angularfire",as.full,"core"),Be.registerVersion("angularfire",as.full,"app-compat"),Be.registerVersion("angular",y_.full,n.toString())}static \u0275fac=function(r){return new(r||t)(_(ot))};static \u0275mod=Ct({type:t});static \u0275inj=_t({providers:[nR]})}return t})();function rc(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return rR(i,s)||(DD("error",`${e} was already initialized on the ${n} Firebase App with different settings.${iR?" You may need to reload as Firebase is not HMR aware.":""}`),DD("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function rR(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var iR=typeof module<"u"&&!!module.hot,DD=(t,...e)=>{Cf()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var kh=new D("angularfire2.auth.use-emulator"),Ph=new D("angularfire2.auth.settings"),Fh=new D("angularfire2.auth.tenant-id"),Lh=new D("angularfire2.auth.langugage-code"),Vh=new D("angularfire2.auth.use-device-language"),jh=new D("angularfire.auth.persistence"),Bh=(t,e,n,r,i,o,s,a)=>rc(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]),ic=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,l,c,u,d,f,h){let p=new ie,g=S(void 0).pipe(et(s.outsideAngular),oe(()=>o.runOutsideAngular(()=>import("./chunk-AY2MJX7P.js"))),T(()=>cs(n,o,r)),T(C=>Bh(C,o,a,c,u,d,l,f)),ba({bufferSize:1,refCount:!1}));if(xo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=S(null);else{g.pipe(Te()).subscribe();let C=g.pipe(oe(M=>M.getRedirectResult().then(le=>le,()=>null)),sn,ba({bufferSize:1,refCount:!1})),w=g.pipe(oe(M=>new U(le=>({unsubscribe:o.runOutsideAngular(()=>M.onAuthStateChanged(Pe=>le.next(Pe),Pe=>le.error(Pe),()=>le.complete()))})))),$=g.pipe(oe(M=>new U(le=>({unsubscribe:o.runOutsideAngular(()=>M.onIdTokenChanged(Pe=>le.next(Pe),Pe=>le.error(Pe),()=>le.complete()))}))));this.authState=C.pipe(Sa(w),pt(s.outsideAngular),et(s.insideAngular)),this.user=C.pipe(Sa($),pt(s.outsideAngular),et(s.insideAngular)),this.idToken=this.user.pipe(oe(M=>M?J(M.getIdToken()):S(null))),this.idTokenResult=this.user.pipe(oe(M=>M?J(M.getIdTokenResult()):S(null))),this.credential=Lr(C,p,this.authState.pipe(Ue(M=>!M))).pipe(T(M=>M?.user?M:null),pt(s.outsideAngular),et(s.insideAngular))}return wD(this,g,o,{spy:{apply:(C,w,$)=>{(C.startsWith("signIn")||C.startsWith("createUser"))&&$.then(M=>p.next(M))}}})}static \u0275fac=function(r){return new(r||t)(_(xi),_(Ri,8),_(ot),_(Y),_(ec),_(kh,8),_(Ph,8),_(Fh,8),_(Lh,8),_(Vh,8),_(jh,8),_(fr,8))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var bD="@firebase/database",SD="1.0.6";var Xp="";function Jp(t){Xp=t}var Qh=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),de(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Gs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Yh=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Je(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var rw=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Qh(e)}}catch{}return new Yh},pr=rw("localStorage"),Zh=rw("sessionStorage");var Fi=new Ir("@firebase/database"),iw=function(){let t=1;return function(){return t++}}(),ow=function(t){let e=Qg(t),n=new qg;n.update(e);let r=n.digest();return Ws.encodeByteArray(r)},Os=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Os.apply(null,r):typeof r=="object"?e+=de(r):e+=r,e+=" "}return e},gr=null,TD=!0,sw=function(t,e){m(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Fi.logLevel=Yg.VERBOSE,gr=Fi.log.bind(Fi),e&&Zh.set("logging_enabled",!0)):typeof t=="function"?gr=t:(gr=null,Zh.remove("logging_enabled"))},_e=function(...t){if(TD===!0&&(TD=!1,gr===null&&Zh.get("logging_enabled")===!0&&sw(!0)),gr){let e=Os.apply(null,t);gr(e)}},ks=function(t){return function(...e){_e(t,...e)}},Kh=function(...t){let e="FIREBASE INTERNAL ERROR: "+Os(...t);Fi.error(e)},Bt=function(...t){let e=`FIREBASE FATAL ERROR: ${Os(...t)}`;throw Fi.error(e),new Error(e)},Ie=function(...t){let e="FIREBASE WARNING: "+Os(...t);Fi.warn(e)},oR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ie("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Rc=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},sR=function(t){if(Tt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},On="[MIN_NAME]",an="[MAX_NAME]",vr=function(t,e){if(t===e)return 0;if(t===On||e===an)return-1;if(e===On||t===an)return 1;{let n=MD(t),r=MD(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},aR=function(t,e){return t===e?0:t<e?-1:1},us=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+de(e))},eg=function(t){if(typeof t!="object"||t===null)return de(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=de(e[r]),n+=":",n+=eg(t[e[r]]);return n+="}",n},aw=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ce(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var lw=function(t){m(!Rc(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},lR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uR(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var dR=new RegExp("^-?(0*)\\d{1,10}$"),fR=-2147483648,hR=2147483647,MD=function(t){if(dR.test(t)){let e=Number(t);if(e>=fR&&e<=hR)return e}return null},Gi=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Ie("Exception was thrown by user callback.",n),e},Math.floor(0))}},pR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ps=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Xh=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ie(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Jh=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(_e("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ie(e)}},gs=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),sc="5",cw="v",uw="s",dw="r",fw="f",hw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pw="ls",gw="p",ep="ac",mw="websocket",vw="long_polling";var ac=class{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=pr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&pr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function gR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function yw(t,e,n){m(typeof e=="string","typeof type must == string"),m(typeof n=="object","typeof params must == object");let r;if(e===mw)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===vw)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);gR(t)&&(n.ns=t.namespace);let i=[];return Ce(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var tp=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Je(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return jg(this.counters_)}};var Uh={},$h={};function tg(t){let e=t.toString();return Uh[e]||(Uh[e]=new tp),Uh[e]}function mR(t,e){let n=t.toString();return $h[n]||($h[n]=e()),$h[n]}var np=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Gi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var AD="start",vR="close",yR="pLPCommand",_R="pRTLPCB",_w="id",Cw="pw",Dw="ser",CR="cb",DR="seg",wR="ts",ER="d",IR="dframe",ww=1870,Ew=30,bR=ww-Ew,SR=25e3,TR=3e4,_s=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ks(e),this.stats_=tg(n),this.urlFn=l=>(this.appCheckToken&&(l[ep]=this.appCheckToken),yw(n,vw,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new np(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(TR)),sR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rp((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===AD)this.id=a,this.password=l;else if(s===vR)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[AD]="t",r[Dw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[CR]=this.scriptTagHolder.uniqueCallbackIdentifier),r[cw]=sc,this.transportSessionId&&(r[uw]=this.transportSessionId),this.lastSessionId&&(r[pw]=this.lastSessionId),this.applicationId&&(r[gw]=this.applicationId),this.appCheckToken&&(r[ep]=this.appCheckToken),typeof location<"u"&&location.hostname&&hw.test(location.hostname)&&(r[dw]=fw);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Tt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!lR()&&!cR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=de(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Vg(n),i=aw(r,bR);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Tt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[IR]="t",r[_w]=e,r[Cw]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=de(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},rp=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Tt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=iw(),window[yR+this.uniqueCallbackIdentifier]=e,window[_R+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){_e("frame writing exception"),a.stack&&_e(a.stack),_e(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_e("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[_w]=this.myID,e[Cw]=this.myPW,e[Dw]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ew+r.length<=ww;){let s=this.pendingSegs.shift();r=r+"&"+DR+i+"="+s.seg+"&"+wR+i+"="+s.ts+"&"+ER+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(SR)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){Tt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{_e("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var MR=16384,AR=45e3,lc=null;typeof MozWebSocket<"u"?lc=MozWebSocket:typeof WebSocket<"u"&&(lc=WebSocket);var ki=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ks(this.connId),this.stats_=tg(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[cw]=sc,!Tt()&&typeof location<"u"&&location.hostname&&hw.test(location.hostname)&&(a[dw]=fw),r&&(a[uw]=r),i&&(a[pw]=i),o&&(a[ep]=o),s&&(a[gw]=s),yw(n,mw,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,pr.set("previous_websocket_failure",!0);try{let i;if(Tt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${sc}/${Xp}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new lc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&lc!==null&&!t.forceDisallow_}static previouslyFailed(){return pr.isInMemoryStorage||pr.get("previous_websocket_failure")===!0}markConnectionHealthy(){pr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Gs(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(m(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=de(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=aw(r,MR);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(AR))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),Iw=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[_s,ki]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=ki&&ki.isAvailable(),i=r&&!ki.previouslyFailed();if(n.webSocketOnly&&(r||Ie("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ki];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),NR=6e4,xR=5e3,RR=10*1024,OR=100*1024,Hh="t",ND="d",kR="s",xD="r",PR="e",RD="o",OD="a",kD="n",PD="p",FR="h",ip=class{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ks("c:"+this.id+":"),this.transportManager_=new Iw(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ps(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>OR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>RR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Hh in e){let n=e[Hh];n===OD?this.upgradeIfSecondaryHealthy_():n===xD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===RD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=us("t",e),r=us("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:OD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:kD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=us("t",e),r=us("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=us(Hh,e);if(ND in e){let r=e[ND];if(n===FR){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===kD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===kR?this.onConnectionShutdown_(r):n===xD?this.onReset_(r):n===PR?Kh("Server Error: "+r):n===RD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kh("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),sc!==r&&Ie("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ps(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(NR))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ps(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(xR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PD,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(pr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var cc=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var uc=class{constructor(e){this.allowedEvents_=e,this.listeners_={},m(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){m(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var dc=class t extends uc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Xc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return m(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var FD=32,LD=768,q=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function z(){return new q("")}function L(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function kn(t){return t.pieces_.length-t.pieceNum_}function X(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new q(t.pieces_,e)}function ng(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function LR(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Cs(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function bw(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new q(e,0)}function ne(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof q)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new q(n,0)}function V(t){return t.pieceNum_>=t.pieces_.length}function Re(t,e){let n=L(t),r=L(e);if(n===null)return e;if(n===r)return Re(X(t),X(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function VR(t,e){let n=Cs(t,0),r=Cs(e,0);for(let i=0;i<n.length&&i<r.length;i++){let o=vr(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function rg(t,e){if(kn(t)!==kn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ct(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(kn(t)>kn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var op=class{constructor(e,n){this.errorPrefix_=n,this.parts_=Cs(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ki(this.parts_[r]);Sw(this)}};function jR(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ki(e),Sw(t)}function BR(t){let e=t.parts_.pop();t.byteLength_-=Ki(e),t.parts_.length>0&&(t.byteLength_-=1)}function Sw(t){if(t.byteLength_>LD)throw new Error(t.errorPrefix_+"has a key path longer than "+LD+" bytes ("+t.byteLength_+").");if(t.parts_.length>FD)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+FD+") or object contains a cycle "+hr(t))}function hr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var sp=class t extends uc{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return m(e==="visible","Unknown event type: "+e),[this.visible_]}};var ds=1e3,UR=60*5*1e3,VD=30*1e3,$R=1.3,HR=3e4,WR="server_kill",jD=3,ig=(()=>{class t extends cc{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=ks("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ds,this.maxReconnectDelay_=UR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Tt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sp.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&dc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(de(s)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new ve,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Je(n,"w")){let i=cn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Ie(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Gg(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=VD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=Wg(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+de(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Kh("Unrecognized action received from server: "+de(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>HR&&(this.reconnectDelay_=ds),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$R)}this.onConnectStatus_(!1)}establishConnection_(){return re(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){m(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?_e("getToken() completed but was canceled"):(_e("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new ip(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{Ie(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(WR)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Ie(f),c())}}})}interrupt(n){_e("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){_e("Resuming connection for reason: "+n),delete this.interruptReasons_[n],zs(this.interruptReasons_)&&(this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>eg(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new q(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){_e("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jD&&(this.reconnectDelay_=VD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){_e("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Tt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Xp.replace(/\./g,"-")]=1,Xc()?n["framework.cordova"]=1:Ug()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=dc.getInstance().currentlyOnline();return zs(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),j=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Li=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new j(On,e),i=new j(On,n);return this.compare(r,i)!==0}minPost(){return j.MIN}};var oc,fc=class extends Li{static get __EMPTY_NODE(){return oc}static set __EMPTY_NODE(e){oc=e}compare(e,n){return vr(e.name,n.name)}isDefinedOn(e){throw Er("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return j.MIN}maxPost(){return new j(an,oc)}makePost(e,n){return m(typeof e=="string","KeyIndex indexValue must always be a string."),new j(e,oc)}toString(){return".key"}},jt=new fc;var Pi=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},bt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??ut.EMPTY_NODE,this.right=s??ut.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ut.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return ut.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),ap=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new bt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},ut=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,bt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,bt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Pi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Pi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Pi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Pi(this.root_,null,this.comparator_,!0,e)}};ut.EMPTY_NODE=new ap;function GR(t,e){return vr(t.name,e.name)}function og(t,e){return vr(t,e)}var lp;function zR(t){lp=t}var Tw=function(t){return typeof t=="number"?"number:"+lw(t):"string:"+t},Mw=function(t){if(t.isLeafNode()){let e=t.val();m(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Je(e,".sv"),"Priority must be a string or number.")}else m(t===lp||t.isEmpty(),"priority of unexpected type.");m(t===lp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var BD,Vi=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,m(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Mw(this.priorityNode_)}static set __childrenNodeConstructor(n){BD=n}static get __childrenNodeConstructor(){return BD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return V(n)?this:L(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=L(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(m(i!==".priority"||kn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Tw(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=lw(this.value_):n+=this.value_,this.lazyHash_=ow(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(m(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return m(o>=0,"Unknown leaf type: "+r),m(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),Aw,Nw;function qR(t){Aw=t}function QR(t){Nw=t}var cp=class extends Li{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?vr(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(an,new Vi("[PRIORITY-POST]",Nw))}makePost(e,n){let r=Aw(e);return new j(n,new Vi("[PRIORITY-POST]",r))}toString(){return".priority"}},ee=new cp;var YR=Math.log(2),up=class{constructor(e){let n=o=>parseInt(Math.log(o)/YR,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},hc=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new bt(f,d.node,bt.BLACK,null,null);{let h=parseInt(u/2,10)+l,p=i(l,h),g=i(h+1,c);return d=t[h],f=n?n(d):d,new bt(f,d.node,bt.BLACK,p,g)}},o=function(l){let c=null,u=null,d=t.length,f=function(p,g){let C=d-p,w=d;d-=p;let $=i(C+1,w),M=t[C],le=n?n(M):M;h(new bt(le,M.node,g,null,$))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let g=l.nextBitIsOne(),C=Math.pow(2,l.count-(p+1));g?f(C,bt.BLACK):(f(C,bt.BLACK),f(C,bt.RED))}return u},s=new up(t.length),a=o(s);return new ut(r||e,a)};var Wh,Oi={},ji=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return m(Oi&&ee,"ChildrenNode.ts has not been loaded"),Wh=Wh||new t({".priority":Oi},{".priority":ee}),Wh}get(e){let n=cn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ut?n:null}hasIndex(e){return Je(this.indexSet_,e.toString())}addIndex(e,n){m(e!==jt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(j.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=hc(r,e.getCompare()):a=Oi;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=Zi(this.indexes_,(i,o)=>{let s=cn(this.indexSet_,o);if(m(s,"Missing index implementation for "+o),i===Oi)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator(j.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),hc(a,s.getCompare())}else return Oi;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new j(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Zi(this.indexes_,i=>{if(i===Oi)return i;{let o=n.get(e.name);return o?i.remove(new j(e.name,o)):i}});return new t(r,this.indexSet_)}};var fs,R=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Mw(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fs||(fs=new t(new ut(og),null,ji.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fs}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?fs:r}}getChild(n){let r=L(n);return r===null?this:this.getImmediateChild(r).getChild(X(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(m(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new j(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?fs:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=L(n);if(i===null)return r;{m(L(n)!==".priority"||kn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(X(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(ee,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Tw(this.getPriority().val())+":"),this.forEachChild(ee,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":ow(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new j(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new j(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new j(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,j.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,j.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ps?-1:0}withIndex(n){if(n===jt||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===jt||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ee),o=r.getIterator(ee),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===jt?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),dp=class extends R{constructor(){super(new ut(og),R.EMPTY_NODE,ji.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return R.EMPTY_NODE}isEmpty(){return!1}},Ps=new dp;Object.defineProperties(j,{MIN:{value:new j(On,R.EMPTY_NODE)},MAX:{value:new j(an,Ps)}});fc.__EMPTY_NODE=R.EMPTY_NODE;Vi.__childrenNodeConstructor=R;zR(Ps);QR(Ps);var ZR=!0;function se(t,e=null){if(t===null)return R.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),m(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Vi(n,se(e))}if(!(t instanceof Array)&&ZR){let n=[],r=!1;if(Ce(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=se(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new j(s,l)))}}),n.length===0)return R.EMPTY_NODE;let o=hc(n,GR,s=>s.name,og);if(r){let s=hc(n,ee.getCompare());return new R(o,se(e),new ji({".priority":s},{".priority":ee}))}else return new R(o,se(e),ji.Default)}else{let n=R.EMPTY_NODE;return Ce(t,(r,i)=>{if(Je(t,r)&&r.substring(0,1)!=="."){let o=se(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(se(e))}}qR(se);var Ds=class extends Li{constructor(e){super(),this.indexPath_=e,m(!V(e)&&L(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?vr(e.name,n.name):o}makePost(e,n){let r=se(e),i=R.EMPTY_NODE.updateChild(this.indexPath_,r);return new j(n,i)}maxPost(){let e=R.EMPTY_NODE.updateChild(this.indexPath_,Ps);return new j(an,e)}toString(){return Cs(this.indexPath_,0).join("/")}};var fp=class extends Li{compare(e,n){let r=e.node.compareTo(n.node);return r===0?vr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(e,n){let r=se(e);return new j(n,r)}toString(){return".value"}},sg=new fp;function xw(t){return{type:"value",snapshotNode:t}}function Bi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ws(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Es(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function KR(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Is=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){m(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(ws(n,a)):m(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Bi(n,r)):s.trackChildChange(Es(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ee,(i,o)=>{n.hasChild(i)||r.trackChildChange(ws(i,o))}),n.isLeafNode()||n.forEachChild(ee,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Es(i,o,s))}else r.trackChildChange(Bi(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?R.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var pc=class t{constructor(e){this.indexedFilter_=new Is(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new j(n,r))||(r=R.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=R.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(R.EMPTY_NODE);let o=this;return n.forEachChild(ee,(s,a)=>{o.matches(new j(s,a))||(i=i.updateImmediateChild(s,R.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var hp=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new pc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new j(n,r))||(r=R.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=R.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=R.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(R.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,R.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;m(a.numChildren()===this.limit_,"");let l=new j(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Es(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(ws(n,d));let g=a.updateImmediateChild(n,R.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Bi(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(ws(c.name,c.node)),o.trackChildChange(Bi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,R.EMPTY_NODE)):e}};var bs=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ee}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:On}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:an}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ee}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function XR(t){return t.loadsAllData()?new Is(t.getIndex()):t.hasLimit()?new hp(t):new pc(t)}function JR(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function eO(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function pp(t,e,n){let r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function tO(t,e,n){let r;return t.index_===jt||n?r=pp(t,e,n):r=pp(t,e,an),r.startAfterSet_=!0,r}function gp(t,e,n){let r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function nO(t,e,n){let r;return t.index_===jt||n?r=gp(t,e,n):r=gp(t,e,On),r.endBeforeSet_=!0,r}function Oc(t,e){let n=t.copy();return n.index_=e,n}function UD(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ee?n="$priority":t.index_===sg?n="$value":t.index_===jt?n="$key":(m(t.index_ instanceof Ds,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=de(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=de(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+de(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=de(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+de(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $D(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ee&&(e.i=t.index_.toString()),e}var mp=class t extends cc{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ks("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(m(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let l=UD(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),cn(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=UD(e._queryParams),r=e._path.toString(),i=new ve;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+zg(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Gs(a.responseText)}catch{Ie("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ie("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var vp=class{constructor(){this.rootNode_=R.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function gc(){return{value:null,children:new Map}}function zi(t,e,n){if(V(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=L(e);t.children.has(r)||t.children.set(r,gc());let i=t.children.get(r);e=X(e),zi(i,e,n)}}function yp(t,e){if(V(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(ee,(r,i)=>{zi(t,new q(r),i)}),yp(t,e)}}else if(t.children.size>0){let n=L(e);return e=X(e),t.children.has(n)&&yp(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function _p(t,e,n){t.value!==null?n(e,t.value):rO(t,(r,i)=>{let o=new q(e.toString()+"/"+r);_p(i,o,n)})}function rO(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Cp=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ce(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var HD=10*1e3,iO=30*1e3,oO=5*60*1e3,Dp=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Cp(e);let r=HD+(iO-HD)*Math.random();ps(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Ce(e,(i,o)=>{o>0&&Je(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),ps(this.reportStats_.bind(this),Math.floor(Math.random()*2*oO))}};var Vt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Vt||{});function ag(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var wp=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Vt.ACK_USER_WRITE,this.source=ag()}operationForChild(e){if(V(this.path)){if(this.affectedTree.value!=null)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new q(e));return new t(z(),n,this.revert)}}else return m(L(this.path)===e,"operationForChild called for unrelated child."),new t(X(this.path),this.affectedTree,this.revert)}};var mc=class t{constructor(e,n){this.source=e,this.path=n,this.type=Vt.LISTEN_COMPLETE}operationForChild(e){return V(this.path)?new t(this.source,z()):new t(this.source,X(this.path))}};var Ui=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Vt.OVERWRITE}operationForChild(e){return V(this.path)?new t(this.source,z(),this.snap.getImmediateChild(e)):new t(this.source,X(this.path),this.snap)}};var Ss=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Vt.MERGE}operationForChild(e){if(V(this.path)){let n=this.children.subtree(new q(e));return n.isEmpty()?null:n.value?new Ui(this.source,z(),n.value):new t(this.source,z(),n)}else return m(L(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,X(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Ut=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(V(e))return this.isFullyInitialized()&&!this.filtered_;let n=L(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Ep=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function sO(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(KR(s.childName,s.snapshotNode))}),hs(t,i,"child_removed",e,r,n),hs(t,i,"child_added",e,r,n),hs(t,i,"child_moved",o,r,n),hs(t,i,"child_changed",e,r,n),hs(t,i,"value",e,r,n),i}function hs(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>lO(t,a,l)),s.forEach(a=>{let l=aO(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function aO(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function lO(t,e,n){if(e.childName==null||n.childName==null)throw Er("Should only compare child_ events.");let r=new j(e.childName,e.snapshotNode),i=new j(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function kc(t,e){return{eventCache:t,serverCache:e}}function ms(t,e,n,r){return kc(new Ut(e,n,r),t.serverCache)}function Rw(t,e,n,r){return kc(t.eventCache,new Ut(e,n,r))}function vc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function mr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Gh,cO=()=>(Gh||(Gh=new ut(aR)),Gh),Oe=class t{constructor(e,n=cO()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Ce(e,(r,i)=>{n=n.set(new q(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:z(),value:this.value};if(V(e))return null;{let r=L(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(X(e),n);return o!=null?{path:ne(new q(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(V(e))return this;{let n=L(e),r=this.children.get(n);return r!==null?r.subtree(X(e)):new t(null)}}set(e,n){if(V(e))return new t(n,this.children);{let r=L(e),o=(this.children.get(r)||new t(null)).set(X(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(V(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=L(e),r=this.children.get(n);if(r){let i=r.remove(X(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(V(e))return this.value;{let n=L(e),r=this.children.get(n);return r?r.get(X(e)):null}}setTree(e,n){if(V(e))return n;{let r=L(e),o=(this.children.get(r)||new t(null)).setTree(X(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(z(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(ne(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,z(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(V(e))return null;{let o=L(e),s=this.children.get(o);return s?s.findOnPath_(X(e),ne(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,z(),n)}foreachOnPath_(e,n,r){if(V(e))return this;{this.value&&r(n,this.value);let i=L(e),o=this.children.get(i);return o?o.foreachOnPath_(X(e),ne(n,i),r):new t(null)}}foreach(e){this.foreach_(z(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ne(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var St=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Oe(null))}};function vs(t,e,n){if(V(e))return new St(new Oe(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Re(i,e);return o=o.updateChild(s,n),new St(t.writeTree_.set(i,o))}else{let i=new Oe(n),o=t.writeTree_.setTree(e,i);return new St(o)}}}function Ip(t,e,n){let r=t;return Ce(n,(i,o)=>{r=vs(r,ne(e,i),o)}),r}function WD(t,e){if(V(e))return St.empty();{let n=t.writeTree_.setTree(e,new Oe(null));return new St(n)}}function bp(t,e){return yr(t,e)!=null}function yr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Re(n.path,e)):null}function GD(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ee,(r,i)=>{e.push(new j(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new j(r,i.value))}),e}function xn(t,e){if(V(e))return t;{let n=yr(t,e);return n!=null?new St(new Oe(n)):new St(t.writeTree_.subtree(e))}}function Sp(t){return t.writeTree_.isEmpty()}function $i(t,e){return Ow(z(),t.writeTree_,e)}function Ow(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(m(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Ow(ne(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ne(t,".priority"),r)),n}}function Pc(t,e){return Lw(e,t)}function uO(t,e,n,r,i){m(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=vs(t.visibleWrites,e,n)),t.lastWriteId=r}function dO(t,e,n,r){m(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ip(t.visibleWrites,e,n),t.lastWriteId=r}function fO(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function hO(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);m(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&pO(a,r.path)?i=!1:ct(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return gO(t),!0;if(r.snap)t.visibleWrites=WD(t.visibleWrites,r.path);else{let a=r.children;Ce(a,l=>{t.visibleWrites=WD(t.visibleWrites,ne(r.path,l))})}return!0}else return!1}function pO(t,e){if(t.snap)return ct(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&ct(ne(t.path,n),e))return!0;return!1}function gO(t){t.visibleWrites=kw(t.allWrites,mO,z()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function mO(t){return t.visible}function kw(t,e,n){let r=St.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)ct(n,s)?(a=Re(n,s),r=vs(r,a,o.snap)):ct(s,n)&&(a=Re(s,n),r=vs(r,z(),o.snap.getChild(a)));else if(o.children){if(ct(n,s))a=Re(n,s),r=Ip(r,a,o.children);else if(ct(s,n))if(a=Re(s,n),V(a))r=Ip(r,z(),o.children);else{let l=cn(o.children,L(a));if(l){let c=l.getChild(X(a));r=vs(r,z(),c)}}}else throw Er("WriteRecord should have .snap or .children")}}return r}function Pw(t,e,n,r,i){if(!r&&!i){let o=yr(t.visibleWrites,e);if(o!=null)return o;{let s=xn(t.visibleWrites,e);if(Sp(s))return n;if(n==null&&!bp(s,z()))return null;{let a=n||R.EMPTY_NODE;return $i(s,a)}}}else{let o=xn(t.visibleWrites,e);if(!i&&Sp(o))return n;if(!i&&n==null&&!bp(o,z()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(ct(c.path,e)||ct(e,c.path))},a=kw(t.allWrites,s,e),l=n||R.EMPTY_NODE;return $i(a,l)}}}function vO(t,e,n){let r=R.EMPTY_NODE,i=yr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ee,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=xn(t.visibleWrites,e);return n.forEachChild(ee,(s,a)=>{let l=$i(xn(o,new q(s)),a);r=r.updateImmediateChild(s,l)}),GD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=xn(t.visibleWrites,e);return GD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function yO(t,e,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=ne(e,n);if(bp(t.visibleWrites,o))return null;{let s=xn(t.visibleWrites,o);return Sp(s)?i.getChild(n):$i(s,i.getChild(n))}}function _O(t,e,n,r){let i=ne(e,n),o=yr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=xn(t.visibleWrites,i);return $i(s,r.getNode().getImmediateChild(n))}else return null}function CO(t,e){return yr(t.visibleWrites,e)}function DO(t,e,n,r,i,o,s){let a,l=xn(t.visibleWrites,e),c=yr(l,z());if(c!=null)a=c;else if(n!=null)a=$i(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function wO(){return{visibleWrites:St.empty(),allWrites:[],lastWriteId:-1}}function yc(t,e,n,r){return Pw(t.writeTree,t.treePath,e,n,r)}function ug(t,e){return vO(t.writeTree,t.treePath,e)}function zD(t,e,n,r){return yO(t.writeTree,t.treePath,e,n,r)}function _c(t,e){return CO(t.writeTree,ne(t.treePath,e))}function EO(t,e,n,r,i,o){return DO(t.writeTree,t.treePath,e,n,r,i,o)}function dg(t,e,n){return _O(t.writeTree,t.treePath,e,n)}function Fw(t,e){return Lw(ne(t.treePath,e),t.writeTree)}function Lw(t,e){return{treePath:t,writeTree:e}}var Tp=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;m(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),m(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Es(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ws(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Bi(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Es(r,e.snapshotNode,i.oldSnap));else throw Er("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Mp=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},Vw=new Mp,Ts=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Ut(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dg(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:mr(this.viewCache_),o=EO(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function IO(t){return{filter:t}}function bO(t,e){m(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),m(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function SO(t,e,n,r,i){let o=new Tp,s,a;if(n.type===Vt.OVERWRITE){let c=n;c.source.fromUser?s=Ap(t,e,c.path,c.snap,r,i,o):(m(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!V(c.path),s=Cc(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===Vt.MERGE){let c=n;c.source.fromUser?s=MO(t,e,c.path,c.children,r,i,o):(m(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=Np(t,e,c.path,c.children,r,i,a,o))}else if(n.type===Vt.ACK_USER_WRITE){let c=n;c.revert?s=xO(t,e,c.path,r,i,o):s=AO(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===Vt.LISTEN_COMPLETE)s=NO(t,e,n.path,r,o);else throw Er("Unknown operation type: "+n.type);let l=o.getChanges();return TO(e,s,l),{viewCache:s,changes:l}}function TO(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=vc(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(xw(vc(e)))}}function jw(t,e,n,r,i,o){let s=e.eventCache;if(_c(r,n)!=null)return e;{let a,l;if(V(n))if(m(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=mr(e),u=c instanceof R?c:R.EMPTY_NODE,d=ug(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let c=yc(r,mr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{let c=L(n);if(c===".priority"){m(kn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=e.serverCache.getNode();let d=zD(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=X(n),d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();let f=zD(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=dg(r,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return ms(e,a,s.isFullyInitialized()||V(n),t.filter.filtersNodes())}}function Cc(t,e,n,r,i,o,s,a){let l=e.serverCache,c,u=s?t.filter:t.filter.getIndexedFilter();if(V(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=L(n);if(!l.isCompleteForPath(n)&&kn(n)>1)return e;let p=X(n),C=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?c=u.updatePriority(l.getNode(),C):c=u.updateChild(l.getNode(),h,C,p,Vw,null)}let d=Rw(e,c,l.isFullyInitialized()||V(n),u.filtersNodes()),f=new Ts(i,d,o);return jw(t,d,n,i,f,a)}function Ap(t,e,n,r,i,o,s){let a=e.eventCache,l,c,u=new Ts(i,e,o);if(V(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=ms(e,c,!0,t.filter.filtersNodes());else{let d=L(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=ms(e,c,a.isFullyInitialized(),a.isFiltered());else{let f=X(n),h=a.getNode().getImmediateChild(d),p;if(V(f))p=r;else{let g=u.getCompleteChild(d);g!=null?ng(f)===".priority"&&g.getChild(bw(f)).isEmpty()?p=g:p=g.updateChild(f,r):p=R.EMPTY_NODE}if(h.equals(p))l=e;else{let g=t.filter.updateChild(a.getNode(),d,p,f,u,s);l=ms(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function qD(t,e){return t.eventCache.isCompleteForChild(e)}function MO(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{let u=ne(n,l);qD(e,L(u))&&(a=Ap(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{let u=ne(n,l);qD(e,L(u))||(a=Ap(t,a,u,c,i,o,s))}),a}function QD(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Np(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;V(n)?c=r:c=new Oe(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=QD(t,h,f);l=Cc(t,l,new q(d),p,i,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),g=QD(t,p,f);l=Cc(t,l,new q(d),g,i,o,s,a)}}),l}function AO(t,e,n,r,i,o,s){if(_c(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(V(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Cc(t,e,n,l.getNode().getChild(n),i,o,a,s);if(V(n)){let c=new Oe(null);return l.getNode().forEachChild(jt,(u,d)=>{c=c.set(new q(u),d)}),Np(t,e,n,c,i,o,a,s)}else return e}else{let c=new Oe(null);return r.foreach((u,d)=>{let f=ne(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Np(t,e,n,c,i,o,a,s)}}function NO(t,e,n,r,i){let o=e.serverCache,s=Rw(e,o.getNode(),o.isFullyInitialized()||V(n),o.isFiltered());return jw(t,s,n,r,Vw,i)}function xO(t,e,n,r,i,o){let s;if(_c(r,n)!=null)return e;{let a=new Ts(r,e,i),l=e.eventCache.getNode(),c;if(V(n)||L(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=yc(r,mr(e));else{let d=e.serverCache.getNode();m(d instanceof R,"serverChildren would be complete if leaf node"),u=ug(r,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{let u=L(n),d=dg(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,X(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,R.EMPTY_NODE,X(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=yc(r,mr(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||_c(r,z())!=null,ms(e,c,s,t.filter.filtersNodes())}}var xp=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Is(r.getIndex()),o=XR(r);this.processor_=IO(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(R.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(R.EMPTY_NODE,a.getNode(),null),u=new Ut(l,s.isFullyInitialized(),i.filtersNodes()),d=new Ut(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=kc(d,u),this.eventGenerator_=new Ep(this.query_)}get query(){return this.query_}};function RO(t){return t.viewCache_.serverCache.getNode()}function OO(t){return vc(t.viewCache_)}function kO(t,e){let n=mr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!V(e)&&!n.getImmediateChild(L(e)).isEmpty())?n.getChild(e):null}function YD(t){return t.eventRegistrations_.length===0}function PO(t,e){t.eventRegistrations_.push(e)}function ZD(t,e,n){let r=[];if(n){m(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function KD(t,e,n,r){e.type===Vt.MERGE&&e.source.queryId!==null&&(m(mr(t.viewCache_),"We should always have a full cache before handling merges"),m(vc(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=SO(t.processor_,i,e,n,r);return bO(t.processor_,o.viewCache),m(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Bw(t,o.changes,o.viewCache.eventCache.getNode(),null)}function FO(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ee,(o,s)=>{r.push(Bi(o,s))}),n.isFullyInitialized()&&r.push(xw(n.getNode())),Bw(t,r,n.getNode(),e)}function Bw(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return sO(t.eventGenerator_,e,n,i)}var Dc,wc=class{constructor(){this.views=new Map}};function LO(t){m(!Dc,"__referenceConstructor has already been defined"),Dc=t}function VO(){return m(Dc,"Reference.ts has not been loaded"),Dc}function jO(t){return t.views.size===0}function fg(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return m(o!=null,"SyncTree gave us an op for an invalid query."),KD(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(KD(s,e,n,r));return o}}function Uw(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=yc(n,i?r:null),l=!1;a?l=!0:r instanceof R?(a=ug(n,r),l=!1):(a=R.EMPTY_NODE,l=!1);let c=kc(new Ut(a,l,!1),new Ut(r,i,!1));return new xp(e,c)}return s}function BO(t,e,n,r,i,o){let s=Uw(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),PO(s,n),FO(s,n)}function UO(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=Pn(t);if(i==="default")for(let[l,c]of t.views.entries())s=s.concat(ZD(c,n,r)),YD(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=t.views.get(i);l&&(s=s.concat(ZD(l,n,r)),YD(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Pn(t)&&o.push(new(VO())(e._repo,e._path)),{removed:o,events:s}}function $w(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Rn(t,e){let n=null;for(let r of t.views.values())n=n||kO(r,e);return n}function Hw(t,e){if(e._queryParams.loadsAllData())return Fc(t);{let r=e._queryIdentifier;return t.views.get(r)}}function Ww(t,e){return Hw(t,e)!=null}function Pn(t){return Fc(t)!=null}function Fc(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Ec;function $O(t){m(!Ec,"__referenceConstructor has already been defined"),Ec=t}function HO(){return m(Ec,"Reference.ts has not been loaded"),Ec}var WO=1,Ic=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=wO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function hg(t,e,n,r,i){return uO(t.pendingWriteTree_,e,n,r,i),i?qi(t,new Ui(ag(),e,n)):[]}function GO(t,e,n,r){dO(t.pendingWriteTree_,e,n,r);let i=Oe.fromObject(n);return qi(t,new Ss(ag(),e,i))}function Nn(t,e,n=!1){let r=fO(t.pendingWriteTree_,e);if(hO(t.pendingWriteTree_,e)){let o=new Oe(null);return r.snap!=null?o=o.set(z(),!0):Ce(r.children,s=>{o=o.set(new q(s),!0)}),qi(t,new wp(r.path,o,n))}else return[]}function Fs(t,e,n){return qi(t,new Ui(lg(),e,n))}function zO(t,e,n){let r=Oe.fromObject(n);return qi(t,new Ss(lg(),e,r))}function qO(t,e){return qi(t,new mc(lg(),e))}function QO(t,e,n){let r=pg(t,n);if(r){let i=gg(r),o=i.path,s=i.queryId,a=Re(o,e),l=new mc(cg(s),a);return mg(t,o,l)}else return[]}function bc(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||Ww(s,e))){let l=UO(s,e,n,r);jO(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>Pn(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=KO(f);for(let p=0;p<h.length;++p){let g=h[p],C=g.query,w=Qw(t,g);t.listenProvider_.startListening(ys(C),Ms(t,C),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(ys(e),null):c.forEach(f=>{let h=t.queryToTagMap.get(Vc(f));t.listenProvider_.stopListening(ys(f),h)}))}XO(t,c)}return a}function Gw(t,e,n,r){let i=pg(t,r);if(i!=null){let o=gg(i),s=o.path,a=o.queryId,l=Re(s,e),c=new Ui(cg(a),l,n);return mg(t,s,c)}else return[]}function YO(t,e,n,r){let i=pg(t,r);if(i){let o=gg(i),s=o.path,a=o.queryId,l=Re(s,e),c=Oe.fromObject(n),u=new Ss(cg(a),l,c);return mg(t,s,u)}else return[]}function Rp(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Re(f,i);o=o||Rn(h,p),s=s||Pn(h)});let a=t.syncPointTree_.get(i);a?(s=s||Pn(a),o=o||Rn(a,z())):(a=new wc,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=R.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let g=Rn(p,z());g&&(o=o.updateImmediateChild(h,g))}));let c=Ww(a,e);if(!c&&!e._queryParams.loadsAllData()){let f=Vc(e);m(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=JO();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=Pc(t.pendingWriteTree_,i),d=BO(a,e,n,u,o,l);if(!c&&!s&&!r){let f=Hw(a,e);d=d.concat(ek(t,e,f))}return d}function Lc(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=Re(s,e),c=Rn(a,l);if(c)return c});return Pw(i,e,o,n,!0)}function ZO(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=Re(c,n);r=r||Rn(u,d)});let i=t.syncPointTree_.get(n);i?r=r||Rn(i,z()):(i=new wc,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new Ut(r,!0,!1):null,a=Pc(t.pendingWriteTree_,e._path),l=Uw(i,e,a,o?s.getNode():R.EMPTY_NODE,o);return OO(l)}function qi(t,e){return zw(e,t.syncPointTree_,null,Pc(t.pendingWriteTree_,z()))}function zw(t,e,n,r){if(V(t.path))return qw(t,e,n,r);{let i=e.get(z());n==null&&i!=null&&(n=Rn(i,z()));let o=[],s=L(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=Fw(r,s);o=o.concat(zw(a,l,c,u))}return i&&(o=o.concat(fg(i,t,r,n))),o}}function qw(t,e,n,r){let i=e.get(z());n==null&&i!=null&&(n=Rn(i,z()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=Fw(r,s),u=t.operationForChild(s);u&&(o=o.concat(qw(u,a,l,c)))}),i&&(o=o.concat(fg(i,t,r,n))),o}function Qw(t,e){let n=e.query,r=Ms(t,n);return{hashFn:()=>(RO(e)||R.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?QO(t,n._path,r):qO(t,n._path);{let o=uR(i,n);return bc(t,n,null,o)}}}}function Ms(t,e){let n=Vc(e);return t.queryToTagMap.get(n)}function Vc(t){return t._path.toString()+"$"+t._queryIdentifier}function pg(t,e){return t.tagToQueryMap.get(e)}function gg(t){let e=t.indexOf("$");return m(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new q(t.substr(0,e))}}function mg(t,e,n){let r=t.syncPointTree_.get(e);m(r,"Missing sync point for query tag that we're tracking");let i=Pc(t.pendingWriteTree_,e);return fg(r,n,i,null)}function KO(t){return t.fold((e,n,r)=>{if(n&&Pn(n))return[Fc(n)];{let i=[];return n&&(i=$w(n)),Ce(r,(o,s)=>{i=i.concat(s)}),i}})}function ys(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(HO())(t._repo,t._path):t}function XO(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Vc(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function JO(){return WO++}function ek(t,e,n){let r=e._path,i=Ms(t,e),o=Qw(t,n),s=t.listenProvider_.startListening(ys(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)m(!Pn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!V(c)&&u&&Pn(u))return[Fc(u).query];{let f=[];return u&&(f=f.concat($w(u).map(h=>h.query))),Ce(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(ys(u),Ms(t,u))}}return s}var Op=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},kp=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=ne(this.path_,e);return new t(this.syncTree_,n)}node(){return Lc(this.syncTree_,this.path_)}},tk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},XD=function(t,e,n){if(!t||typeof t!="object")return t;if(m(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return nk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return rk(t[".sv"],e);m(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},nk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:m(!1,"Unexpected server value: "+t)}},rk=function(t,e,n){t.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&m(!1,"Unexpected increment value: "+r);let i=e.node();if(m(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},Yw=function(t,e,n,r){return yg(e,new kp(n,t),r)},vg=function(t,e,n){return yg(t,new Op(e),n)};function yg(t,e,n){let r=t.getPriority().val(),i=XD(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=XD(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Vi(a,se(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Vi(i))),s.forEachChild(ee,(a,l)=>{let c=yg(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var As=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function jc(t,e){let n=e instanceof q?e:new q(e),r=t,i=L(n);for(;i!==null;){let o=cn(r.node.children,i)||{children:{},childCount:0};r=new As(i,r,o),n=X(n),i=L(n)}return r}function _r(t){return t.node.value}function _g(t,e){t.node.value=e,Pp(t)}function Zw(t){return t.node.childCount>0}function ik(t){return _r(t)===void 0&&!Zw(t)}function Bc(t,e){Ce(t.node.children,(n,r)=>{e(new As(n,t,r))})}function Kw(t,e,n,r){n&&!r&&e(t),Bc(t,i=>{Kw(i,e,!0,r)}),n&&r&&e(t)}function ok(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ls(t){return new q(t.parent===null?t.name:Ls(t.parent)+"/"+t.name)}function Pp(t){t.parent!==null&&sk(t.parent,t.name,t)}function sk(t,e,n){let r=ik(n),i=Je(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Pp(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Pp(t))}var ak=/[\[\].#$\/\u0000-\u001F\u007F]/,lk=/[\[\].#$\u0000-\u001F\u007F]/,zh=10*1024*1024,Uc=function(t){return typeof t=="string"&&t.length!==0&&!ak.test(t)},Xw=function(t){return typeof t=="string"&&t.length!==0&&!lk.test(t)},ck=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Xw(t)},Ns=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Rc(t)||t&&typeof t=="object"&&Je(t,".sv")},$t=function(t,e,n,r){r&&e===void 0||Vs(Fe(t,"value"),e,n)},Vs=function(t,e,n){let r=n instanceof q?new op(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+hr(r));if(typeof e=="function")throw new Error(t+"contains a function "+hr(r)+" with contents = "+e.toString());if(Rc(e))throw new Error(t+"contains "+e.toString()+" "+hr(r));if(typeof e=="string"&&e.length>zh/3&&Ki(e)>zh)throw new Error(t+"contains a string greater than "+zh+" utf8 bytes "+hr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ce(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Uc(s)))throw new Error(t+" contains an invalid key ("+s+") "+hr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);jR(r,s),Vs(t,a,r),BR(r)}),i&&o)throw new Error(t+' contains ".value" child '+hr(r)+" in addition to actual children.")}},uk=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let o=Cs(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Uc(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(VR);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&ct(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Jw=function(t,e,n,r){if(r&&e===void 0)return;let i=Fe(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let o=[];Ce(e,(s,a)=>{let l=new q(s);if(Vs(i,a,ne(n,l)),ng(l)===".priority"&&!Ns(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),uk(i,o)},Cg=function(t,e,n){if(!(n&&e===void 0)){if(Rc(e))throw new Error(Fe(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ns(e))throw new Error(Fe(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},js=function(t,e,n,r){if(!(r&&n===void 0)&&!Uc(n))throw new Error(Fe(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Qi=function(t,e,n,r){if(!(r&&n===void 0)&&!Xw(n))throw new Error(Fe(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dk=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Qi(t,e,n,r)},Ye=function(t,e){if(L(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},eE=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Uc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ck(n))throw new Error(Fe(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Fp=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function $c(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!rg(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function tE(t,e,n){$c(t,n),nE(t,r=>rg(r,e))}function Ze(t,e,n){$c(t,n),nE(t,r=>ct(r,e)||ct(e,r))}function nE(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(fk(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function fk(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();gr&&_e("event: "+n.toString()),Gi(r)}}}var rE="repo_interrupt",hk=25,Lp=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Fp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gc(),this.transactionQueueTree_=new As,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function pk(t,e,n){if(t.stats_=tg(t.repoInfo_),t.forceRestClient_||pR())t.server_=new mp(t.repoInfo_,(r,i,o,s)=>{JD(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ew(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{de(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ig(t.repoInfo_,e,(r,i,o,s)=>{JD(t,r,i,o,s)},r=>{ew(t,r)},r=>{gk(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=mR(t.repoInfo_,()=>new Dp(t.stats_,t.server_)),t.infoData_=new vp,t.infoSyncTree_=new Ic({startListening:(r,i,o,s)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Fs(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Dg(t,"connected",!1),t.serverSyncTree_=new Ic({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{let c=s(a,l);Ze(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function iE(t){let n=t.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Bs(t){return tk({timestamp:iE(t)})}function JD(t,e,n,r,i){t.dataUpdateCount++;let o=new q(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let l=Zi(n,c=>se(c));s=YO(t.serverSyncTree_,o,l,i)}else{let l=se(n);s=Gw(t.serverSyncTree_,o,l,i)}else if(r){let l=Zi(n,c=>se(c));s=zO(t.serverSyncTree_,o,l)}else{let l=se(n);s=Fs(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Hi(t,o)),Ze(t.eventQueue_,a,s)}function ew(t,e){Dg(t,"connected",e),e===!1&&yk(t)}function gk(t,e){Ce(e,(n,r)=>{Dg(t,n,r)})}function Dg(t,e,n){let r=new q("/.info/"+e),i=se(n);t.infoData_.updateSnapshot(r,i);let o=Fs(t.infoSyncTree_,r,i);Ze(t.eventQueue_,r,o)}function Hc(t){return t.nextWriteId_++}function mk(t,e,n){let r=ZO(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=se(i).withIndex(e._queryParams.getIndex());Rp(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Fs(t.serverSyncTree_,e._path,o);else{let a=Ms(t.serverSyncTree_,e);s=Gw(t.serverSyncTree_,e._path,o,a)}return Ze(t.eventQueue_,e._path,s),bc(t.serverSyncTree_,e,n,null,!0),o},i=>(Yi(t,"get for query "+de(e)+" failed: "+i),Promise.reject(new Error(i))))}function wg(t,e,n,r,i){Yi(t,"set",{path:e.toString(),value:n,priority:r});let o=Bs(t),s=se(n,r),a=Lc(t.serverSyncTree_,e),l=vg(s,a,o),c=Hc(t),u=hg(t.serverSyncTree_,e,l,c,!0);$c(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||Ie("set at "+e+" failed: "+f);let g=Nn(t.serverSyncTree_,c,!p);Ze(t.eventQueue_,e,g),Fn(t,i,f,h)});let d=Ig(t,e);Hi(t,d),Ze(t.eventQueue_,d,[])}function vk(t,e,n,r){Yi(t,"update",{path:e.toString(),value:n});let i=!0,o=Bs(t),s={};if(Ce(n,(a,l)=>{i=!1,s[a]=Yw(ne(e,a),se(l),t.serverSyncTree_,o)}),i)_e("update() called with empty data.  Don't do anything."),Fn(t,r,"ok",void 0);else{let a=Hc(t),l=GO(t.serverSyncTree_,e,s,a);$c(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let d=c==="ok";d||Ie("update at "+e+" failed: "+c);let f=Nn(t.serverSyncTree_,a,!d),h=f.length>0?Hi(t,e):e;Ze(t.eventQueue_,h,f),Fn(t,r,c,u)}),Ce(n,c=>{let u=Ig(t,ne(e,c));Hi(t,u)}),Ze(t.eventQueue_,e,[])}}function yk(t){Yi(t,"onDisconnectEvents");let e=Bs(t),n=gc();_p(t.onDisconnect_,z(),(i,o)=>{let s=Yw(i,o,t.serverSyncTree_,e);zi(n,i,s)});let r=[];_p(n,z(),(i,o)=>{r=r.concat(Fs(t.serverSyncTree_,i,o));let s=Ig(t,i);Hi(t,s)}),t.onDisconnect_=gc(),Ze(t.eventQueue_,z(),r)}function _k(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&yp(t.onDisconnect_,e),Fn(t,n,r,i)})}function tw(t,e,n,r){let i=se(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{o==="ok"&&zi(t.onDisconnect_,e,i),Fn(t,r,o,s)})}function Ck(t,e,n,r,i){let o=se(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{s==="ok"&&zi(t.onDisconnect_,e,o),Fn(t,i,s,a)})}function Dk(t,e,n,r){if(zs(n)){_e("onDisconnect().update() called with empty data.  Don't do anything."),Fn(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{i==="ok"&&Ce(n,(s,a)=>{let l=se(a);zi(t.onDisconnect_,ne(e,s),l)}),Fn(t,r,i,o)})}function wk(t,e,n){let r;L(e._path)===".info"?r=Rp(t.infoSyncTree_,e,n):r=Rp(t.serverSyncTree_,e,n),tE(t.eventQueue_,e._path,r)}function Vp(t,e,n){let r;L(e._path)===".info"?r=bc(t.infoSyncTree_,e,n):r=bc(t.serverSyncTree_,e,n),tE(t.eventQueue_,e._path,r)}function oE(t){t.persistentConnection_&&t.persistentConnection_.interrupt(rE)}function Ek(t){t.persistentConnection_&&t.persistentConnection_.resume(rE)}function Yi(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),_e(n,...e)}function Fn(t,e,n,r){e&&Gi(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function Ik(t,e,n,r,i,o){Yi(t,"transaction on "+e);let s={path:e,update:n,onComplete:r,status:null,order:iw(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Eg(t,e,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Vs("transaction failed: Data returned ",l,s.path),s.status=0;let c=jc(t.transactionQueueTree_,e),u=_r(c)||[];u.push(s),_g(c,u);let d;typeof l=="object"&&l!==null&&Je(l,".priority")?(d=cn(l,".priority"),m(Ns(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Lc(t.serverSyncTree_,e)||R.EMPTY_NODE).getPriority().val();let f=Bs(t),h=se(l,d),p=vg(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=p,s.currentWriteId=Hc(t);let g=hg(t.serverSyncTree_,e,p,s.currentWriteId,s.applyLocally);Ze(t.eventQueue_,e,g),Wc(t,t.transactionQueueTree_)}}function Eg(t,e,n){return Lc(t.serverSyncTree_,e,n)||R.EMPTY_NODE}function Wc(t,e=t.transactionQueueTree_){if(e||Gc(t,e),_r(e)){let n=aE(t,e);m(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&bk(t,Ls(e),n)}else Zw(e)&&Bc(e,n=>{Wc(t,n)})}function bk(t,e,n){let r=n.map(c=>c.currentWriteId),i=Eg(t,e,r),o=i,s=i.hash();for(let c=0;c<n.length;c++){let u=n[c];m(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Re(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Yi(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Nn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Gc(t,jc(t.transactionQueueTree_,e)),Wc(t,t.transactionQueueTree_),Ze(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Gi(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ie("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Hi(t,e)}},s)}function Hi(t,e){let n=sE(t,e),r=Ls(n),i=aE(t,n);return Sk(t,i,r),r}function Sk(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=Re(n,l.path),u=!1,d;if(m(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Nn(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=hk)u=!0,d="maxretry",i=i.concat(Nn(t.serverSyncTree_,l.currentWriteId,!0));else{let f=Eg(t,l.path,s);l.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){Vs("transaction failed: Data returned ",h,l.path);let p=se(h);typeof h=="object"&&h!=null&&Je(h,".priority")||(p=p.updatePriority(f.getPriority()));let C=l.currentWriteId,w=Bs(t),$=vg(p,f,w);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=$,l.currentWriteId=Hc(t),s.splice(s.indexOf(C),1),i=i.concat(hg(t.serverSyncTree_,l.path,$,l.currentWriteId,l.applyLocally)),i=i.concat(Nn(t.serverSyncTree_,C,!0))}else u=!0,d="nodata",i=i.concat(Nn(t.serverSyncTree_,l.currentWriteId,!0))}Ze(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Gc(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Gi(r[a]);Wc(t,t.transactionQueueTree_)}function sE(t,e){let n,r=t.transactionQueueTree_;for(n=L(e);n!==null&&_r(r)===void 0;)r=jc(r,n),e=X(e),n=L(e);return r}function aE(t,e){let n=[];return lE(t,e,n),n.sort((r,i)=>r.order-i.order),n}function lE(t,e,n){let r=_r(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Bc(e,i=>{lE(t,i,n)})}function Gc(t,e){let n=_r(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,_g(e,n.length>0?n:void 0)}Bc(e,r=>{Gc(t,r)})}function Ig(t,e){let n=Ls(sE(t,e)),r=jc(t.transactionQueueTree_,e);return ok(r,i=>{qh(t,i)}),qh(t,r),Kw(r,i=>{qh(t,i)}),n}function qh(t,e){let n=_r(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(m(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(m(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Nn(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?_g(e,void 0):n.length=o+1,Ze(t.eventQueue_,Ls(e),i);for(let s=0;s<r.length;s++)Gi(r[s])}}function Tk(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Mk(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ie(`Invalid query segment '${n}' in query '${t}'`)}return e}var jp=function(t,e){let n=Ak(t),r=n.namespace;n.domain==="firebase.com"&&Bt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Bt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||oR();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ac(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new q(n.pathString)}},Ak=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=Tk(t.substring(u,d)));let f=Mk(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var nw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Nk=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=nw.charAt(n%64),n=Math.floor(n/64);m(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=nw.charAt(e[i]);return m(s.length===20,"nextPushId: Length should be 20."),s}}();var Sc=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+de(this.snapshot.exportVal())}},Tc=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var xs=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return m(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Mc=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new ve;return _k(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Ye("OnDisconnect.remove",this._path);let e=new ve;return tw(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Ye("OnDisconnect.set",this._path),$t("OnDisconnect.set",e,this._path,!1);let n=new ve;return tw(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Ye("OnDisconnect.setWithPriority",this._path),$t("OnDisconnect.setWithPriority",e,this._path,!1),Cg("OnDisconnect.setWithPriority",n,!1);let r=new ve;return Ck(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Ye("OnDisconnect.update",this._path),Jw("OnDisconnect.update",e,this._path,!1);let n=new ve;return Dk(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var ke=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return V(this._path)?null:ng(this._path)}get ref(){return new Ke(this._repo,this._path)}get _queryIdentifier(){let e=$D(this._queryParams),n=eg(e);return n==="{}"?"default":n}get _queryObject(){return $D(this._queryParams)}isEqual(e){if(e=be(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=rg(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+LR(this._path)}};function zc(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Vn(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===jt){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==On)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==an)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ee){if(e!=null&&!Ns(e)||n!=null&&!Ns(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(m(t.getIndex()instanceof Ds||t.getIndex()===sg,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qc(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ke=class t extends ke{constructor(e,n){super(e,n,new bs,!1)}get parent(){let e=bw(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Wi=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new q(e),r=Ln(this.ref,e);return new t(this._node.getChild(n),r,ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,Ln(this.ref,r),ee)))}hasChild(e){let n=new q(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function bg(t,e){return t=be(t),t._checkNotDeleted("ref"),e!==void 0?Ln(t._root,e):t._root}function Sg(t,e){t=be(t),t._checkNotDeleted("refFromURL");let n=jp(e,t._repo.repoInfo_.nodeAdmin);eE("refFromURL",n);let r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Bt("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),bg(t,n.path.toString())}function Ln(t,e){return t=be(t),L(t._path)===null?dk("child","path",e,!1):Qi("child","path",e,!1),new Ke(t._repo,ne(t._path,e))}function cE(t,e){t=be(t),Ye("push",t._path),$t("push",e,t._path,!0);let n=iE(t._repo),r=Nk(n),i=Ln(t,r),o=Ln(t,r),s;return e!=null?s=Qc(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function uE(t){return Ye("remove",t._path),Qc(t,null)}function Qc(t,e){t=be(t),Ye("set",t._path),$t("set",e,t._path,!1);let n=new ve;return wg(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function dE(t,e){t=be(t),Ye("setPriority",t._path),Cg("setPriority",e,!1);let n=new ve;return wg(t._repo,ne(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function fE(t,e,n){if(Ye("setWithPriority",t._path),$t("setWithPriority",e,t._path,!1),Cg("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let r=new ve;return wg(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function hE(t,e){Jw("update",e,t._path,!1);let n=new ve;return vk(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function pE(t){t=be(t);let e=new xs(()=>{}),n=new Rs(e);return mk(t._repo,t,n).then(r=>new Wi(r,new Ke(t._repo,t._path),t._queryParams.getIndex()))}var Rs=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Sc("value",this,new Wi(e.snapshotNode,new Ke(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Tc(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Ac=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Tc(this,e,n):null}createEvent(e,n){m(e.childName!=null,"Child events should have a childName.");let r=Ln(new Ke(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Sc(e.type,this,new Wi(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Us(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{Vp(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new xs(n,o||void 0),a=e==="value"?new Rs(s):new Ac(e,s);return wk(t._repo,t,a),()=>Vp(t._repo,t,a)}function Yc(t,e,n,r){return Us(t,"value",e,n,r)}function Tg(t,e,n,r){return Us(t,"child_added",e,n,r)}function Mg(t,e,n,r){return Us(t,"child_changed",e,n,r)}function Ag(t,e,n,r){return Us(t,"child_moved",e,n,r)}function Ng(t,e,n,r){return Us(t,"child_removed",e,n,r)}function xg(t,e,n){let r=null,i=n?new xs(n):null;e==="value"?r=new Rs(i):e&&(r=new Ac(e,i)),Vp(t._repo,t,r)}var Xe=class{},Nc=class extends Xe{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){$t("endAt",this._value,e._path,!0);let n=gp(e._queryParams,this._value,this._key);if(qc(n),Vn(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ke(e._repo,e._path,n,e._orderByCalled)}};function gE(t,e){return js("endAt","key",e,!0),new Nc(t,e)}var Bp=class extends Xe{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){$t("endBefore",this._value,e._path,!1);let n=nO(e._queryParams,this._value,this._key);if(qc(n),Vn(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ke(e._repo,e._path,n,e._orderByCalled)}};function mE(t,e){return js("endBefore","key",e,!0),new Bp(t,e)}var xc=class extends Xe{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){$t("startAt",this._value,e._path,!0);let n=pp(e._queryParams,this._value,this._key);if(qc(n),Vn(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ke(e._repo,e._path,n,e._orderByCalled)}};function vE(t=null,e){return js("startAt","key",e,!0),new xc(t,e)}var Up=class extends Xe{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){$t("startAfter",this._value,e._path,!1);let n=tO(e._queryParams,this._value,this._key);if(qc(n),Vn(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ke(e._repo,e._path,n,e._orderByCalled)}};function yE(t,e){return js("startAfter","key",e,!0),new Up(t,e)}var $p=class extends Xe{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ke(e._repo,e._path,JR(e._queryParams,this._limit),e._orderByCalled)}};function _E(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new $p(t)}var Hp=class extends Xe{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ke(e._repo,e._path,eO(e._queryParams,this._limit),e._orderByCalled)}};function CE(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Hp(t)}var Wp=class extends Xe{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){zc(e,"orderByChild");let n=new q(this._path);if(V(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new Ds(n),i=Oc(e._queryParams,r);return Vn(i),new ke(e._repo,e._path,i,!0)}};function DE(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Qi("orderByChild","path",t,!1),new Wp(t)}var Gp=class extends Xe{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){zc(e,"orderByKey");let n=Oc(e._queryParams,jt);return Vn(n),new ke(e._repo,e._path,n,!0)}};function wE(){return new Gp}var zp=class extends Xe{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){zc(e,"orderByPriority");let n=Oc(e._queryParams,ee);return Vn(n),new ke(e._repo,e._path,n,!0)}};function EE(){return new zp}var qp=class extends Xe{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){zc(e,"orderByValue");let n=Oc(e._queryParams,sg);return Vn(n),new ke(e._repo,e._path,n,!0)}};function IE(){return new qp}var Qp=class extends Xe{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if($t("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Nc(this._value,this._key)._apply(new xc(this._value,this._key)._apply(e))}};function bE(t,e){return js("equalTo","key",e,!0),new Qp(t,e)}function dt(t,...e){let n=be(t);for(let r of e)n=r._apply(n);return n}LO(Ke);$O(Ke);var xk="FIREBASE_DATABASE_EMULATOR_HOST",Yp={},Rk=!1;function Ok(t,e,n,r){t.repoInfo_=new ac(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Rg(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Bt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_e("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=jp(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[xk]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=jp(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let u=i&&l?new gs(gs.OWNER):new Jh(t.name,t.options,e);eE("Invalid Firebase Database URL",s),V(s.path)||Bt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=Pk(a,t,u,new Xh(t.name,n));return new Zp(d,t)}function kk(t,e){let n=Yp[e];(!n||n[t.key]!==t)&&Bt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),oE(t),delete n[t.key]}function Pk(t,e,n,r){let i=Yp[e.name];i||(i={},Yp[e.name]=i);let o=i[t.toURLString()];return o&&Bt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Lp(t,Rk,n,r),i[t.toURLString()]=o,o}var Zp=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ke(this._repo,z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Bt("Cannot call "+e+" on a deleted database.")}};function SE(){Iw.IS_TRANSPORT_INITIALIZED&&Ie("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function TE(){SE(),_s.forceDisallow()}function ME(){SE(),ki.forceDisallow(),_s.forceAllow()}function AE(t,e,n,r={}){t=be(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Bt("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Bt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new gs(gs.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:Bg(r.mockUserToken,t.app.options.projectId);o=new gs(s)}Ok(i,e,n,o)}function NE(t){t=be(t),t._checkNotDeleted("goOffline"),oE(t._repo)}function xE(t){t=be(t),t._checkNotDeleted("goOnline"),Ek(t._repo)}function RE(t,e){sw(t,e)}function Fk(t){Jp(Zg),Xi(new Ht("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Rg(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),un(bD,SD,t),un(bD,SD,"esm2017")}var Lk={".sv":"timestamp"};function OE(){return Lk}function kE(t){return{".sv":{increment:t}}}var Kp=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function PE(t,e,n){var r;if(t=be(t),Ye("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,o=new ve,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new Wi(u,new Ke(t._repo,t._path),ee),o.resolve(new Kp(c,d)))},a=Yc(t,()=>{});return Ik(t._repo,t._path,e,s,a,i),o.promise}ig.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ig.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Fk();var Vk="@firebase/database-compat",jk="1.0.6";var Bk=new Ir("@firebase/database-compat"),FE=function(t){let e="FIREBASE WARNING: "+t;Bk.warn(e)};var Uk=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Fe(t,e)+"must be a boolean.")},$k=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Fe(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var Og=class{constructor(e){this._delegate=e}cancel(e){I("OnDisconnect.cancel",0,1,arguments.length),he("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){I("OnDisconnect.remove",0,1,arguments.length),he("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){I("OnDisconnect.set",1,2,arguments.length),he("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){I("OnDisconnect.setWithPriority",2,3,arguments.length),he("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if(I("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,FE("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}he("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}};var kg=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return I("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Cr=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return I("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return I("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return I("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return I("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return I("DataSnapshot.child",0,1,arguments.length),e=String(e),Qi("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return I("DataSnapshot.hasChild",1,1,arguments.length),Qi("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return I("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return I("DataSnapshot.forEach",1,1,arguments.length),he("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return I("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return I("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return I("DataSnapshot.ref",0,0,arguments.length),new ln(this._database,this._delegate.ref)}get ref(){return this.getRef()}},Zc=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;I("Query.on",2,4,arguments.length),he("Query.on","callback",n,!1);let s=t.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new Cr(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(e){case"value":return Yc(this._delegate,a,l),n;case"child_added":return Tg(this._delegate,a,l),n;case"child_removed":return Ng(this._delegate,a,l),n;case"child_changed":return Mg(this._delegate,a,l),n;case"child_moved":return Ag(this._delegate,a,l),n;default:throw new Error(Fe("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(I("Query.off",0,3,arguments.length),$k("Query.off",e,!0),he("Query.off","callback",n,!0),Jc("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,xg(this._delegate,e,i)}else xg(this._delegate,e)}get(){return pE(this._delegate).then(e=>new Cr(this.database,e))}once(e,n,r,i){I("Query.once",1,4,arguments.length),he("Query.once","callback",n,!0);let o=t.getCancelAndContextArgs_("Query.once",r,i),s=new ve,a=(c,u)=>{let d=new Cr(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(e){case"value":Yc(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Tg(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":Ng(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":Mg(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Ag(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Fe("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return I("Query.limitToFirst",1,1,arguments.length),new t(this.database,dt(this._delegate,_E(e)))}limitToLast(e){return I("Query.limitToLast",1,1,arguments.length),new t(this.database,dt(this._delegate,CE(e)))}orderByChild(e){return I("Query.orderByChild",1,1,arguments.length),new t(this.database,dt(this._delegate,DE(e)))}orderByKey(){return I("Query.orderByKey",0,0,arguments.length),new t(this.database,dt(this._delegate,wE()))}orderByPriority(){return I("Query.orderByPriority",0,0,arguments.length),new t(this.database,dt(this._delegate,EE()))}orderByValue(){return I("Query.orderByValue",0,0,arguments.length),new t(this.database,dt(this._delegate,IE()))}startAt(e=null,n){return I("Query.startAt",0,2,arguments.length),new t(this.database,dt(this._delegate,vE(e,n)))}startAfter(e=null,n){return I("Query.startAfter",0,2,arguments.length),new t(this.database,dt(this._delegate,yE(e,n)))}endAt(e=null,n){return I("Query.endAt",0,2,arguments.length),new t(this.database,dt(this._delegate,gE(e,n)))}endBefore(e=null,n){return I("Query.endBefore",0,2,arguments.length),new t(this.database,dt(this._delegate,mE(e,n)))}equalTo(e,n){return I("Query.equalTo",1,2,arguments.length),new t(this.database,dt(this._delegate,bE(e,n)))}toString(){return I("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return I("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(I("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,he(e,"cancel",i.cancel,!0),i.context=r,Jc(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Fe(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new ln(this.database,new Ke(this._delegate._repo,this._delegate._path))}},ln=class t extends Zc{constructor(e,n){super(e,new ke(n._repo,n._path,new bs,!1)),this.database=e,this._delegate=n}getKey(){return I("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return I("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,Ln(this._delegate,e))}getParent(){I("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return I("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){I("Reference.set",1,2,arguments.length),he("Reference.set","onComplete",n,!0);let r=Qc(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(I("Reference.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,FE("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ye("Reference.update",this._delegate._path),he("Reference.update","onComplete",n,!0);let r=hE(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){I("Reference.setWithPriority",2,3,arguments.length),he("Reference.setWithPriority","onComplete",r,!0);let i=fE(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){I("Reference.remove",0,1,arguments.length),he("Reference.remove","onComplete",e,!0);let n=uE(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){I("Reference.transaction",1,3,arguments.length),he("Reference.transaction","transactionUpdate",e,!1),he("Reference.transaction","onComplete",n,!0),Uk("Reference.transaction","applyLocally",r,!0);let i=PE(this._delegate,e,{applyLocally:r}).then(o=>new kg(o.committed,new Cr(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){I("Reference.setPriority",1,2,arguments.length),he("Reference.setPriority","onComplete",n,!0);let r=dE(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){I("Reference.push",0,2,arguments.length),he("Reference.push","onComplete",n,!0);let r=cE(this._delegate,e),i=r.then(s=>new t(this.database,s));n&&i.then(()=>n(null),s=>n(s));let o=new t(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return Ye("Reference.onDisconnect",this._delegate._path),new Og(new Mc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Dr=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:TE,forceLongPolling:ME}}useEmulator(e,n,r={}){AE(this._delegate,e,n,r)}ref(e){if(I("database.ref",0,1,arguments.length),e instanceof ln){let n=Sg(this._delegate,e.toString());return new ln(this,n)}else{let n=bg(this._delegate,e);return new ln(this,n)}}refFromURL(e){I("database.refFromURL",1,1,arguments.length);let r=Sg(this._delegate,e);return new ln(this,r)}goOffline(){return I("database.goOffline",0,0,arguments.length),NE(this._delegate)}goOnline(){return I("database.goOnline",0,0,arguments.length),xE(this._delegate)}};Dr.ServerValue={TIMESTAMP:OE(),increment:t=>kE(t)};function Hk({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){Jp(n);let a=new eu("database-standalone"),l=new qs("auth-internal",a);l.setComponent(new Ht("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new qs("app-check-internal",a),c.setComponent(new Ht("app-check-internal",()=>i,"PRIVATE"))),{instance:new Dr(Rg(t,l,c,e,s),t),namespace:o}}var Wk=Object.freeze({__proto__:null,initStandalone:Hk});var Gk=Dr.ServerValue;function zk(t){t.INTERNAL.registerComponent(new Ht("database-compat",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Dr(i,r)},"PUBLIC").setServiceProps({Reference:ln,Query:Zc,Database:Dr,DataSnapshot:Cr,enableLogging:RE,INTERNAL:Wk,ServerValue:Gk}).setMultipleInstances(!0)),t.registerVersion(Vk,jk)}zk(Be);function $s(t,e,n="on",r=ro){return new U(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),n==="on"?{unsubscribe(){o!=null&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(T(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),so())}function qk(t){return typeof t=="string"}function Qk(t){return typeof t.exportVal=="function"}function UE(t){return t==null}function $E(t){return typeof t.set=="function"}function LE(t,e){return $E(e)?e:t.ref(e)}function HE(t,e){if(qk(t))return e.stringCase();if($E(t))return e.firebaseCase();if(Qk(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function WE(t){return(UE(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function GE(t,e,n){e=WE(e);let r=e.map(i=>$s(t,i,"on",n));return Lr(...r)}function Yk(t,e,n){let r=GE(t,e).pipe(Br((i,o)=>[...i,o],[]));return Kk(t,r,n)}function Zk(t,e){return $s(t,"value","on",e).pipe(T(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function Kk(t,e,n){return Zk(t,n).pipe(Mu(e),T(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),bu(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),T(i=>i.actions))}function VE(t,e){return function(r,i){return HE(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function Xk(t){return function(n){return n?HE(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function Jk(t,e,n){return $s(t,"value","once",n).pipe(oe(r=>{let i=[S(r)];return e.forEach(o=>i.push($s(t,o,"on",n))),Lr(...i).pipe(Br(tP,[]))}),wu())}function zE(t,e){let n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function eP(t,e){if(UE(e))return 0;{let n=zE(t,e);return n===-1?t.length:n+1}}function tP(t,e){let{payload:n,prevKey:r,key:i}=e,o=zE(t,i),s=eP(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,t=[...t,c],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(l=>l.payload.key!==n.key),t.splice(s,0,e));else{if(r==null)return[e,...t];t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){let a=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,a),t}return t;default:return t}}function jE(t,e,n){return e=WE(e),Jk(t,e,n)}function nP(t,e){let n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:VE(r,"update"),set:VE(r,"set"),push:i=>r.push(i),remove:Xk(r),snapshotChanges(i){return jE(t,i,n).pipe(sn)},stateChanges(i){return GE(t,i,n).pipe(sn)},auditTrail(i){return Yk(t,i,n).pipe(sn)},valueChanges(i,o){return jE(t,i,n).pipe(T(a=>a.map(l=>o&&o.idField?H(y({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),sn)}}}function BE(t,e){return function(){return $s(t,"value","on",e)}}function rP(t,e){return{query:t,snapshotChanges(){return BE(t,e.schedulers.outsideAngular)().pipe(sn)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return BE(t,e.schedulers.outsideAngular)().pipe(sn,T(r=>r.payload.exists()?r.payload.val():null))}}}var iP=new D("angularfire2.realtimeDatabaseURL"),oP=new D("angularfire2.database.use-emulator"),qE=(()=>{class t{schedulers;database;constructor(n,r,i,o,s,a,l,c,u,d,f,h,p,g,C){this.schedulers=a;let w=l,$=cs(n,s,r);c&&Bh($,s,u,f,h,p,d,g),this.database=rc(`${$.name}.database.${i}`,"AngularFireDatabase",$.name,()=>{let M=s.runOutsideAngular(()=>$.database(i||void 0));return w&&M.useEmulator(...w),M},[w])}list(n,r){let i=this.schedulers.ngZone.runOutsideAngular(()=>LE(this.database,n)),o=i;return r&&(o=r(i)),nP(o,this)}object(n){let r=this.schedulers.ngZone.runOutsideAngular(()=>LE(this.database,n));return rP(r,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||t)(_(xi),_(Ri,8),_(iP,8),_(ot),_(Y),_(ec),_(oP,8),_(ic,8),_(kh,8),_(Ph,8),_(Fh,8),_(Lh,8),_(Vh,8),_(jh,8),_(fr,8))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var jn=(()=>{class t{fbAuth;fbDb;get user(){return this.fbAuth.user.pipe(Te()).toPromise()}constructor(n,r){this.fbAuth=n,this.fbDb=r}login(n,r){return re(this,null,function*(){console.log("Logging in...");let i=yield this.fbAuth.signInWithEmailAndPassword(n,r);console.log("Login result:",i)})}addData(n,r){return re(this,null,function*(){console.log("Adding data...");let i=yield this.fbDb.list(n).push(r);console.log("Added data:",i)})}static \u0275fac=function(r){return new(r||t)(_(ic),_(qE))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var YE=(()=>{class t{fireBaseProvider;acidity=0;feeling=0;loading=!1;submitFailed=!1;constructor(n){this.fireBaseProvider=n}sendValues(){return re(this,null,function*(){try{this.loading=!0;let n={acidity:this.acidity,feeling:this.feeling};yield this.fireBaseProvider.addData(bh.WERKBEOORDELING,n)}catch(n){console.error(n),this.submitFailed=!0}this.loading=!1})}static \u0275fac=function(r){return new(r||t)(G(jn))};static \u0275cmp=kt({type:t,selectors:[["app-fill-score"]],standalone:!0,features:[Ft],decls:11,vars:3,consts:[[1,"values"],[1,"value"],[3,"ngModelChange","reverse","ngModel"],[3,"ngModelChange","ngModel"],[3,"click"]],template:function(r,i){r&1&&(fe(0,"div",0)(1,"div",1)(2,"h2"),We(3,"Hoe zuur ben je?"),ue(),fe(4,"app-slider",2),hi("ngModelChange",function(s){return Mo(i.acidity,s)||(i.acidity=s),s}),ue()(),fe(5,"div",1)(6,"h2"),We(7,"Wat is je gemoedstoestand?"),ue(),fe(8,"app-slider",3),hi("ngModelChange",function(s){return Mo(i.feeling,s)||(i.feeling=s),s}),ue()(),fe(9,"button",4),at("click",function(){return i.sendValues()}),We(10,"Verzenden!"),ue()()),r&2&&(st(4),wn("reverse",!0),fi("ngModel",i.acidity),st(4),fi("ngModel",i.feeling))},dependencies:[aD,Xl,Ni,ss],styles:["[_nghost-%COMP%]   .values[_ngcontent-%COMP%]{margin:auto;height:100%;display:flex;flex-direction:column;justify-content:center;max-width:32rem;min-width:16rem}[_nghost-%COMP%]   .values[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .values[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:1rem}"]})}return t})();function aP(t,e){t&1&&(fe(0,"small"),We(1,"Email is verplicht"),ue())}function lP(t,e){t&1&&(fe(0,"small"),We(1,"Ongeldig email adres"),ue())}function cP(t,e){if(t&1&&ui(0,aP,2,0,"small")(1,lP,2,0,"small"),t&2){let n=To();di(!(n.email==null||n.email.errors==null)&&n.email.errors.required?0:-1),st(),di(!(n.email==null||n.email.errors==null)&&n.email.errors.email?1:-1)}}function uP(t,e){t&1&&(fe(0,"small"),We(1,"Wachtwoord is verplicht"),ue())}function dP(t,e){if(t&1&&ui(0,uP,2,0,"small"),t&2){let n=To();di(!(n.password==null||n.password.errors==null)&&n.password.errors.required?0:-1)}}var ZE=(()=>{class t{fireBaseProvider;router;loginForm=new zl({email:new os("",[Ti.required,Ti.email]),password:new os("",[Ti.required])});loginFailed=!1;loading=!1;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}constructor(n,r){this.fireBaseProvider=n,this.router=r}login(){return re(this,null,function*(){try{this.loading=!0,yield this.fireBaseProvider.login(this.email?.value,this.password?.value),yield this.router.navigate(["/fill-score"])}catch(n){console.error(n),this.loginFailed=!0}this.loading=!1})}static \u0275fac=function(r){return new(r||t)(G(jn),G(Sn))};static \u0275cmp=kt({type:t,selectors:[["app-login"]],standalone:!0,features:[Ft],decls:13,vars:4,consts:[[3,"ngSubmit","formGroup"],["for","email"],["id","email","formControlName","email","type","email"],["for","password"],["id","password","formControlName","password","type","password"],["type","submit",3,"disabled"]],template:function(r,i){r&1&&(fe(0,"form",0),at("ngSubmit",function(){return i.login()}),fe(1,"div")(2,"label",1),We(3,"Email:"),ue(),En(4,"input",2),ui(5,cP,2,2),ue(),fe(6,"div")(7,"label",3),We(8,"Password:"),ue(),En(9,"input",4),ui(10,dP,1,1),ue(),fe(11,"button",5),We(12,"Login"),ue()()),r&2&&(wn("formGroup",i.loginForm),st(5),di(i.email!=null&&i.email.invalid&&(i.email!=null&&i.email.dirty||i.email!=null&&i.email.touched)?5:-1),st(5),di(i.password!=null&&i.password.invalid&&(i.password!=null&&i.password.dirty||i.password!=null&&i.password.touched)?10:-1),st(),wn("disabled",i.loginForm.invalid))},dependencies:[sD,rD,Ai,Ni,ZC,wh,Eh]})}return t})();var KE=(t,e)=>re(void 0,null,function*(){let n=v(Sn);return(yield v(jn).user)?(yield n.navigate(["/fill-score"]),!1):!0});var XE=(t,e)=>re(void 0,null,function*(){let n=v(Sn);return(yield v(jn).user)?!0:(yield n.navigate(["/login"]),!1)});var JE=[{path:"login",component:ZE,pathMatch:"full",canActivate:[KE]},{path:"fill-score",component:YE,pathMatch:"full",canActivate:[XE]},{path:"**",redirectTo:"fill-score",pathMatch:"full"}];var eI={firebaseConfig:{apiKey:"AIzaSyCuRcP3yE6bQna_3QejsMh2BE3wttptI-8",authDomain:"werkbeoordeelisator-69.firebaseapp.com",projectId:"werkbeoordeelisator-69",storageBucket:"werkbeoordeelisator-69.appspot.com",messagingSenderId:"918835579953",appId:"1:918835579953:web:624a944336b5ac78e55910",measurementId:"G-3RM2SN6XM0",databaseURL:"https://werkbeoordeelisator-69-default-rtdb.europe-west1.firebasedatabase.app"}};var tI={providers:[I_({eventCoalescing:!0}),TC(JE),Vd(ED.initializeApp(eI.firebaseConfig))]};var nI=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=kt({type:t,selectors:[["app-root"]],standalone:!0,features:[Ft],decls:1,vars:0,consts:[[1,"outlet"]],template:function(r,i){r&1&&En(0,"router-outlet",0)},dependencies:[ah],styles:[".frikandelbroodje[_ngcontent-%COMP%]{color:red}"]})}return t})();G_(nI,tI).catch(t=>console.error(t));
