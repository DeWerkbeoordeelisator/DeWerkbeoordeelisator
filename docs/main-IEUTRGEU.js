import{A as So,B as Gm,C as Um,D as I,E as tt,F as Ie,G as ku,H as $m,I as wo,J as Ue,K as fn,L as Ca,M as Fu,N as Wm,O as Qr,P as bo,Q as zm,R as qm,S as kn,T as at,a as C,b as K,c as ge,d as Pm,e as ma,f as xm,g as Rm,h as y,i as Xr,j as va,k as Om,l as km,m as Pe,n as Fm,o as Ou,p as Lm,q as zt,r as Vm,s as Bm,t as ya,u as be,v as Hm,w as jm,x as yt,y as On,z as _a}from"./chunk-YI2MOBZN.js";function Km(t,e){return Object.is(t,e)}var Me=null,Da=!1,Ea=1,hn=Symbol("SIGNAL");function X(t){let e=Me;return Me=t,e}function Xm(){return Me}var Mo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Bu(t){if(Da)throw new Error("");if(Me===null)return;Me.consumerOnSignalRead(t);let e=Me.nextProducerIndex++;if(ba(Me),e<Me.producerNode.length&&Me.producerNode[e]!==t&&Io(Me)){let n=Me.producerNode[e];wa(n,Me.producerIndexOfThis[e])}Me.producerNode[e]!==t&&(Me.producerNode[e]=t,Me.producerIndexOfThis[e]=Io(Me)?Jm(t,Me,e):0),Me.producerLastReadVersion[e]=t.version}function vS(){Ea++}function Qm(t){if(!(Io(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ea)){if(!t.producerMustRecompute(t)&&!ju(t)){t.dirty=!1,t.lastCleanEpoch=Ea;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ea}}function Ym(t){if(t.liveConsumerNode===void 0)return;let e=Da;Da=!0;try{for(let n of t.liveConsumerNode)n.dirty||yS(n)}finally{Da=e}}function Zm(){return Me?.consumerAllowSignalWrites!==!1}function yS(t){t.dirty=!0,Ym(t),t.consumerMarkedDirty?.(t)}function Sa(t){return t&&(t.nextProducerIndex=0),X(t)}function Hu(t,e){if(X(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Io(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)wa(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ju(t){ba(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Qm(n),r!==n.version))return!0}return!1}function Gu(t){if(ba(t),Io(t))for(let e=0;e<t.producerNode.length;e++)wa(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Jm(t,e,n){if(ev(t),t.liveConsumerNode.length===0&&tv(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Jm(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function wa(t,e){if(ev(t),t.liveConsumerNode.length===1&&tv(t))for(let r=0;r<t.producerNode.length;r++)wa(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ba(i),i.producerIndexOfThis[r]=e}}function Io(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ba(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ev(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function tv(t){return t.producerNode!==void 0}function nv(t){let e=Object.create(_S);e.computation=t;let n=()=>{if(Qm(e),Bu(e),e.value===Ta)throw e.error;return e.value};return n[hn]=e,n}var Lu=Symbol("UNSET"),Vu=Symbol("COMPUTING"),Ta=Symbol("ERRORED"),_S=K(C({},Mo),{value:Lu,dirty:!0,error:null,equal:Km,producerMustRecompute(t){return t.value===Lu||t.value===Vu},producerRecomputeValue(t){if(t.value===Vu)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Vu;let n=Sa(t),r;try{r=t.computation()}catch(i){r=Ta,t.error=i}finally{Hu(t,n)}if(e!==Lu&&e!==Ta&&r!==Ta&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function CS(){throw new Error}var rv=CS;function iv(){rv()}function ov(t){rv=t}var DS=null;function sv(t){let e=Object.create(lv);e.value=t;let n=()=>(Bu(e),e.value);return n[hn]=e,n}function Uu(t,e){Zm()||iv(),t.equal(t.value,e)||(t.value=e,ES(t))}function av(t,e){Zm()||iv(),Uu(t,e(t.value))}var lv=K(C({},Mo),{equal:Km,value:void 0});function ES(t){t.version++,vS(),Ym(t),DS?.()}function O(t){return typeof t=="function"}function Yr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ia=Yr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(o){e=o instanceof Ia?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{cv(o)}catch(s){e=e??[],s instanceof Ia?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ia(e)}}add(e){var n;if(e&&e!==this)if(this.closed)cv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&hr(n,e)}remove(e){let{_finalizers:n}=this;n&&hr(n,e),e instanceof t&&e._removeParent(this)}};Se.EMPTY=(()=>{let t=new Se;return t.closed=!0,t})();var $u=Se.EMPTY;function Ma(t){return t instanceof Se||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function cv(t){O(t)?t():t.unsubscribe()}var Pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zr={setTimeout(t,e,...n){let{delegate:r}=Zr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Zr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Aa(t){Zr.setTimeout(()=>{let{onUnhandledError:e}=Pt;if(e)e(t);else throw t})}function pr(){}var uv=Wu("C",void 0,void 0);function dv(t){return Wu("E",void 0,t)}function fv(t){return Wu("N",t,void 0)}function Wu(t,e,n){return{kind:t,value:e,error:n}}var gr=null;function Jr(t){if(Pt.useDeprecatedSynchronousErrorHandling){let e=!gr;if(e&&(gr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=gr;if(gr=null,n)throw r}}else t()}function hv(t){Pt.useDeprecatedSynchronousErrorHandling&&gr&&(gr.errorThrown=!0,gr.error=t)}var mr=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ma(e)&&e.add(this)):this.destination=wS}static create(e,n,r){return new pn(e,n,r)}next(e){this.isStopped?qu(fv(e),this):this._next(e)}error(e){this.isStopped?qu(dv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qu(uv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TS=Function.prototype.bind;function zu(t,e){return TS.call(t,e)}var Ku=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Na(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Na(r)}else Na(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Na(n)}}},pn=class extends mr{constructor(e,n,r){super();let i;if(O(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Pt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zu(e.next,o),error:e.error&&zu(e.error,o),complete:e.complete&&zu(e.complete,o)}):i=e}this.destination=new Ku(i)}};function Na(t){Pt.useDeprecatedSynchronousErrorHandling?hv(t):Aa(t)}function SS(t){throw t}function qu(t,e){let{onStoppedNotification:n}=Pt;n&&Zr.setTimeout(()=>n(t,e))}var wS={closed:!0,next:pr,error:SS,complete:pr};var ei=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Fe(t){return t}function Xu(...t){return Qu(t)}function Qu(t){return t.length===0?Fe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=IS(n)?n:new pn(n,r,i);return Jr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=pv(r),new r((i,o)=>{let s=new pn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ei](){return this}pipe(...n){return Qu(n)(this)}toPromise(n){return n=pv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function pv(t){var e;return(e=t??Pt.Promise)!==null&&e!==void 0?e:Promise}function bS(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}function IS(t){return t&&t instanceof mr||bS(t)&&Ma(t)}function Yu(t){return O(t?.lift)}function V(t){return e=>{if(Yu(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function F(t,e,n,r,i){return new Zu(t,e,n,r,i)}var Zu=class extends mr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ti(){return V((t,e)=>{let n=null;t._refCount++;let r=F(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ni=class extends Q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Yu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let n=this.getSubject();e.add(this.source.subscribe(F(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return ti()(this)}};var gv=Yr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=(()=>{class t extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Pa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new gv}next(n){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?$u:(this.currentObservers=null,o.push(n),new Se(()=>{this.currentObservers=null,hr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Q;return n.source=this,n}}return t.create=(e,n)=>new Pa(e,n),t})(),Pa=class extends ye{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:$u}};var Le=class extends ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ao={now(){return(Ao.delegate||Date).now()},delegate:void 0};var xa=class extends ye{constructor(e=1/0,n=1/0,r=Ao){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Ra=class extends Se{constructor(e,n){super()}schedule(e,n=0){return this}};var No={setInterval(t,e,...n){let{delegate:r}=No;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=No;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ri=class extends Ra{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return No.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&No.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ii=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ii.now=Ao.now;var oi=class extends ii{constructor(e,n=ii.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Po=new oi(ri);var Oa=class extends ri{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ka=class extends oi{};var Ju=new ka(Oa);var $e=new Q(t=>t.complete());function mv(t){return t&&O(t.schedule)}function ed(t){return t[t.length-1]}function si(t){return O(ed(t))?t.pop():void 0}function qt(t){return mv(ed(t))?t.pop():void 0}function vv(t,e){return typeof ed(t)=="number"?t.pop():e}var Fa=t=>t&&typeof t.length=="number"&&typeof t!="function";function La(t){return O(t?.then)}function Va(t){return O(t[ei])}function Ba(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function Ha(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function MS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ja=MS();function Ga(t){return O(t?.[ja])}function Ua(t){return xm(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ma(n.read());if(i)return yield ma(void 0);yield yield ma(r)}}finally{n.releaseLock()}})}function $a(t){return O(t?.getReader)}function se(t){if(t instanceof Q)return t;if(t!=null){if(Va(t))return AS(t);if(Fa(t))return NS(t);if(La(t))return PS(t);if(Ba(t))return yv(t);if(Ga(t))return xS(t);if($a(t))return RS(t)}throw Ha(t)}function AS(t){return new Q(e=>{let n=t[ei]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function NS(t){return new Q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function PS(t){return new Q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Aa)})}function xS(t){return new Q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function yv(t){return new Q(e=>{OS(t,e).catch(n=>e.error(n))})}function RS(t){return yv(Ua(t))}function OS(t,e){var n,r,i,o;return Pm(this,void 0,void 0,function*(){try{for(n=Rm(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function nt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function _t(t,e=0){return V((n,r)=>{n.subscribe(F(r,i=>nt(r,t,()=>r.next(i),e),()=>nt(r,t,()=>r.complete(),e),i=>nt(r,t,()=>r.error(i),e)))})}function xt(t,e=0){return V((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function _v(t,e){return se(t).pipe(xt(e),_t(e))}function Cv(t,e){return se(t).pipe(xt(e),_t(e))}function Dv(t,e){return new Q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ev(t,e){return new Q(n=>{let r;return nt(n,e,()=>{r=t[ja](),nt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}function Wa(t,e){if(!t)throw new Error("Iterable cannot be null");return new Q(n=>{nt(n,e,()=>{let r=t[Symbol.asyncIterator]();nt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Tv(t,e){return Wa(Ua(t),e)}function Sv(t,e){if(t!=null){if(Va(t))return _v(t,e);if(Fa(t))return Dv(t,e);if(La(t))return Cv(t,e);if(Ba(t))return Wa(t,e);if(Ga(t))return Ev(t,e);if($a(t))return Tv(t,e)}throw Ha(t)}function ue(t,e){return e?Sv(t,e):se(t)}function N(...t){let e=qt(t);return ue(t,e)}function ai(t,e){let n=O(t)?t:()=>t,r=i=>i.error(n());return new Q(e?i=>e.schedule(r,0,i):r)}function td(t){return!!t&&(t instanceof Q||O(t.lift)&&O(t.subscribe))}var gn=Yr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function P(t,e){return V((n,r)=>{let i=0;n.subscribe(F(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:kS}=Array;function FS(t,e){return kS(e)?t(...e):t(e)}function za(t){return P(e=>FS(t,e))}var{isArray:LS}=Array,{getPrototypeOf:VS,prototype:BS,keys:HS}=Object;function qa(t){if(t.length===1){let e=t[0];if(LS(e))return{args:e,keys:null};if(jS(e)){let n=HS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function jS(t){return t&&typeof t=="object"&&VS(t)===BS}function Ka(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Xa(...t){let e=qt(t),n=si(t),{args:r,keys:i}=qa(t);if(r.length===0)return ue([],e);let o=new Q(GS(r,e,i?s=>Ka(i,s):Fe));return n?o.pipe(za(n)):o}function GS(t,e,n=Fe){return r=>{wv(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)wv(e,()=>{let c=ue(t[l],e),u=!1;c.subscribe(F(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function wv(t,e,n){t?nt(n,t,e):e()}function bv(t,e,n,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=v=>c<r?m(v):l.push(v),m=v=>{o&&e.next(v),c++;let _=!1;se(n(v,u++)).subscribe(F(e,w=>{i?.(w),o?h(w):e.next(w)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){let w=l.shift();s?nt(e,s,()=>m(w)):m(w)}f()}catch(w){e.error(w)}}))};return t.subscribe(F(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Ae(t,e,n=1/0){return O(e)?Ae((r,i)=>P((o,s)=>e(r,o,i,s))(se(t(r,i))),n):(typeof e=="number"&&(n=e),V((r,i)=>bv(r,i,t,n)))}function xo(t=1/0){return Ae(Fe,t)}function Iv(){return xo(1)}function li(...t){return Iv()(ue(t,qt(t)))}function Qa(t){return new Q(e=>{se(t()).subscribe(e)})}function nd(...t){let e=si(t),{args:n,keys:r}=qa(t),i=new Q(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;se(n[u]).subscribe(F(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Ka(r,a):a),o.complete())}))}});return e?i.pipe(za(e)):i}function ci(...t){let e=qt(t),n=vv(t,1/0),r=t;return r.length?r.length===1?se(r[0]):xo(n)(ue(r,e)):$e}function lt(t,e){return V((n,r)=>{let i=0;n.subscribe(F(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Fn(t){return V((e,n)=>{let r=null,i=!1,o;r=e.subscribe(F(n,void 0,void 0,s=>{o=se(t(s,Fn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Mv(t,e,n,r,i){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(F(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function ui(t,e){return O(e)?Ae(t,e,1):Ae(t,1)}function Ln(t){return V((e,n)=>{let r=!1;e.subscribe(F(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function mn(t){return t<=0?()=>$e:V((e,n)=>{let r=0;e.subscribe(F(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function rd(t){return P(()=>t)}function id(t,e=Fe){return t=t??US,V((n,r)=>{let i,o=!0;n.subscribe(F(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function US(t,e){return t===e}function Ya(t=$S){return V((e,n)=>{let r=!1;e.subscribe(F(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $S(){return new gn}function Ro(t){return V((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function We(t,e){let n=arguments.length>=2;return r=>r.pipe(t?lt((i,o)=>t(i,o,r)):Fe,mn(1),n?Ln(e):Ya(()=>new gn))}function di(t){return t<=0?()=>$e:V((e,n)=>{let r=[];e.subscribe(F(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function od(t,e){let n=arguments.length>=2;return r=>r.pipe(t?lt((i,o)=>t(i,o,r)):Fe,di(1),n?Ln(e):Ya(()=>new gn))}function fi(t,e){return V(Mv(t,e,arguments.length>=2,!0))}function Oo(t={}){let{connector:e=()=>new ye,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},m=()=>{let v=s;h(),v?.unsubscribe()};return V((v,_)=>{c++,!d&&!u&&f();let w=l=l??e();_.add(()=>{c--,c===0&&!d&&!u&&(a=sd(m,i))}),w.subscribe(_),!s&&c>0&&(s=new pn({next:W=>w.next(W),error:W=>{d=!0,f(),a=sd(h,n,W),w.error(W)},complete:()=>{u=!0,f(),a=sd(h,r),w.complete()}}),se(v).subscribe(s))})(o)}}function sd(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new pn({next:()=>{r.unsubscribe(),t()}});return se(e(...n)).subscribe(r)}function Za(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,Oo({connector:()=>new xa(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ad(t){return V((e,n)=>{let r=!1,i=0;e.subscribe(F(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}function ld(...t){let e=qt(t);return V((n,r)=>{(e?li(t,n,e):li(t,n)).subscribe(r)})}function _e(t,e){return V((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(F(r,l=>{i?.unsubscribe();let c=0,u=o++;se(t(l,u)).subscribe(i=F(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ja(t,e){return O(e)?_e(()=>t,e):_e(()=>t)}function cd(t){return V((e,n)=>{se(t).subscribe(F(n,()=>n.complete(),pr)),!n.closed&&e.subscribe(n)})}function Ne(t,e,n){let r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?V((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(F(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Fe}function ud(...t){let e=si(t);return V((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let l=0;l<i;l++)se(t[l]).subscribe(F(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(Fe))&&(s=null))},pr));n.subscribe(F(r,l=>{if(a){let c=[l,...o];r.next(e?e(...c):c)}}))})}var WS="https://g.co/ng/security#xss",M=class extends Error{constructor(e,n){super(vf(e,n)),this.code=e}};function vf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Xo(t){return{toString:t}.toString()}var el="__parameters__";function zS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function qS(t,e,n){return Xo(()=>{let r=zS(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(el)?l[el]:Object.defineProperty(l,el,{value:[]})[el];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var bd=globalThis;function ae(t){for(let e in t)if(t[e]===ae)return e;throw Error("Could not find renamed property on target object.")}function KS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function rt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(rt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Av(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var XS=ae({__forward_ref__:ae});function Zt(t){return t.__forward_ref__=Zt,t.toString=function(){return rt(this())},t}function ze(t){return fy(t)?t():t}function fy(t){return typeof t=="function"&&t.hasOwnProperty(XS)&&t.__forward_ref__===Zt}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ml(t){return Nv(t,py)||Nv(t,gy)}function hy(t){return Ml(t)!==null}function Nv(t,e){return t.hasOwnProperty(e)?t[e]:null}function QS(t){let e=t&&(t[py]||t[gy]);return e||null}function Pv(t){return t&&(t.hasOwnProperty(xv)||t.hasOwnProperty(YS))?t[xv]:null}var py=ae({\u0275prov:ae}),xv=ae({\u0275inj:ae}),gy=ae({ngInjectableDef:ae}),YS=ae({ngInjectorDef:ae}),T=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function my(t){return t&&!!t.\u0275providers}var ZS=ae({\u0275cmp:ae}),JS=ae({\u0275dir:ae}),ew=ae({\u0275pipe:ae}),tw=ae({\u0275mod:ae}),ll=ae({\u0275fac:ae}),ko=ae({__NG_ELEMENT_ID__:ae}),Rv=ae({__NG_ENV_ID__:ae});function vy(t){return typeof t=="string"?t:t==null?"":String(t)}function nw(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():vy(t)}function rw(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new M(-200,t)}function yf(t,e){throw new M(-201,!1)}var G=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(G||{}),Id;function yy(){return Id}function Ct(t){let e=Id;return Id=t,e}function _y(t,e,n){let r=Ml(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&G.Optional)return null;if(e!==void 0)return e;yf(t,"Injector")}var iw={},Fo=iw,Md="__NG_DI_FLAG__",cl="ngTempTokenPath",ow="ngTokenPath",sw=/\n/gm,aw="\u0275",Ov="__source",mi;function lw(){return mi}function Vn(t){let e=mi;return mi=t,e}function cw(t,e=G.Default){if(mi===void 0)throw new M(-203,!1);return mi===null?_y(t,void 0,e):mi.get(t,e&G.Optional?null:void 0,e)}function E(t,e=G.Default){return(yy()||cw)(ze(t),e)}function D(t,e=G.Default){return E(t,Al(e))}function Al(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ad(t){let e=[];for(let n=0;n<t.length;n++){let r=ze(t[n]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let i,o=G.Default;for(let s=0;s<r.length;s++){let a=r[s],l=dw(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(E(i,o))}else e.push(E(r))}return e}function uw(t,e){return t[Md]=e,t.prototype[Md]=e,t}function dw(t){return t[Md]}function fw(t,e,n,r){let i=t[cl];throw e[Ov]&&i.unshift(e[Ov]),t.message=hw(`
`+t.message,i,n,r),t[ow]=i,t[cl]=null,t}function hw(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==aw?t.slice(2):t;let i=rt(e);if(Array.isArray(e))i=e.map(rt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):rt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sw,`
  `)}`}var Nl=uw(qS("Optional"),8);function yi(t,e){let n=t.hasOwnProperty(ll);return n?t[ll]:null}function _f(t,e){t.forEach(n=>Array.isArray(n)?_f(n,e):e(n))}function Cy(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ul(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pw(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function gw(t,e,n){let r=Qo(t,e);return r>=0?t[r|1]=n:(r=~r,pw(t,r,e,n)),r}function dd(t,e){let n=Qo(t,e);if(n>=0)return t[n|1]}function Qo(t,e){return mw(t,e,1)}function mw(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var _i={},Dt=[],Ci=new T(""),Dy=new T("",-1),Ey=new T(""),dl=class{get(e,n=Fo){if(n===Fo){let r=new Error(`NullInjectorError: No provider for ${rt(e)}!`);throw r.name="NullInjectorError",r}return n}},Ty=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ty||{}),Qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qt||{}),jn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(jn||{});function vw(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Nd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];_w(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function yw(t){return t===3||t===4||t===6}function _w(t){return t.charCodeAt(0)===64}function Lo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?kv(t,n,i,null,e[++r]):kv(t,n,i,null,null))}}return t}function kv(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Sy="ng-template";function Cw(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&vw(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Cf(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Cf(t){return t.type===4&&t.value!==Sy}function Dw(t,e,n){let r=t.type===4&&!n?Sy:t.value;return e===r}function Ew(t,e,n){let r=4,i=t.attrs,o=i!==null?ww(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Rt(r)&&!Rt(l))return!1;if(s&&Rt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!Dw(t,l,n)||l===""&&e.length===1){if(Rt(r))return!1;s=!0}}else if(r&8){if(i===null||!Cw(t,i,l,n)){if(Rt(r))return!1;s=!0}}else{let c=e[++a],u=Tw(l,i,Cf(t),n);if(u===-1){if(Rt(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Rt(r))return!1;s=!0}}}}return Rt(r)||s}function Rt(t){return(t&1)===0}function Tw(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return bw(e,t)}function Sw(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ew(t,e[r],n))return!0;return!1}function ww(t){for(let e=0;e<t.length;e++){let n=t[e];if(yw(n))return e}return t.length}function bw(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Fv(t,e){return t?":not("+e.trim()+")":e}function Iw(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Rt(s)&&(e+=Fv(o,i),i=""),r=s,o=o||!Rt(r);n++}return i!==""&&(e+=Fv(o,i)),e}function Mw(t){return t.map(Iw).join(",")}function Aw(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Rt(i))break;i=o}r++}return{attrs:e,classes:n}}function Jt(t){return Xo(()=>{let e=Ay(t),n=K(C({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ty.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qt.Emulated,styles:t.styles||Dt,_:null,schemas:t.schemas||null,tView:null,id:""});Ny(n);let r=t.dependencies;return n.directiveDefs=Vv(r,!1),n.pipeDefs=Vv(r,!0),n.id=xw(n),n})}function Nw(t){return _r(t)||wy(t)}function Pw(t){return t!==null}function Vt(t){return Xo(()=>({type:t.type,bootstrap:t.bootstrap||Dt,declarations:t.declarations||Dt,imports:t.imports||Dt,exports:t.exports||Dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Lv(t,e){if(t==null)return _i;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=jn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==jn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function it(t){return Xo(()=>{let e=Ay(t);return Ny(e),e})}function _r(t){return t[ZS]||null}function wy(t){return t[JS]||null}function by(t){return t[ew]||null}function Iy(t){let e=_r(t)||wy(t)||by(t);return e!==null?e.standalone:!1}function My(t,e){let n=t[tw]||null;if(!n&&e===!0)throw new Error(`Type ${rt(t)} does not have '\u0275mod' property.`);return n}function Ay(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||_i,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Dt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Lv(t.inputs,e),outputs:Lv(t.outputs),debugInfo:null}}function Ny(t){t.features?.forEach(e=>e(t))}function Vv(t,e){if(!t)return null;let n=e?by:Nw;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Pw)}function xw(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Pl(t){return{\u0275providers:t}}function Df(...t){return{\u0275providers:Py(!0,t),\u0275fromNgModule:!0}}function Py(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return _f(e,s=>{let a=s;Pd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&xy(i,o),n}function xy(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ef(i,o=>{e(o,r)})}}function Pd(t,e,n,r){if(t=ze(t),!t)return!1;let i=null,o=Pv(t),s=!o&&_r(t);if(!o&&!s){let l=t.ngModule;if(o=Pv(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Pd(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{_f(o.imports,u=>{Pd(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&xy(c,e)}if(!a){let c=yi(i)||(()=>new i);e({provide:i,useFactory:c,deps:Dt},i),e({provide:Ey,useValue:i,multi:!0},i),e({provide:Ci,useValue:()=>E(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;Ef(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Ef(t,e){for(let n of t)my(n)&&(n=n.\u0275providers),Array.isArray(n)?Ef(n,e):e(n)}var Rw=ae({provide:String,useValue:ae});function Ry(t){return t!==null&&typeof t=="object"&&Rw in t}function Ow(t){return!!(t&&t.useExisting)}function kw(t){return!!(t&&t.useFactory)}function Di(t){return typeof t=="function"}function Fw(t){return!!t.useClass}var xl=new T(""),rl={},Lw={},fd;function Tf(){return fd===void 0&&(fd=new dl),fd}var Tt=class{},Vo=class extends Tt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rd(e,s=>this.processProvider(s)),this.records.set(Dy,hi(void 0,this)),i.has("environment")&&this.records.set(Tt,hi(void 0,this));let o=this.records.get(xl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ey,Dt,G.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=X(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),X(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Vn(this),r=Ct(void 0),i;try{return e()}finally{Vn(n),Ct(r)}}get(e,n=Fo,r=G.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Rv))return e[Rv](this);r=Al(r);let i,o=Vn(this),s=Ct(void 0);try{if(!(r&G.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=Gw(e)&&Ml(e);c&&this.injectableDefInScope(c)?l=hi(xd(e),rl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&G.Self?Tf():this.parent;return n=r&G.Optional&&n===Fo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[cl]=a[cl]||[]).unshift(rt(e)),o)throw a;return fw(a,e,"R3InjectorError",this.source)}else throw a}finally{Ct(s),Vn(o)}}resolveInjectorInitializers(){let e=X(null),n=Vn(this),r=Ct(void 0),i;try{let o=this.get(Ci,Dt,G.Self);for(let s of o)s()}finally{Vn(n),Ct(r),X(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(rt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){e=ze(e);let n=Di(e)?e:ze(e&&e.provide),r=Bw(e);if(!Di(e)&&e.multi===!0){let i=this.records.get(n);i||(i=hi(void 0,rl,!0),i.factory=()=>Ad(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=X(null);try{return n.value===rl&&(n.value=Lw,n.value=n.factory()),typeof n.value=="object"&&n.value&&jw(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{X(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ze(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function xd(t){let e=Ml(t),n=e!==null?e.factory:yi(t);if(n!==null)return n;if(t instanceof T)throw new M(204,!1);if(t instanceof Function)return Vw(t);throw new M(204,!1)}function Vw(t){if(t.length>0)throw new M(204,!1);let n=QS(t);return n!==null?()=>n.factory(t):()=>new t}function Bw(t){if(Ry(t))return hi(void 0,t.useValue);{let e=Oy(t);return hi(e,rl)}}function Oy(t,e,n){let r;if(Di(t)){let i=ze(t);return yi(i)||xd(i)}else if(Ry(t))r=()=>ze(t.useValue);else if(kw(t))r=()=>t.useFactory(...Ad(t.deps||[]));else if(Ow(t))r=()=>E(ze(t.useExisting));else{let i=ze(t&&(t.useClass||t.provide));if(Hw(t))r=()=>new i(...Ad(t.deps));else return yi(i)||xd(i)}return r}function hi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Hw(t){return!!t.deps}function jw(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Gw(t){return typeof t=="function"||typeof t=="object"&&t instanceof T}function Rd(t,e){for(let n of t)Array.isArray(n)?Rd(n,e):n&&my(n)?Rd(n.\u0275providers,e):e(n)}function Dn(t,e){t instanceof Vo&&t.assertNotDestroyed();let n,r=Vn(t),i=Ct(void 0);try{return e()}finally{Vn(r),Ct(i)}}function Uw(){return yy()!==void 0||lw()!=null}function $w(t){return typeof t=="function"}var En=0,H=1,k=2,Ke=3,Ot=4,Bt=5,Bo=6,fl=7,He=8,Ei=9,vn=10,xe=11,Ho=12,Bv=13,Pi=14,kt=15,Ti=16,pi=17,Si=18,Rl=19,ky=20,Bn=21,hd=22,Et=23,Ft=25,Fy=1;var Cr=7,hl=8,pl=9,qe=10,gl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(gl||{});function Hn(t){return Array.isArray(t)&&typeof t[Fy]=="object"}function Tn(t){return Array.isArray(t)&&t[Fy]===!0}function Ly(t){return(t.flags&4)!==0}function Ol(t){return t.componentOffset>-1}function Sf(t){return(t.flags&1)===1}function Gn(t){return!!t.template}function Od(t){return(t[k]&512)!==0}var kd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Vy(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Wn(){return By}function By(t){return t.type.prototype.ngOnChanges&&(t.setInput=zw),Ww}Wn.ngInherit=!0;function Ww(){let t=jy(this),e=t?.current;if(e){let n=t.previous;if(n===_i)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function zw(t,e,n,r,i){let o=this.declaredInputs[r],s=jy(t)||qw(t,{previous:_i,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new kd(c&&c.currentValue,n,l===_i),Vy(t,e,i,n)}var Hy="__ngSimpleChanges__";function jy(t){return t[Hy]||null}function qw(t,e){return t[Hy]=e}var Hv=null;var Kt=function(t,e,n){Hv?.(t,e,n)},Kw="svg",Xw="math";function Yt(t){for(;Array.isArray(t);)t=t[En];return t}function Gy(t,e){return Yt(e[t])}function Ht(t,e){return Yt(e[t.index])}function wf(t,e){return t.data[e]}function zn(t,e){let n=e[t];return Hn(n)?n:n[En]}function bf(t){return(t[k]&128)===128}function Qw(t){return Tn(t[Ke])}function wi(t,e){return e==null?null:t[e]}function Uy(t){t[pi]=0}function $y(t){t[k]&1024||(t[k]|=1024,bf(t)&&kl(t))}function Yw(t,e){for(;t>0;)e=e[Pi],t--;return e}function jo(t){return!!(t[k]&9216||t[Et]?.dirty)}function Fd(t){t[vn].changeDetectionScheduler?.notify(7),t[k]&64&&(t[k]|=1024),jo(t)&&kl(t)}function kl(t){t[vn].changeDetectionScheduler?.notify(0);let e=Dr(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!bf(e)));)e=Dr(e)}function Wy(t,e){if((t[k]&256)===256)throw new M(911,!1);t[Bn]===null&&(t[Bn]=[]),t[Bn].push(e)}function Zw(t,e){if(t[Bn]===null)return;let n=t[Bn].indexOf(e);n!==-1&&t[Bn].splice(n,1)}function Dr(t){let e=t[Ke];return Tn(e)?e[Ke]:e}var J={lFrame:e0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var zy=!1;function Jw(){return J.lFrame.elementDepthCount}function eb(){J.lFrame.elementDepthCount++}function tb(){J.lFrame.elementDepthCount--}function qy(){return J.bindingsEnabled}function nb(){return J.skipHydrationRootTNode!==null}function rb(t){return J.skipHydrationRootTNode===t}function ib(){J.skipHydrationRootTNode=null}function de(){return J.lFrame.lView}function ct(){return J.lFrame.tView}function Fl(t){return J.lFrame.contextLView=t,t[He]}function Ll(t){return J.lFrame.contextLView=null,t}function ut(){let t=Ky();for(;t!==null&&t.type===64;)t=t.parent;return t}function Ky(){return J.lFrame.currentTNode}function ob(){let t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yo(t,e){let n=J.lFrame;n.currentTNode=t,n.isParent=e}function Xy(){return J.lFrame.isParent}function sb(){J.lFrame.isParent=!1}function Qy(){return zy}function jv(t){zy=t}function ab(t){return J.lFrame.bindingIndex=t}function Zo(){return J.lFrame.bindingIndex++}function lb(t){let e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function cb(){return J.lFrame.inI18n}function ub(t,e){let n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ld(e)}function db(){return J.lFrame.currentDirectiveIndex}function Ld(t){J.lFrame.currentDirectiveIndex=t}function fb(t){let e=J.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Yy(t){J.lFrame.currentQueryIndex=t}function hb(t){let e=t[H];return e.type===2?e.declTNode:e.type===1?t[Bt]:null}function Zy(t,e,n){if(n&G.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&G.Host);)if(i=hb(o),i===null||(o=o[Pi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=J.lFrame=Jy();return r.currentTNode=e,r.lView=t,!0}function If(t){let e=Jy(),n=t[H];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Jy(){let t=J.lFrame,e=t===null?null:t.child;return e===null?e0(t):e}function e0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function t0(){let t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var n0=t0;function Mf(){let t=t0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pb(t){return(J.lFrame.contextLView=Yw(t,J.lFrame.contextLView))[He]}function br(){return J.lFrame.selectedIndex}function Er(t){J.lFrame.selectedIndex=t}function r0(){let t=J.lFrame;return wf(t.tView,t.selectedIndex)}function gb(){return J.lFrame.currentNamespace}var i0=!0;function Af(){return i0}function Nf(t){i0=t}function mb(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=By(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Pf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function il(t,e,n){o0(t,e,3,n)}function ol(t,e,n,r){(t[k]&3)===n&&o0(t,e,n,r)}function pd(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function o0(t,e,n,r){let i=r!==void 0?t[pi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[pi]+=65536),(a<o||o==-1)&&(vb(t,n,e,l),t[pi]=(t[pi]&4294901760)+l+2),l++}function Gv(t,e){Kt(4,t,e);let n=X(null);try{e.call(t)}finally{X(n),Kt(5,t,e)}}function vb(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[k]>>14<t[pi]>>16&&(t[k]&3)===e&&(t[k]+=16384,Gv(a,o)):Gv(a,o)}var vi=-1,Tr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function yb(t){return t instanceof Tr}function _b(t){return(t.flags&8)!==0}function Cb(t){return(t.flags&16)!==0}var gd={},Vd=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Al(r);let i=this.injector.get(e,gd,r);return i!==gd||n===gd?i:this.parentInjector.get(e,n,r)}};function s0(t){return t!==vi}function ml(t){return t&32767}function Db(t){return t>>16}function vl(t,e){let n=Db(t),r=e;for(;n>0;)r=r[Pi],n--;return r}var Bd=!0;function Uv(t){let e=Bd;return Bd=t,e}var Eb=256,a0=Eb-1,l0=5,Tb=0,Xt={};function Sb(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ko)&&(r=n[ko]),r==null&&(r=n[ko]=Tb++);let i=r&a0,o=1<<i;e.data[t+(i>>l0)]|=o}function yl(t,e){let n=c0(t,e);if(n!==-1)return n;let r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,md(r.data,t),md(e,null),md(r.blueprint,null));let i=xf(t,e),o=t.injectorIndex;if(s0(i)){let s=ml(i),a=vl(i,e),l=a[H].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function md(t,e){t.push(0,0,0,0,0,0,0,0,e)}function c0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function xf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=p0(i),r===null)return vi;if(n++,i=i[Pi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return vi}function Hd(t,e,n){Sb(t,e,n)}function u0(t,e,n){if(n&G.Optional||t!==void 0)return t;yf(e,"NodeInjector")}function d0(t,e,n,r){if(n&G.Optional&&r===void 0&&(r=null),!(n&(G.Self|G.Host))){let i=t[Ei],o=Ct(void 0);try{return i?i.get(e,r,n&G.Optional):_y(e,r,n&G.Optional)}finally{Ct(o)}}return u0(r,e,n)}function f0(t,e,n,r=G.Default,i){if(t!==null){if(e[k]&2048&&!(r&G.Self)){let s=Ab(t,e,n,r,Xt);if(s!==Xt)return s}let o=h0(t,e,n,r,Xt);if(o!==Xt)return o}return d0(e,n,r,i)}function h0(t,e,n,r,i){let o=Ib(n);if(typeof o=="function"){if(!Zy(e,t,r))return r&G.Host?u0(i,n,r):d0(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&G.Optional))yf(n);else return s}finally{n0()}}else if(typeof o=="number"){let s=null,a=c0(t,e),l=vi,c=r&G.Host?e[kt][Bt]:null;for((a===-1||r&G.SkipSelf)&&(l=a===-1?xf(t,e):e[a+8],l===vi||!Wv(r,!1)?a=-1:(s=e[H],a=ml(l),e=vl(l,e)));a!==-1;){let u=e[H];if($v(o,a,u.data)){let d=wb(a,e,n,s,r,c);if(d!==Xt)return d}l=e[a+8],l!==vi&&Wv(r,e[H].data[a+8]===c)&&$v(o,a,e)?(s=u,a=ml(l),e=vl(l,e)):a=-1}}return i}function wb(t,e,n,r,i,o){let s=e[H],a=s.data[t+8],l=r==null?Ol(a)&&Bd:r!=s&&(a.type&3)!==0,c=i&G.Host&&o===a,u=bb(a,s,n,l,c);return u!==null?bi(e,s,u,a):Xt}function bb(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let m=s[h];if(h<l&&n===m||h>=l&&m.type===n)return h}if(i){let h=s[l];if(h&&Gn(h)&&h.type===n)return l}return null}function bi(t,e,n,r){let i=t[n],o=e.data;if(yb(i)){let s=i;s.resolving&&rw(nw(o[n]));let a=Uv(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Ct(s.injectImpl):null,u=Zy(t,r,G.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&mb(n,o[n],e)}finally{c!==null&&Ct(c),Uv(a),s.resolving=!1,n0()}}return i}function Ib(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ko)?t[ko]:void 0;return typeof e=="number"?e>=0?e&a0:Mb:e}function $v(t,e,n){let r=1<<t;return!!(n[e+(t>>l0)]&r)}function Wv(t,e){return!(t&G.Self)&&!(t&G.Host&&e)}var yr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return f0(this._tNode,this._lView,e,Al(r),n)}};function Mb(){return new yr(ut(),de())}function xi(t){return Xo(()=>{let e=t.prototype.constructor,n=e[ll]||jd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ll]||jd(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function jd(t){return fy(t)?()=>{let e=jd(ze(t));return e&&e()}:yi(t)}function Ab(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[k]&2048&&!(s[k]&512);){let a=h0(o,s,n,r|G.Self,Xt);if(a!==Xt)return a;let l=o.parent;if(!l){let c=s[ky];if(c){let u=c.get(n,Xt,r);if(u!==Xt)return u}l=p0(s),s=s[Pi]}o=l}return i}function p0(t){let e=t[H],n=e.type;return n===2?e.declTNode:n===1?t[Bt]:null}function zv(t,e=null,n=null,r){let i=g0(t,e,n,r);return i.resolveInjectorInitializers(),i}function g0(t,e=null,n=null,r,i=new Set){let o=[n||Dt,Df(t)];return r=r||(typeof t=="object"?void 0:rt(t)),new Vo(o,e||Tf(),r||null,i)}var vr=class vr{static create(e,n){if(Array.isArray(e))return zv({name:""},n,e,"");{let r=e.name??"";return zv({name:r},e.parent,e.providers,r)}}};vr.THROW_IF_NOT_FOUND=Fo,vr.NULL=new dl,vr.\u0275prov=S({token:vr,providedIn:"any",factory:()=>E(Dy)}),vr.__NG_ELEMENT_ID__=-1;var Un=vr;var Nb=new T("");Nb.__NG_ELEMENT_ID__=t=>{let e=ut();if(e===null)throw new M(204,!1);if(e.type&2)return e.value;if(t&G.Optional)return null;throw new M(204,!1)};var Pb="ngOriginalError";function vd(t){return t[Pb]}var yn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&vd(e);for(;n&&vd(n);)n=vd(n);return n||null}},m0=new T("",{providedIn:"root",factory:()=>D(yn).handleError.bind(void 0)}),v0=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xb,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Gd=class extends v0{constructor(e){super(),this._lView=e}onDestroy(e){return Wy(this._lView,e),()=>Zw(this._lView,e)}};function xb(){return new Gd(de())}function Rb(){return Rf(ut(),de())}function Rf(t,e){return new Ir(Ht(t,e))}var Ir=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Rb;let t=e;return t})();var Ri=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Le(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Ud=class extends ye{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Uw()&&(this.destroyRef=D(v0,{optional:!0})??void 0,this.pendingTasks=D(Ri,{optional:!0})??void 0)}emit(e){let n=X(null);try{super.next(e)}finally{X(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Se&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},we=Ud;function y0(t){return(t.flags&128)===128}var _0=new Map,Ob=0;function kb(){return Ob++}function Fb(t){_0.set(t[Rl],t)}function Lb(t){_0.delete(t[Rl])}var qv="__ngContext__";function Sr(t,e){Hn(e)?(t[qv]=e[Rl],Fb(e)):t[qv]=e}function C0(t){return E0(t[Ho])}function D0(t){return E0(t[Ot])}function E0(t){for(;t!==null&&!Tn(t);)t=t[Ot];return t}var $d;function T0(t){$d=t}function Vb(){if($d!==void 0)return $d;if(typeof document<"u")return document;throw new M(210,!1)}var Of=new T("",{providedIn:"root",factory:()=>Bb}),Bb="ng",kf=new T(""),ot=new T("",{providedIn:"platform",factory:()=>"unknown"});var Ff=new T("",{providedIn:"root",factory:()=>Vb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Hb="h",jb="b";var Gb=()=>null;function Lf(t,e,n=!1){return Gb(t,e,n)}var S0=!1,Ub=new T("",{providedIn:"root",factory:()=>S0});var Wd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${WS})`}};function Vf(t){return t instanceof Wd?t.changingThisBreaksApplicationSecurity:t}function w0(t){return t instanceof Function?t():t}var _n=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(_n||{}),$b;function Bf(t,e){return $b(t,e)}function gi(t,e,n,r,i){if(r!=null){let o,s=!1;Tn(r)?o=r:Hn(r)&&(s=!0,r=r[En]);let a=Yt(r);t===0&&n!==null?i==null?A0(e,n,a):_l(e,n,a,i||null,!0):t===1&&n!==null?_l(e,n,a,i||null,!0):t===2?sI(e,a,s):t===3&&e.destroyNode(a),o!=null&&lI(e,t,o,n,i)}}function Wb(t,e){return t.createText(e)}function zb(t,e,n){t.setValue(e,n)}function b0(t,e,n){return t.createElement(e,n)}function qb(t,e){I0(t,e),e[En]=null,e[Bt]=null}function Kb(t,e,n,r,i,o){r[En]=i,r[Bt]=e,Bl(t,r,n,1,i,o)}function I0(t,e){e[vn].changeDetectionScheduler?.notify(8),Bl(t,e,e[xe],2,null,null)}function Xb(t){let e=t[Ho];if(!e)return yd(t[H],t);for(;e;){let n=null;if(Hn(e))n=e[Ho];else{let r=e[qe];r&&(n=r)}if(!n){for(;e&&!e[Ot]&&e!==t;)Hn(e)&&yd(e[H],e),e=e[Ke];e===null&&(e=t),Hn(e)&&yd(e[H],e),n=e&&e[Ot]}e=n}}function Qb(t,e,n,r){let i=qe+r,o=n.length;r>0&&(n[i-1][Ot]=e),r<o-qe?(e[Ot]=n[i],Cy(n,qe+r,e)):(n.push(e),e[Ot]=null),e[Ke]=n;let s=e[Ti];s!==null&&n!==s&&M0(s,e);let a=e[Si];a!==null&&a.insertView(t),Fd(e),e[k]|=128}function M0(t,e){let n=t[pl],r=e[Ke];if(Hn(r))t[k]|=gl.HasTransplantedViews;else{let i=r[Ke][kt];e[kt]!==i&&(t[k]|=gl.HasTransplantedViews)}n===null?t[pl]=[e]:n.push(e)}function Hf(t,e){let n=t[pl],r=n.indexOf(e);n.splice(r,1)}function Go(t,e){if(t.length<=qe)return;let n=qe+e,r=t[n];if(r){let i=r[Ti];i!==null&&i!==t&&Hf(i,r),e>0&&(t[n-1][Ot]=r[Ot]);let o=ul(t,qe+e);qb(r[H],r);let s=o[Si];s!==null&&s.detachView(o[H]),r[Ke]=null,r[Ot]=null,r[k]&=-129}return r}function Vl(t,e){if(!(e[k]&256)){let n=e[xe];n.destroyNode&&Bl(t,e,n,3,null,null),Xb(e)}}function yd(t,e){if(e[k]&256)return;let n=X(null);try{e[k]&=-129,e[k]|=256,e[Et]&&Gu(e[Et]),Zb(t,e),Yb(t,e),e[H].type===1&&e[xe].destroy();let r=e[Ti];if(r!==null&&Tn(e[Ke])){r!==e[Ke]&&Hf(r,e);let i=e[Si];i!==null&&i.detachView(t)}Lb(e)}finally{X(n)}}function Yb(t,e){let n=t.cleanup,r=e[fl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[fl]=null);let i=e[Bn];if(i!==null){e[Bn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Zb(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Tr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Kt(4,a,l);try{l.call(a)}finally{Kt(5,a,l)}}else{Kt(4,i,o);try{o.call(i)}finally{Kt(5,i,o)}}}}}function Jb(t,e,n){return eI(t,e.parent,n)}function eI(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[En];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Qt.None||o===Qt.Emulated)return null}return Ht(r,n)}}function _l(t,e,n,r,i){t.insertBefore(e,n,r,i)}function A0(t,e,n){t.appendChild(e,n)}function Kv(t,e,n,r,i){r!==null?_l(t,e,n,r,i):A0(t,e,n)}function tI(t,e,n,r){t.removeChild(e,n,r)}function jf(t,e){return t.parentNode(e)}function nI(t,e){return t.nextSibling(e)}function rI(t,e,n){return oI(t,e,n)}function iI(t,e,n){return t.type&40?Ht(t,n):null}var oI=iI,Xv;function Gf(t,e,n,r){let i=Jb(t,r,e),o=e[xe],s=r.parent||e[Bt],a=rI(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Kv(o,i,n[l],a,!1);else Kv(o,i,n,a,!1);Xv!==void 0&&Xv(o,r,e,n,i)}function sl(t,e){if(e!==null){let n=e.type;if(n&3)return Ht(e,t);if(n&4)return zd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return sl(t,r);{let i=t[e.index];return Tn(i)?zd(-1,i):Yt(i)}}else{if(n&32)return Bf(e,t)()||Yt(t[e.index]);{let r=N0(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Dr(t[kt]);return sl(i,r)}else return sl(t,e.next)}}}return null}function N0(t,e){if(e!==null){let r=t[kt][Bt],i=e.projection;return r.projection[i]}return null}function zd(t,e){let n=qe+t+1;if(n<e.length){let r=e[n],i=r[H].firstChild;if(i!==null)return sl(r,i)}return e[Cr]}function sI(t,e,n){let r=jf(t,e);r&&tI(t,r,e,n)}function Uf(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&Sr(Yt(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Uf(t,e,n.child,r,i,o,!1),gi(e,t,i,a,o);else if(l&32){let c=Bf(n,r),u;for(;u=c();)gi(e,t,i,u,o);gi(e,t,i,a,o)}else l&16?aI(t,e,r,n,i,o):gi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Bl(t,e,n,r,i,o){Uf(n,r,t.firstChild,e,i,o,!1)}function aI(t,e,n,r,i,o){let s=n[kt],l=s[Bt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];gi(e,t,i,u,o)}else{let c=l,u=s[Ke];y0(r)&&(c.flags|=128),Uf(t,e,c,u,i,o,!0)}}function lI(t,e,n,r,i){let o=n[Cr],s=Yt(n);o!==s&&gi(e,t,r,o,i);for(let a=qe;a<n.length;a++){let l=n[a];Bl(l[H],l,t,e,r,o)}}function cI(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:_n.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=_n.Important),t.setStyle(n,r,i,o))}}function uI(t,e,n){t.setAttribute(e,"style",n)}function P0(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function x0(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Nd(t,e,r),i!==null&&P0(t,e,i),o!==null&&uI(t,e,o)}var Mr={};function Xe(t=1){R0(ct(),de(),br()+t,!1)}function R0(t,e,n,r){if(!r)if((e[k]&3)===3){let o=t.preOrderCheckHooks;o!==null&&il(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ol(e,o,0,n)}Er(n)}function ee(t,e=G.Default){let n=de();if(n===null)return E(t,e);let r=ut();return f0(r,n,ze(t),e)}function O0(t,e,n,r,i,o){let s=X(null);try{let a=null;i&jn.SignalBased&&(a=e[r][hn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&jn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Vy(e,a,r,o)}finally{X(s)}}function dI(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Er(~i);else{let o=i,s=n[++r],a=n[++r];ub(s,o);let l=e[o];a(2,l)}}}finally{Er(-1)}}function Hl(t,e,n,r,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[En]=i,d[k]=r|4|128|8|64,(c!==null||t&&t[k]&2048)&&(d[k]|=2048),Uy(d),d[Ke]=d[Pi]=t,d[He]=n,d[vn]=s||t&&t[vn],d[xe]=a||t&&t[xe],d[Ei]=l||t&&t[Ei]||null,d[Bt]=o,d[Rl]=kb(),d[Bo]=u,d[ky]=c,d[kt]=e.type==2?t[kt]:d,d}function jl(t,e,n,r,i){let o=t.data[e];if(o===null)o=fI(t,e,n,r,i),cb()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ob();o.injectorIndex=s===null?-1:s.injectorIndex}return Yo(o,!0),o}function fI(t,e,n,r,i){let o=Ky(),s=Xy(),a=s?o:o&&o.parent,l=t.data[e]=vI(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function k0(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function F0(t,e,n,r,i){let o=br(),s=r&2;try{Er(-1),s&&e.length>Ft&&R0(t,e,Ft,!1),Kt(s?2:0,i),n(r,i)}finally{Er(o),Kt(s?3:1,i)}}function L0(t,e,n){if(Ly(e)){let r=X(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{X(r)}}}function V0(t,e,n){qy()&&(TI(t,e,n,Ht(n,e)),(n.flags&64)===64&&$0(t,e,n))}function B0(t,e,n=Ht){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function H0(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=$f(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function $f(t,e,n,r,i,o,s,a,l,c,u){let d=Ft+r,f=d+i,h=hI(d,f),m=typeof c=="function"?c():c;return h[H]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:u}}function hI(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Mr);return n}function pI(t,e,n,r){let o=r.get(Ub,S0)||n===Qt.ShadowDom,s=t.selectRootElement(e,o);return gI(s),s}function gI(t){mI(t)}var mI=()=>null;function vI(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return nb()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Qv(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=jn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?Yv(r,n,c,a,l):Yv(r,n,c,a)}return r}function Yv(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function yI(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,m=f?f.outputs:null;l=Qv(0,d.inputs,u,l,h),c=Qv(1,d.outputs,u,c,m);let v=l!==null&&s!==null&&!Cf(e)?xI(l,u,s):null;a.push(v)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function _I(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function j0(t,e,n,r,i,o,s,a){let l=Ht(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(Wf(t,n,u,r,i),Ol(e)&&CI(n,e.index)):e.type&3?(r=_I(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function CI(t,e){let n=zn(e,t);n[k]&16||(n[k]|=64)}function G0(t,e,n,r){if(qy()){let i=r===null?null:{"":-1},o=wI(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&U0(t,e,n,s,i,a),i&&bI(n,r,i)}n.mergedAttrs=Lo(n.mergedAttrs,n.attrs)}function U0(t,e,n,r,i,o){for(let c=0;c<r.length;c++)Hd(yl(n,e),t,r[c].type);MI(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=k0(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=Lo(n.mergedAttrs,u.hostAttrs),AI(t,n,e,l,u),II(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}yI(t,n,o)}function DI(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;EI(s)!=a&&s.push(a),s.push(n,r,o)}}function EI(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function TI(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ol(n)&&NI(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||yl(n,e),Sr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],c=bi(e,t,a,n);if(Sr(c,e),s!==null&&PI(e,a-i,c,l,n,s),Gn(l)){let u=zn(n.index,e);u[He]=bi(e,t,a,n)}}}function $0(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=db();try{Er(o);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];Ld(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&SI(l,c)}}finally{Er(-1),Ld(s)}}function SI(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function wI(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Sw(e,s.selectors,!1))if(r||(r=[]),Gn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;qd(t,e,l)}else r.unshift(s),qd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function qd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bI(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new M(-301,!1);r.push(e[i],o)}}}function II(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Gn(e)&&(n[""]=t)}}function MI(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function AI(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=yi(i.type,!0)),s=new Tr(o,Gn(i),ee);t.blueprint[r]=s,n[r]=s,DI(t,e,r,k0(t,n,i.hostVars,Mr),i)}function NI(t,e,n){let r=Ht(e,t),i=H0(n),o=t[vn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Gl(t,Hl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function PI(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];O0(r,n,l,c,u,d)}}function xI(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function W0(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function z0(t,e){let n=t.contentQueries;if(n!==null){let r=X(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Yy(o),a.contentQueries(2,e[s],s)}}}finally{X(r)}}}function Gl(t,e){return t[Ho]?t[Bv][Ot]=e:t[Ho]=e,t[Bv]=e,e}function Kd(t,e,n){Yy(0);let r=X(null);try{e(t,n)}finally{X(r)}}function RI(t){return t[fl]??=[]}function OI(t){return t.cleanup??=[]}function q0(t,e){let n=t[Ei],r=n?n.get(yn,null):null;r&&r.handleError(e)}function Wf(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=e[s],u=t.data[s];O0(u,c,r,a,l,i)}}function kI(t,e,n){let r=Gy(e,t);zb(t[xe],r,n)}function FI(t,e){let n=zn(e,t),r=n[H];LI(r,n);let i=n[En];i!==null&&n[Bo]===null&&(n[Bo]=Lf(i,n[Ei])),zf(r,n,n[He])}function LI(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function zf(t,e,n){If(e);try{let r=t.viewQuery;r!==null&&Kd(1,r,n);let i=t.template;i!==null&&F0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Si]?.finishViewCreation(t),t.staticContentQueries&&z0(t,e),t.staticViewQueries&&Kd(2,t.viewQuery,n);let o=t.components;o!==null&&VI(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,Mf()}}function VI(t,e){for(let n=0;n<e.length;n++)FI(t,e[n])}function qf(t,e,n,r){let i=X(null);try{let o=e.tView,a=t[k]&4096?4096:16,l=Hl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[Ti]=c;let u=t[Si];return u!==null&&(l[Si]=u.createEmbeddedView(o)),zf(o,l,n),l}finally{X(i)}}function K0(t,e){let n=qe+e;if(n<t.length)return t[n]}function Uo(t,e){return!e||e.firstChild===null||y0(t)}function Ul(t,e,n,r=!0){let i=e[H];if(Qb(i,e,t,n),r){let s=zd(n,t),a=e[xe],l=jf(a,t[Cr]);l!==null&&Kb(i,t[Bt],a,e,l,s)}let o=e[Bo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function X0(t,e){let n=Go(t,e);return n!==void 0&&Vl(n[H],n),n}function Cl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Yt(o)),Tn(o)&&BI(o,r);let s=n.type;if(s&8)Cl(t,e,n.child,r);else if(s&32){let a=Bf(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=N0(e,n);if(Array.isArray(a))r.push(...a);else{let l=Dr(e[kt]);Cl(l[H],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function BI(t,e){for(let n=qe;n<t.length;n++){let r=t[n],i=r[H].firstChild;i!==null&&Cl(r[H],r,i,e)}t[Cr]!==t[En]&&e.push(t[Cr])}var Q0=[];function HI(t){return t[Et]??jI(t)}function jI(t){let e=Q0.pop()??Object.create(UI);return e.lView=t,e}function GI(t){t.lView[Et]!==t&&(t.lView=null,Q0.push(t))}var UI=K(C({},Mo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{kl(t.lView)},consumerOnSignalRead(){this.lView[Et]=this}});function $I(t){let e=t[Et]??Object.create(WI);return e.lView=t,e}var WI=K(C({},Mo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Dr(t.lView);for(;e&&!Y0(e[H]);)e=Dr(e);e&&$y(e)},consumerOnSignalRead(){this.lView[Et]=this}});function Y0(t){return t.type!==2}var zI=100;function Z0(t,e=!0,n=0){let r=t[vn],i=r.rendererFactory,o=!1;o||i.begin?.();try{qI(t,n)}catch(s){throw e&&q0(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function qI(t,e){let n=Qy();try{jv(!0),Xd(t,e);let r=0;for(;jo(t);){if(r===zI)throw new M(103,!1);r++,Xd(t,1)}}finally{jv(n)}}function KI(t,e,n,r){let i=e[k];if((i&256)===256)return;let o=!1,s=!1;!o&&e[vn].inlineEffectRunner?.flush(),If(e);let a=!0,l=null,c=null;o||(Y0(t)?(c=HI(e),l=Sa(c)):Xm()===null?(a=!1,c=$I(e),l=Sa(c)):e[Et]&&(Gu(e[Et]),e[Et]=null));try{Uy(e),ab(t.bindingStartIndex),n!==null&&F0(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&il(e,h,null)}else{let h=t.preOrderHooks;h!==null&&ol(e,h,0,null),pd(e,0)}if(s||XI(e),J0(e,0),t.contentQueries!==null&&z0(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&il(e,h)}else{let h=t.contentHooks;h!==null&&ol(e,h,1),pd(e,1)}dI(t,e);let d=t.components;d!==null&&t_(e,d,0);let f=t.viewQuery;if(f!==null&&Kd(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&il(e,h)}else{let h=t.viewHooks;h!==null&&ol(e,h,2),pd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[hd]){for(let h of e[hd])h();e[hd]=null}o||(e[k]&=-73)}catch(u){throw o||kl(e),u}finally{c!==null&&(Hu(c,l),a&&GI(c)),Mf()}}function J0(t,e){for(let n=C0(t);n!==null;n=D0(n))for(let r=qe;r<n.length;r++){let i=n[r];e_(i,e)}}function XI(t){for(let e=C0(t);e!==null;e=D0(e)){if(!(e[k]&gl.HasTransplantedViews))continue;let n=e[pl];for(let r=0;r<n.length;r++){let i=n[r];$y(i)}}}function QI(t,e,n){let r=zn(e,t);e_(r,n)}function e_(t,e){bf(t)&&Xd(t,e)}function Xd(t,e){let r=t[H],i=t[k],o=t[Et],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ju(o)),s||=!1,o&&(o.dirty=!1),t[k]&=-9217,s)KI(r,t,r.template,t[He]);else if(i&8192){J0(t,1);let a=r.components;a!==null&&t_(t,a,1)}}function t_(t,e,n){for(let r=0;r<e.length;r++)QI(t,e[r],n)}function Kf(t,e){let n=Qy()?64:1088;for(t[vn].changeDetectionScheduler?.notify(e);t;){t[k]|=n;let r=Dr(t);if(Od(t)&&!r)return t;t=r}return null}var Ii=class{get rootNodes(){let e=this._lView,n=e[H];return Cl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[He]}set context(e){this._lView[He]=e}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ke];if(Tn(e)){let n=e[hl],r=n?n.indexOf(this):-1;r>-1&&(Go(e,r),ul(n,r))}this._attachedToViewContainer=!1}Vl(this._lView[H],this._lView)}onDestroy(e){Wy(this._lView,e)}markForCheck(){Kf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){Fd(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,Z0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Od(this._lView),n=this._lView[Ti];n!==null&&!e&&Hf(n,this._lView),I0(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e;let n=Od(this._lView),r=this._lView[Ti];r!==null&&!n&&M0(r,this._lView),Fd(this._lView)}};var Fj=new RegExp(`^(\\d+)*(${jb}|${Hb})*(.*)`);var YI=()=>null;function $o(t,e){return YI(t,e)}var Wo=class{},Xf=new T("",{providedIn:"root",factory:()=>!1});var n_=new T(""),Qd=class{},Dl=class{};function ZI(t){let e=Error(`No component factory found for ${rt(t)}.`);return e[JI]=t,e}var JI="ngComponent";var Yd=class{resolveComponentFactory(e){throw ZI(e)}},rh=class rh{};rh.NULL=new Yd;var Mi=rh,Ai=class{},Oi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>eM();let t=e;return t})();function eM(){let t=de(),e=ut(),n=zn(e.index,t);return(Hn(n)?n:t)[xe]}var tM=(()=>{let e=class e{};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var Zv=new Set;function Ar(t){Zv.has(t)||(Zv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function r_(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof bd.requestAnimationFrame=="function"&&bd.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function Jv(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function ey(...t){}var oe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new we(!1),this.onMicrotaskEmpty=new we(!1),this.onStable=new we(!1),this.onError=new we(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,iM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new M(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,nM,ey,ey);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},nM={};function Qf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rM(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{r_(()=>{t.callbackScheduled=!1,Zd(t),t.isCheckStableRunning=!0,Qf(t),t.isCheckStableRunning=!1})}),Zd(t))}function iM(t){let e=()=>{rM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(oM(a))return n.invokeTask(i,o,s,a);try{return ty(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),ny(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return ty(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!sM(a)&&e(),ny(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Zd(t),Qf(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Zd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ty(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ny(t){t._nesting--,Qf(t)}var Jd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new we,this.onMicrotaskEmpty=new we,this.onStable=new we,this.onError=new we}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function oM(t){return i_(t,"__ignore_ng_zone__")}function sM(t){return i_(t,"__scheduler_tick__")}function i_(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var o_=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function ef(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Av(i,a);else if(o==2){let l=a,c=e[++s];r=Av(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var El=class extends Mi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=_r(e);return new zo(n,this.ngModule)}};function ry(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:jn.None;e?n.push({propName:s,templateName:r,isSignal:(a&jn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function aM(t){let e=t.toLowerCase();return e==="svg"?Kw:e==="math"?Xw:null}var zo=class extends Dl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=ry(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ry(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Mw(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=X(null);try{i=i||this.ngModule;let s=i instanceof Tt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Vd(e,s):e,l=a.get(Ai,null);if(l===null)throw new M(407,!1);let c=a.get(tM,null),u=a.get(o_,null),d=a.get(Wo,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=l.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",v=r?pI(h,r,this.componentDef.encapsulation,a):b0(h,m,aM(m)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let w=null;v!==null&&(w=Lf(v,a,!0));let W=$f(0,null,null,1,0,null,null,null,null,null,null),A=Hl(null,W,null,_,null,null,f,h,a,null,w);If(A);let ve,Be;try{let st=this.componentDef,Rn,To=null;st.findHostDirectiveDefs?(Rn=[],To=new Map,st.findHostDirectiveDefs(st,Rn,To),Rn.push(st)):Rn=[st];let Nu=lM(A,v),Pu=cM(Nu,v,st,Rn,A,f,h);Be=wf(W,Ft),v&&fM(h,st,v,r),n!==void 0&&hM(Be,this.ngContentSelectors,n),ve=dM(Pu,st,Rn,To,A,[pM]),zf(W,A,null)}finally{Mf()}return new tf(this.componentType,ve,Rf(Be,A),A,Be)}finally{X(o)}}},tf=class extends Qd{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ii(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Wf(o[H],o,i,e,n),this.previousInputValues.set(e,n);let s=zn(this._tNode.index,o);Kf(s,1)}}get injector(){return new yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function lM(t,e){let n=t[H],r=Ft;return t[r]=e,jl(n,r,2,"#host",null)}function cM(t,e,n,r,i,o,s){let a=i[H];uM(r,t,e,s);let l=null;e!==null&&(l=Lf(e,i[Ei]));let c=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Hl(i,H0(n),null,u,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&qd(a,t,r.length-1),Gl(i,d),i[t.index]=d}function uM(t,e,n,r){for(let i of t)e.mergedAttrs=Lo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ef(e,e.mergedAttrs,!0),n!==null&&x0(r,n,e))}function dM(t,e,n,r,i,o){let s=ut(),a=i[H],l=Ht(s,i);U0(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=bi(i,a,d,s);Sr(f,i)}$0(a,i,s),l&&Sr(l,i);let c=bi(i,a,s.directiveStart+s.componentOffset,s);if(t[He]=i[He]=c,o!==null)for(let u of o)u(c,e);return L0(a,s,i),c}function fM(t,e,n,r){if(r)Nd(t,n,["ng-version","18.1.0"]);else{let{attrs:i,classes:o}=Aw(e.selectors[0]);i&&Nd(t,n,i),o&&o.length>0&&P0(t,n,o.join(" "))}}function hM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function pM(){let t=ut();Pf(de()[H],t)}var $l=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gM;let t=e;return t})();function gM(){let t=ut();return vM(t,de())}var mM=$l,s_=class extends mM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Rf(this._hostTNode,this._hostLView)}get injector(){return new yr(this._hostTNode,this._hostLView)}get parentInjector(){let e=xf(this._hostTNode,this._hostLView);if(s0(e)){let n=vl(e,this._hostLView),r=ml(e),i=n[H].data[r+8];return new yr(i,n)}else return new yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=iy(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-qe}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$o(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Uo(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!$w(e),a;if(s)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let l=s?e:new zo(_r(e)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?c:this.parentInjector).get(Tt,null);v&&(o=v)}let u=_r(l.componentType??{}),d=$o(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,Uo(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Qw(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Ke],c=new s_(l,l[Bt],l[Ke]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Ul(s,i,o,r),e.attachToViewContainerRef(),Cy(_d(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=iy(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Go(this._lContainer,n);r&&(ul(_d(this._lContainer),n),Vl(r[H],r))}detach(e){let n=this._adjustIndex(e,-1),r=Go(this._lContainer,n);return r&&ul(_d(this._lContainer),n)!=null?new Ii(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function iy(t){return t[hl]}function _d(t){return t[hl]||(t[hl]=[])}function vM(t,e){let n,r=e[t.index];return Tn(r)?n=r:(n=W0(r,e,null,t),e[t.index]=n,Gl(e,n)),_M(n,e,t,r),new s_(n,t,e)}function yM(t,e){let n=t[xe],r=n.createComment(""),i=Ht(e,t),o=jf(n,i);return _l(n,o,r,nI(n,i),!1),r}var _M=EM,CM=()=>!1;function DM(t,e,n){return CM(t,e,n)}function EM(t,e,n,r){if(t[Cr])return;let i;n.type&8?i=Yt(r):i=yM(e,n),t[Cr]=i}function TM(t){return typeof t=="function"&&t[hn]!==void 0}function Jo(t,e){Ar("NgSignals");let n=sv(t),r=n[hn];return e?.equal&&(r.equal=e.equal),n.set=i=>Uu(r,i),n.update=i=>av(r,i),n.asReadonly=SM.bind(n),n}function SM(){let t=this[hn];if(t.readonlyFn===void 0){let e=()=>this();e[hn]=t,t.readonlyFn=e}return t.readonlyFn}function a_(t){return TM(t)&&typeof t.set=="function"}function wM(t){return Object.getPrototypeOf(t.prototype).constructor}function en(t){let e=wM(t.type),n=!0,r=[t];for(;e;){let i;if(Gn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=tl(t.inputs),s.inputTransforms=tl(t.inputTransforms),s.declaredInputs=tl(t.declaredInputs),s.outputs=tl(t.outputs);let a=i.hostBindings;a&&NM(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&MM(t,l),c&&AM(t,c),bM(t,i),KS(t.outputs,i.outputs),Gn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===en&&(n=!1)}}e=Object.getPrototypeOf(e)}IM(r)}function bM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function IM(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Lo(i.hostAttrs,n=Lo(n,i.hostAttrs))}}function tl(t){return t===_i?{}:t===Dt?[]:t}function MM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function AM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function NM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var $n=class{},qo=class{};var nf=class extends $n{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new El(this);let i=My(e);this._bootstrapComponents=w0(i.bootstrap),this._r3Injector=g0(e,n,[{provide:$n,useValue:this},{provide:Mi,useValue:this.componentFactoryResolver},...r],rt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},rf=class extends qo{constructor(e){super(),this.moduleType=e}create(e){return new nf(this.moduleType,e,[])}};var Tl=class extends $n{constructor(e){super(),this.componentFactoryResolver=new El(this),this.instance=null;let n=new Vo([...e.providers,{provide:$n,useValue:this},{provide:Mi,useValue:this.componentFactoryResolver}],e.parent||Tf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Yf(t,e,n=null){return new Tl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function ki(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function PM(t){return(t.flags&32)===32}function xM(t,e,n,r,i,o,s,a,l){let c=e.consts,u=jl(e,t,4,s||null,a||null);G0(e,n,u,wi(c,l)),Pf(e,u);let d=u.tView=$f(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function of(t,e,n,r,i,o,s,a,l,c){let u=n+Ft,d=e.firstCreatePass?xM(u,e,t,r,i,o,s,a,l):e.data[u];Yo(d,!1);let f=RM(e,t,d,n);Af()&&Gf(e,t,f,d),Sr(f,t);let h=W0(f,t,f,d);return t[u]=h,Gl(t,h),DM(h,d,t),Sf(d)&&V0(e,t,d),l!=null&&B0(t,d,c),d}function Sn(t,e,n,r,i,o,s,a){let l=de(),c=ct(),u=wi(c.consts,o);return of(l,c,t,e,n,r,i,u,s,a),Sn}var RM=OM;function OM(t,e,n,r){return Nf(!0),e[xe].createComment("")}function kM(t,e,n,r){return ki(t,Zo(),n)?e+vy(n)+r:Mr}function nl(t,e){return t<<17|e<<2}function wr(t){return t>>17&32767}function FM(t){return(t&2)==2}function LM(t,e){return t&131071|e<<17}function sf(t){return t|2}function Ni(t){return(t&131068)>>2}function Cd(t,e){return t&-131069|e<<2}function VM(t){return(t&1)===1}function af(t){return t|1}function BM(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=wr(s),l=Ni(s);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Qo(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=wr(t[a+1]);t[r+1]=nl(f,a),f!==0&&(t[f+1]=Cd(t[f+1],r)),t[a+1]=LM(t[a+1],r)}else t[r+1]=nl(a,0),a!==0&&(t[a+1]=Cd(t[a+1],r)),a=r;else t[r+1]=nl(l,0),a===0?a=r:t[l+1]=Cd(t[l+1],r),l=r;c&&(t[r+1]=sf(t[r+1])),oy(t,u,r,!0),oy(t,u,r,!1),HM(e,u,t,r,o),s=nl(a,l),o?e.classBindings=s:e.styleBindings=s}function HM(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Qo(o,e)>=0&&(n[r+1]=af(n[r+1]))}function oy(t,e,n,r){let i=t[n+1],o=e===null,s=r?wr(i):Ni(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];jM(l,e)&&(a=!0,t[s+1]=r?af(c):sf(c)),s=r?wr(c):Ni(c)}a&&(t[n+1]=r?sf(i):af(i))}function jM(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Qo(t,e)>=0:!1}function qn(t,e,n){let r=de(),i=Zo();if(ki(r,i,e)){let o=ct(),s=r0();j0(o,s,r,t,e,r[xe],n,!1)}return qn}function sy(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Wf(t,n,o[s],s,r)}function Wl(t,e){return GM(t,e,null,!0),Wl}function GM(t,e,n,r){let i=de(),o=ct(),s=lb(2);if(o.firstUpdatePass&&$M(o,t,s,r),e!==Mr&&ki(i,s,e)){let a=o.data[br()];XM(o,a,i,i[xe],t,i[s+1]=QM(e,n),r,s)}}function UM(t,e){return e>=t.expandoStartIndex}function $M(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[br()],s=UM(t,n);YM(o,r)&&e===null&&!s&&(e=!1),e=WM(i,o,e,r),BM(i,o,e,n,s,r)}}function WM(t,e,n,r){let i=fb(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Dd(null,t,e,n,r),n=Ko(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Dd(i,t,e,n,r),o===null){let l=zM(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Dd(null,t,e,l[1],r),l=Ko(l,e.attrs,r),qM(t,e,r,l))}else o=KM(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function zM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ni(r)!==0)return t[wr(r)]}function qM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[wr(i)]=r}function KM(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ko(r,s,n)}return Ko(r,e.attrs,n)}function Dd(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ko(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ko(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),gw(t,s,n?!0:e[++o]))}return t===void 0?null:t}function XM(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=VM(c)?ay(l,e,n,i,Ni(c),s):void 0;if(!Sl(u)){Sl(o)||FM(c)&&(o=ay(l,null,n,i,a,s));let d=Gy(br(),n);cI(r,s,d,i,o)}}function ay(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===Mr&&(f=d?Dt:void 0);let h=d?dd(f,r):u===r?f:void 0;if(c&&!Sl(h)&&(h=dd(l,r)),Sl(h)&&(a=h,s))return a;let m=t[i+1];i=s?wr(m):Ni(m)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=dd(l,r))}return a}function Sl(t){return t!==void 0}function QM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=rt(Vf(t)))),t}function YM(t,e){return(t.flags&(e?8:16))!==0}var lf=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Ed(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function ZM(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=t.at(o),u=e[o],d=Ed(o,c,o,u,n);if(d!==0){d<0&&t.updateValue(o,u),o++;continue}let f=t.at(s),h=e[l],m=Ed(s,f,l,h,n);if(m!==0){m<0&&t.updateValue(s,h),s--,l--;continue}let v=n(o,c),_=n(s,f),w=n(o,u);if(Object.is(w,_)){let W=n(l,h);Object.is(W,v)?(t.swap(o,s),t.updateValue(s,h),l--,s--):t.move(s,o),t.updateValue(o,u),o++;continue}if(r??=new wl,i??=cy(t,o,s,n),cf(t,r,o,w))t.updateValue(o,u),o++,s++;else if(i.has(w))r.set(v,t.detach(o)),s--;else{let W=t.create(o,e[o]);t.attach(o,W),o++,s++}}for(;o<=l;)ly(t,r,n,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=t.at(o),d=c.value,f=Ed(o,u,o,d,n);if(f!==0)f<0&&t.updateValue(o,d),o++,c=l.next();else{r??=new wl,i??=cy(t,o,s,n);let h=n(o,d);if(cf(t,r,o,h))t.updateValue(o,d),o++,s++,c=l.next();else if(!i.has(h))t.attach(o,t.create(o,d)),o++,s++,c=l.next();else{let m=n(o,u);r.set(m,t.detach(o)),s--}}}for(;!c.done;)ly(t,r,n,t.length,c.value),c=l.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(l=>{t.destroy(l)})}function cf(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function ly(t,e,n,r,i){if(cf(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function cy(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var wl=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function wn(t,e){Ar("NgControlFlow");let n=de(),r=Zo(),i=n[r]!==Mr?n[r]:-1,o=i!==-1?bl(n,Ft+i):void 0,s=0;if(ki(n,r,t)){let a=X(null);try{if(o!==void 0&&X0(o,s),t!==-1){let l=Ft+t,c=bl(n,l),u=hf(n[H],l),d=$o(c,u.tView.ssrId),f=qf(n,u,e,{dehydratedView:d});Ul(c,f,s,Uo(u,d))}}finally{X(a)}}else if(o!==void 0){let a=K0(o,s);a!==void 0&&(a[He]=e)}}var uf=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-qe}};function l_(t,e){return e}var df=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function c_(t,e,n,r,i,o,s,a,l,c,u,d,f){Ar("NgControlFlow");let h=de(),m=ct(),v=l!==void 0,_=de(),w=a?s.bind(_[kt][He]):s,W=new df(v,w);_[Ft+t]=W,of(h,m,t+1,e,n,r,i,wi(m.consts,o)),v&&of(h,m,t+2,l,c,u,d,wi(m.consts,f))}var ff=class extends lf{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-qe}at(e){return this.getLView(e)[He].$implicit}attach(e,n){let r=n[Bo];this.needsIndexUpdate||=e!==this.length,Ul(this.lContainer,n,e,Uo(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,JM(this.lContainer,e)}create(e,n){let r=$o(this.lContainer,this.templateTNode.tView.ssrId),i=qf(this.hostLView,this.templateTNode,new uf(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Vl(e[H],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[He].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[He].$index=e}getLView(e){return eA(this.lContainer,e)}};function u_(t){let e=X(null),n=br();try{let r=de(),i=r[H],o=r[n],s=n+1,a=bl(r,s);if(o.liveCollection===void 0){let c=hf(i,s);o.liveCollection=new ff(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(ZM(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=Zo(),u=l.length===0;if(ki(r,c,u)){let d=n+2,f=bl(r,d);if(u){let h=hf(i,d),m=$o(f,h.tView.ssrId),v=qf(r,h,void 0,{dehydratedView:m});Ul(f,v,0,Uo(h,m))}else X0(f,0)}}}finally{X(e)}}function bl(t,e){return t[e]}function JM(t,e){return Go(t,e)}function eA(t,e){return K0(t,e)}function hf(t,e){return wf(t,e)}function tA(t,e,n,r,i,o){let s=e.consts,a=wi(s,i),l=jl(e,t,2,r,a);return G0(e,n,l,wi(s,o)),l.attrs!==null&&ef(l,l.attrs,!1),l.mergedAttrs!==null&&ef(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function Ce(t,e,n,r){let i=de(),o=ct(),s=Ft+t,a=i[xe],l=o.firstCreatePass?tA(s,o,i,e,n,r):o.data[s],c=nA(o,i,l,a,e,t);i[s]=c;let u=Sf(l);return Yo(l,!0),x0(a,c,l),!PM(l)&&Af()&&Gf(o,i,c,l),Jw()===0&&Sr(c,i),eb(),u&&(V0(o,i,l),L0(o,l,i)),r!==null&&B0(i,l),Ce}function pe(){let t=ut();Xy()?sb():(t=t.parent,Yo(t,!1));let e=t;rb(e)&&ib(),tb();let n=ct();return n.firstCreatePass&&(Pf(n,t),Ly(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&_b(e)&&sy(n,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Cb(e)&&sy(n,e,de(),e.stylesWithoutHost,!1),pe}function Kn(t,e,n,r){return Ce(t,e,n,r),pe(),Kn}var nA=(t,e,n,r,i,o)=>(Nf(!0),b0(r,i,gb()));function d_(){return de()}var Il="en-US";var rA=Il;function iA(t){typeof t=="string"&&(rA=t.toLowerCase().replace(/_/g,"-"))}var oA=(t,e,n)=>{};function St(t,e,n,r){let i=de(),o=ct(),s=ut();return f_(o,i,i[xe],s,t,e,r),St}function sA(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[fl],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function f_(t,e,n,r,i,o,s){let a=Sf(r),c=t.firstCreatePass&&OI(t),u=e[He],d=RI(e),f=!0;if(r.type&3||s){let v=Ht(r,e),_=s?s(v):v,w=d.length,W=s?ve=>s(Yt(ve[r.index])):r.index,A=null;if(!s&&a&&(A=sA(t,e,i,r.index)),A!==null){let ve=A.__ngLastListenerFn__||A;ve.__ngNextListenerFn__=o,A.__ngLastListenerFn__=o,f=!1}else{o=dy(r,e,u,o),oA(v,i,o);let ve=n.listen(_,i,o);d.push(o,ve),c&&c.push(i,W,w,w+1)}}else o=dy(r,e,u,o);let h=r.outputs,m;if(f&&h!==null&&(m=h[i])){let v=m.length;if(v)for(let _=0;_<v;_+=2){let w=m[_],W=m[_+1],Be=e[w][W].subscribe(o),st=d.length;d.push(o,Be),c&&c.push(i,r.index,st,-(st+1))}}}function uy(t,e,n,r){let i=X(null);try{return Kt(6,e,n),n(r)!==!1}catch(o){return q0(t,o),!1}finally{Kt(7,e,n),X(i)}}function dy(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?zn(t.index,e):e;Kf(s,5);let a=uy(e,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=uy(e,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function tn(t=1){return pb(t)}function je(t,e=""){let n=de(),r=ct(),i=t+Ft,o=r.firstCreatePass?jl(r,i,1,e,null):r.data[i],s=aA(r,n,o,e,t);n[i]=s,Af()&&Gf(r,n,s,o),Yo(o,!1)}var aA=(t,e,n,r,i)=>(Nf(!0),Wb(e[xe],r));function Zf(t){return zl("",t,""),Zf}function zl(t,e,n){let r=de(),i=kM(r,t,e,n);return i!==Mr&&kI(r,br(),i),zl}function Fi(t,e,n){a_(e)&&(e=e());let r=de(),i=Zo();if(ki(r,i,e)){let o=ct(),s=r0();j0(o,s,r,t,e,r[xe],n,!1)}return Fi}function es(t,e){let n=a_(t);return n&&t.set(e),n}function Li(t,e){let n=de(),r=ct(),i=ut();return f_(r,n,n[xe],i,t,e),Li}function lA(t,e,n){let r=ct();if(r.firstCreatePass){let i=Gn(t);pf(n,r.data,r.blueprint,i,!0),pf(e,r.data,r.blueprint,i,!1)}}function pf(t,e,n,r,i){if(t=ze(t),Array.isArray(t))for(let o=0;o<t.length;o++)pf(t[o],e,n,r,i);else{let o=ct(),s=de(),a=ut(),l=Di(t)?t:ze(t.provide),c=Oy(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Di(t)||!t.multi){let h=new Tr(c,i,ee),m=Sd(l,e,i?u:u+f,d);m===-1?(Hd(yl(a,s),o,l),Td(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[m]=h,s[m]=h)}else{let h=Sd(l,e,u+f,d),m=Sd(l,e,u,u+f),v=h>=0&&n[h],_=m>=0&&n[m];if(i&&!_||!i&&!v){Hd(yl(a,s),o,l);let w=dA(i?uA:cA,n.length,i,r,c);!i&&_&&(n[m].providerFactory=w),Td(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),s.push(w)}else{let w=h_(n[i?m:h],c,!i&&r);Td(o,t,h>-1?h:m,w)}!i&&r&&_&&n[m].componentProviders++}}}function Td(t,e,n,r){let i=Di(e),o=Fw(e);if(i||o){let l=(o?ze(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function h_(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Sd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function cA(t,e,n,r){return gf(this.multi,[])}function uA(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=bi(n,n[H],this.providerFactory.index,r);o=a.slice(0,s),gf(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],gf(i,o);return o}function gf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function dA(t,e,n,r,i){let o=new Tr(t,n,ee);return o.multi=[],o.index=e,o.componentProviders=0,h_(o,i,r&&!n),o}function Xn(t,e=[]){return n=>{n.providersResolver=(r,i)=>lA(r,i?i(t):t,e)}}var fA=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Py(!1,r.type),o=i.length>0?Yf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=S({token:e,providedIn:"environment",factory:()=>new e(E(Tt))});let t=e;return t})();function nn(t){Ar("NgStandalone"),t.getStandaloneInjector=e=>e.get(fA).getOrCreateStandaloneInjector(t)}var Cn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},p_=new Cn("18.1.0");var ql=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var g_=new T("");function Nr(t){return!!t&&typeof t.then=="function"}function m_(t){return!!t&&typeof t.subscribe=="function"}var v_=new T(""),y_=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=D(v_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Nr(s))r.push(s);else if(m_(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jf=new T("");function hA(){ov(()=>{throw new M(600,!1)})}function pA(t){return t.isBoundToModule}var gA=10;function mA(t,e,n){try{let r=n();return Nr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Vi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=D(m0),this.afterRenderEffectManager=D(o_),this.zonelessEnabled=D(Xf),this.externalTestViews=new Set,this.beforeRender=new ye,this.afterTick=new ye,this.componentTypes=[],this.components=[],this.isStable=D(Ri).hasPendingTasks.pipe(P(r=>!r)),this._injector=D(Tt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Dl;if(!this._injector.get(y_).done){let h=!o&&Iy(r),m=!1;throw new M(405,m)}let a;o?a=r:a=this._injector.get(Mi).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=pA(a)?void 0:this._injector.get($n),c=i||a.selector,u=a.create(Un.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(g_,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),wd(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new M(101,!1);let i=X(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,X(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(Ai,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<gA;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)vA(l,c,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>jo(l))&&(s.execute(),!this.allViews.some(({_lView:l})=>jo(l))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;wd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Jf,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>wd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new M(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vA(t,e,n,r){if(!n&&!jo(t))return;Z0(t,e,n&&!r?0:1)}var mf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},eh=(()=>{let e=class e{compileModuleSync(r){return new rf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=My(r),s=w0(o.declarations).reduce((a,l)=>{let c=_r(l);return c&&a.push(new zo(c)),a},[]);return new mf(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yA=(()=>{let e=class e{constructor(){this.zone=D(oe),this.changeDetectionScheduler=D(Wo),this.applicationRef=D(Vi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_A=new T("",{factory:()=>!1});function __({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new oe(D_()),[{provide:oe,useFactory:t},{provide:Ci,multi:!0,useFactory:()=>{let n=D(yA,{optional:!0});return()=>n.initialize()}},{provide:Ci,multi:!0,useFactory:()=>{let n=D(DA);return()=>{n.initialize()}}},{provide:m0,useFactory:CA},e===!0?{provide:n_,useValue:!0}:[]]}function CA(){let t=D(oe),e=D(yn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function C_(t){let e=t?.ignoreChangesOutsideZone,n=__({ngZoneFactory:()=>{let r=D_(t);return r.shouldCoalesceEventChangeDetection&&Ar("NgZone_CoalesceEvent"),new oe(r)},ignoreChangesOutsideZone:e});return Pl([{provide:_A,useValue:!0},{provide:Xf,useValue:!1},n])}function D_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var DA=(()=>{let e=class e{constructor(){this.subscription=new Se,this.initialized=!1,this.zone=D(oe),this.pendingTasks=D(Ri)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EA=(()=>{let e=class e{constructor(){this.appRef=D(Vi),this.taskService=D(Ri),this.ngZone=D(oe),this.zonelessEnabled=D(Xf),this.disableScheduling=D(n_,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Se,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jd||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Jv:r_;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&oe.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Jv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TA(){return typeof $localize<"u"&&$localize.locale||Il}var th=new T("",{providedIn:"root",factory:()=>D(th,G.Optional|G.SkipSelf)||TA()});var E_=new T("");var al=null;function SA(t=[],e){return Un.create({name:e,providers:[{provide:xl,useValue:"platform"},{provide:E_,useValue:new Set([()=>al=null])},...t]})}function wA(t=[]){if(al)return al;let e=SA(t);return al=e,hA(),bA(e),e}function bA(t){t.get(kf,null)?.forEach(n=>n())}function nh(){return!1}var Pr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=IA;let t=e;return t})();function IA(t){return MA(ut(),de(),(t&16)===16)}function MA(t,e,n){if(Ol(t)&&!n){let r=zn(t.index,e);return new Ii(r,r)}else if(t.type&175){let r=e[kt];return new Ii(r,e)}return null}function T_(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=wA(r),o=[__({}),{provide:Wo,useExisting:EA},...n||[]],a=new Tl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(oe);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(yn,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:h=>{c.handleError(h)}})});let d=()=>a.destroy(),f=i.get(E_);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),mA(c,l,()=>{let h=a.get(y_);return h.runInitializers(),h.donePromise.then(()=>{let m=a.get(th,Il);iA(m||Il);let v=a.get(Vi);return e!==void 0&&v.bootstrap(e),v})})})}catch(e){return Promise.reject(e)}}var S_=new T("");function Kl(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ts(t,e){Ar("NgSignals");let n=nv(t);return e?.equal&&(n[hn].equal=e.equal),n}function bn(t){let e=X(null);try{return t()}finally{X(e)}}var I_=null;function In(){return I_}function M_(t){I_??=t}var Xl=class{};var dt=new T(""),A_=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>D(PA),providedIn:"platform"});let t=e;return t})();var PA=(()=>{let e=class e extends A_{constructor(){super(),this._doc=D(dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return In().getBaseHref(this._doc)}onPopState(r){let i=In().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=In().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function N_(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function w_(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function xr(t){return t&&t[0]!=="?"?"?"+t:t}var Yl=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>D(P_),providedIn:"root"});let t=e;return t})(),xA=new T(""),P_=(()=>{let e=class e extends Yl{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??D(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return N_(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+xr(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+xr(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+xr(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(E(A_),E(xA,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ns=(()=>{let e=class e{constructor(r){this._subject=new we,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=kA(w_(b_(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+xr(i))}normalize(r){return e.stripTrailingSlash(OA(this._basePath,b_(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+xr(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+xr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=xr,e.joinWithSlash=N_,e.stripTrailingSlash=w_,e.\u0275fac=function(i){return new(i||e)(E(Yl))},e.\u0275prov=S({token:e,factory:()=>RA(),providedIn:"root"});let t=e;return t})();function RA(){return new ns(E(Yl))}function OA(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function b_(t){return t.replace(/\/index.html$/,"")}function kA(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function x_(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ih="browser",FA="server";function Zl(t){return t===ih}function rs(t){return t===FA}var Ql=class{};var ah=class extends Xl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},lh=class t extends ah{static makeCurrent(){M_(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=LA();return n==null?null:VA(n)}resetBaseElement(){is=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return x_(document.cookie,e)}},is=null;function LA(){return is=is||document.querySelector("base"),is?is.getAttribute("href"):null}function VA(t){return new URL(t,document.baseURI).pathname}var BA=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Jl=new T(""),F_=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new M(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(E(Jl),E(oe))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),os=class{constructor(e){this._doc=e}},oh="ng-app-id",L_=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rs(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${oh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(oh),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(oh,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(E(dt),E(Of),E(Ff,8),E(ot))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),sh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},uh=/%COMP%/g,V_="%COMP%",HA=`_nghost-${V_}`,jA=`_ngcontent-${V_}`,GA=!0,UA=new T("",{providedIn:"root",factory:()=>GA});function $A(t){return jA.replace(uh,t)}function WA(t){return HA.replace(uh,t)}function B_(t,e){return e.map(n=>n.replace(uh,t))}var R_=(()=>{let e=class e{constructor(r,i,o,s,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=rs(l),this.defaultRenderer=new ss(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Qt.ShadowDom&&(i=K(C({},i),{encapsulation:Qt.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof ec?o.applyToHost(r):o instanceof as&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Qt.Emulated:s=new ec(c,u,i,this.appId,d,a,l,f);break;case Qt.ShadowDom:return new ch(c,u,r,i,a,l,this.nonce,f);default:s=new as(c,u,i,d,a,l,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(E(F_),E(L_),E(Of),E(UA),E(dt),E(ot),E(oe),E(Ff))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),ss=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(sh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(O_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(O_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=sh[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=sh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(_n.DashCase|_n.Important)?e.style.setProperty(n,r,i&_n.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&_n.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=In().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function O_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ch=class extends ss{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=B_(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},as=class extends ss{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?B_(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ec=class extends as{constructor(e,n,r,i,o,s,a,l){let c=i+"-"+r.id;super(e,n,r,o,s,a,l,c),this.contentAttr=$A(c),this.hostAttr=WA(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},zA=(()=>{let e=class e extends os{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(E(dt))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),qA=(()=>{let e=class e extends os{constructor(r){super(r),this.delegate=D(S_,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(E(dt))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),k_=["alt","control","meta","shift"],KA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XA={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},QA=(()=>{let e=class e extends os{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>In().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),k_.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=KA[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),k_.forEach(a=>{if(a!==o){let l=XA[a];l(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(E(dt))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function H_(t,e){return T_(C({rootComponent:t},YA(e)))}function YA(t){return{appProviders:[...nN,...t?.providers??[]],platformProviders:tN}}function ZA(){lh.makeCurrent()}function JA(){return new yn}function eN(){return T0(document),document}var tN=[{provide:ot,useValue:ih},{provide:kf,useValue:ZA,multi:!0},{provide:dt,useFactory:eN,deps:[]}];var nN=[{provide:xl,useValue:"root"},{provide:yn,useFactory:JA,deps:[]},{provide:Jl,useClass:zA,multi:!0,deps:[dt,oe,ot]},{provide:Jl,useClass:QA,multi:!0,deps:[dt]},{provide:Jl,useClass:qA,multi:!0},R_,L_,F_,{provide:Ai,useExisting:R_},{provide:Ql,useClass:BA,deps:[]},[]];var j_=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(E(dt))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var B="primary",Ss=Symbol("RouteTitle"),gh=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $i(t){return new gh(t)}function oN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function sN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rn(t[n],e[n]))return!1;return!0}function rn(t,e){let n=t?mh(t):void 0,r=e?mh(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!X_(t[i],e[i]))return!1;return!0}function mh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function X_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Q_(t){return t.length>0?t[t.length-1]:null}function Qn(t){return td(t)?t:Nr(t)?ue(Promise.resolve(t)):N(t)}var aN={exact:Z_,subset:J_},Y_={exact:lN,subset:cN,ignored:()=>!0};function G_(t,e,n){return aN[n.paths](t.root,e.root,n.matrixParams)&&Y_[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function lN(t,e){return rn(t,e)}function Z_(t,e,n){if(!Or(t.segments,e.segments)||!rc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Z_(t.children[r],e.children[r],n))return!1;return!0}function cN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>X_(t[n],e[n]))}function J_(t,e,n){return eC(t,e,e.segments,n)}function eC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Or(i,n)||e.hasChildren()||!rc(i,n,r))}else if(t.segments.length===n.length){if(!Or(t.segments,n)||!rc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!J_(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Or(t.segments,i)||!rc(t.segments,i,r)||!t.children[B]?!1:eC(t.children[B],e,o,r)}}function rc(t,e,n){return e.every((r,i)=>Y_[n](t[i].parameters,r.parameters))}var An=class{constructor(e=new ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$i(this.queryParams),this._queryParamMap}toString(){return fN.serialize(this)}},ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ic(this)}},Rr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=$i(this.parameters),this._parameterMap}toString(){return nC(this)}};function uN(t,e){return Or(t,e)&&t.every((n,r)=>rn(n.parameters,e[r].parameters))}function Or(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function dN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===B&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==B&&(n=n.concat(e(i,r)))}),n}var Gh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>new ps,providedIn:"root"});let t=e;return t})(),ps=class{parse(e){let n=new yh(e);return new An(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ls(e.root,!0)}`,r=gN(e.queryParams),i=typeof e.fragment=="string"?`#${hN(e.fragment)}`:"";return`${n}${r}${i}`}},fN=new ps;function ic(t){return t.segments.map(e=>nC(e)).join("/")}function ls(t,e){if(!t.hasChildren())return ic(t);if(e){let n=t.children[B]?ls(t.children[B],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==B&&r.push(`${i}:${ls(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=dN(t,(r,i)=>i===B?[ls(t.children[B],!1)]:[`${i}:${ls(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[B]!=null?`${ic(t)}/${n[0]}`:`${ic(t)}/(${n.join("//")})`}}function tC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tc(t){return tC(t).replace(/%3B/gi,";")}function hN(t){return encodeURI(t)}function vh(t){return tC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oc(t){return decodeURIComponent(t)}function U_(t){return oc(t.replace(/\+/g,"%20"))}function nC(t){return`${vh(t.path)}${pN(t.parameters)}`}function pN(t){return Object.entries(t).map(([e,n])=>`;${vh(e)}=${vh(n)}`).join("")}function gN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${tc(n)}=${tc(i)}`).join("&"):`${tc(n)}=${tc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var mN=/^[^\/()?;#]+/;function dh(t){let e=t.match(mN);return e?e[0]:""}var vN=/^[^\/()?;=#]+/;function yN(t){let e=t.match(vN);return e?e[0]:""}var _N=/^[^=?&#]+/;function CN(t){let e=t.match(_N);return e?e[0]:""}var DN=/^[^&#]+/;function EN(t){let e=t.match(DN);return e?e[0]:""}var yh=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[B]=new ie(e,n)),r}parseSegment(){let e=dh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new Rr(oc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=yN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=dh(this.remaining);i&&(r=i,this.capture(r))}e[oc(n)]=oc(r)}parseQueryParam(e){let n=CN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=EN(this.remaining);s&&(r=s,this.capture(r))}let i=U_(n),o=U_(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=dh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new M(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=B);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[B]:new ie([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}};function rC(t){return t.segments.length>0?new ie([],{[B]:t}):t}function iC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=iC(i);if(r===B&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ie(t.segments,e);return TN(n)}function TN(t){if(t.numberOfChildren===1&&t.children[B]){let e=t.children[B];return new ie(t.segments.concat(e.segments),e.children)}return t}function gs(t){return t instanceof An}function SN(t,e,n=null,r=null){let i=oC(t);return sC(i,e,n,r)}function oC(t){let e;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new ie(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=rC(r);return e??i}function sC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return fh(i,i,i,n,r);let o=wN(e);if(o.toRoot())return fh(i,i,new ie([],{}),n,r);let s=bN(o,i,t),a=s.processChildren?ds(s.segmentGroup,s.index,o.commands):lC(s.segmentGroup,s.index,o.commands);return fh(i,s.segmentGroup,a,n,r)}function sc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ms(t){return typeof t=="object"&&t!=null&&t.outlets}function fh(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=n:s=aC(t,e,n);let a=rC(iC(s));return new An(a,o,i)}function aC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=aC(o,e,n)}),new ie(t.segments,r)}var ac=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&sc(r[0]))throw new M(4003,!1);let i=r.find(ms);if(i&&i!==Q_(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ac(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ac(n,e,r)}var ji=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function bN(t,e,n){if(t.isAbsolute)return new ji(e,!0,0);if(!n)return new ji(e,!1,NaN);if(n.parent===null)return new ji(n,!0,0);let r=sc(t.commands[0])?0:1,i=n.segments.length-1+r;return IN(n,i,t.numberOfDoubleDots)}function IN(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new ji(r,!1,i-o)}function MN(t){return ms(t[0])?t[0].outlets:{[B]:t}}function lC(t,e,n){if(t??=new ie([],{}),t.segments.length===0&&t.hasChildren())return ds(t,e,n);let r=AN(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ie(t.segments.slice(0,r.pathIndex),{});return o.children[B]=new ie(t.segments.slice(r.pathIndex),t.children),ds(o,0,i)}else return r.match&&i.length===0?new ie(t.segments,{}):r.match&&!t.hasChildren()?_h(t,e,n):r.match?ds(t,0,i):_h(t,e,n)}function ds(t,e,n){if(n.length===0)return new ie(t.segments,{});{let r=MN(n),i={};if(Object.keys(r).some(o=>o!==B)&&t.children[B]&&t.numberOfChildren===1&&t.children[B].segments.length===0){let o=ds(t.children[B],e,n);return new ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=lC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ie(t.segments,i)}}function AN(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ms(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!W_(l,c,s))return o;r+=2}else{if(!W_(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function _h(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ms(o)){let l=NN(o.outlets);return new ie(r,l)}if(i===0&&sc(n[0])){let l=t.segments[e];r.push(new Rr(l.path,$_(n[0]))),i++;continue}let s=ms(o)?o.outlets[B]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&sc(a)?(r.push(new Rr(s,$_(a))),i+=2):(r.push(new Rr(s,{})),i++)}return new ie(r,{})}function NN(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=_h(new ie([],{}),0,r))}),e}function $_(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function W_(t,e,n){return t==n.path&&rn(e,n.parameters)}var fs="imperative",Ve=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ve||{}),wt=class{constructor(e,n){this.id=e,this.url=n}},vs=class extends wt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ve.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kr=class extends wt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ve.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ht=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ht||{}),Ch=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ch||{}),Mn=class extends wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ve.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fr=class extends wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ve.NavigationSkipped}},ys=class extends wt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ve.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},lc=class extends wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dh=class extends wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eh=class extends wt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ve.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Th=class extends wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sh=class extends wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wh=class{constructor(e){this.route=e,this.type=Ve.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bh=class{constructor(e){this.route=e,this.type=Ve.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ih=class{constructor(e){this.snapshot=e,this.type=Ve.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mh=class{constructor(e){this.snapshot=e,this.type=Ve.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ah=class{constructor(e){this.snapshot=e,this.type=Ve.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nh=class{constructor(e){this.snapshot=e,this.type=Ve.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var _s=class{},Wi=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function PN(t,e){return t.providers&&!t._injector&&(t._injector=Yf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function jt(t){return t.outlet||B}function xN(t,e){let n=t.filter(r=>jt(r)===e);return n.push(...t.filter(r=>jt(r)!==e)),n}function ws(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ph=class{get injector(){return ws(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new gc(this.rootInjector),this.attachRef=null}},gc=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ph(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(E(Tt))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=xh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=xh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Rh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Rh(e,this._root).map(n=>n.value)}};function xh(t,e){if(t===e.value)return e;for(let n of e.children){let r=xh(t,n);if(r)return r}return null}function Rh(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Rh(t,n);if(r.length)return r.unshift(e),r}return[]}var ft=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Hi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var uc=class extends cc{constructor(e,n){super(e),this.snapshot=n,Uh(this,e)}toString(){return this.snapshot.toString()}};function cC(t){let e=RN(t),n=new Le([new Rr("",{})]),r=new Le({}),i=new Le({}),o=new Le({}),s=new Le(""),a=new zi(n,r,o,s,i,B,t,e.root);return a.snapshot=e.root,new uc(new ft(a,[]),e)}function RN(t){let e={},n={},r={},i="",o=new Gi([],e,r,i,n,B,t,null,{});return new fc("",new ft(o,[]))}var zi=class{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(P(c=>c[Ss]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(P(e=>$i(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(P(e=>$i(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function dc(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:C(C({},e.params),t.params),data:C(C({},e.data),t.data),resolve:C(C(C(C({},t.data),e.data),i?.data),t._resolvedData)}:r={params:C({},t.params),data:C({},t.data),resolve:C(C({},t.data),t._resolvedData??{})},i&&dC(i)&&(r.resolve[Ss]=i.title),r}var Gi=class{get title(){return this.data?.[Ss]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$i(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$i(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},fc=class extends cc{constructor(e,n){super(n),this.url=e,Uh(this,n)}toString(){return uC(this._root)}};function Uh(t,e){e.value._routerState=t,e.children.forEach(n=>Uh(t,n))}function uC(t){let e=t.children.length>0?` { ${t.children.map(uC).join(", ")} } `:"";return`${t.value}${e}`}function hh(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),rn(e.params,n.params)||t.paramsSubject.next(n.params),sN(e.url,n.url)||t.urlSubject.next(n.url),rn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Oh(t,e){let n=rn(t.params,e.params)&&uN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Oh(t.parent,e.parent))}function dC(t){return typeof t.title=="string"||t.title===null}var $h=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=B,this.activateEvents=new we,this.deactivateEvents=new we,this.attachEvents=new we,this.detachEvents=new we,this.parentContexts=D(gc),this.location=D($l),this.changeDetector=D(Pr),this.inputBinder=D(Wh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new kh(r,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=it({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wn]});let t=e;return t})(),kh=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===zi?this.route:e===gc?this.childContexts:this.parent.get(e,n)}},Wh=new T("");function ON(t,e,n){let r=Cs(t,e._root,n?n._root:void 0);return new uc(r,e)}function Cs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=kN(t,e,n);return new ft(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Cs(t,a)),s}}let r=FN(e.value),i=e.children.map(o=>Cs(t,o));return new ft(r,i)}}function kN(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Cs(t,r,i);return Cs(t,r)})}function FN(t){return new zi(new Le(t.url),new Le(t.params),new Le(t.queryParams),new Le(t.fragment),new Le(t.data),t.outlet,t.component,t)}var Ds=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},fC="ngNavigationCancelingError";function hc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=gs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=hC(!1,ht.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function hC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[fC]=!0,n.cancellationCode=e,n}function LN(t){return pC(t)&&gs(t.url)}function pC(t){return!!t&&t[fC]}var VN=(t,e,n,r)=>P(i=>(new Fh(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Fh=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),hh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Hi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Hi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Hi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Hi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Nh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Mh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(hh(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hh(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},pc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ui=class{constructor(e,n){this.component=e,this.route=n}};function BN(t,e,n){let r=t._root,i=e?e._root:null;return cs(r,i,n,[r.value])}function HN(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ki(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!hy(t)?t:e.get(t):r}function cs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Hi(e);return t.children.forEach(s=>{jN(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>hs(a,n.getContext(s),i)),i}function jN(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=GN(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new pc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?cs(t,e,a?a.children:null,r,i):cs(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ui(a.outlet.component,s))}else s&&hs(e,a,i),i.canActivateChecks.push(new pc(r)),o.component?cs(t,null,a?a.children:null,r,i):cs(t,null,n,r,i);return i}function GN(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Or(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Or(t.url,e.url)||!rn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oh(t,e)||!rn(t.queryParams,e.queryParams);case"paramsChange":default:return!Oh(t,e)}}function hs(t,e,n){let r=Hi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?hs(s,e.children.getContext(o),n):hs(s,null,n):hs(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ui(e.outlet.component,i)):n.canDeactivateChecks.push(new Ui(null,i)):n.canDeactivateChecks.push(new Ui(null,i))}function bs(t){return typeof t=="function"}function UN(t){return typeof t=="boolean"}function $N(t){return t&&bs(t.canLoad)}function WN(t){return t&&bs(t.canActivate)}function zN(t){return t&&bs(t.canActivateChild)}function qN(t){return t&&bs(t.canDeactivate)}function KN(t){return t&&bs(t.canMatch)}function gC(t){return t instanceof gn||t?.name==="EmptyError"}var nc=Symbol("INITIAL_VALUE");function qi(){return _e(t=>Xa(t.map(e=>e.pipe(mn(1),ld(nc)))).pipe(P(e=>{for(let n of e)if(n!==!0){if(n===nc)return nc;if(n===!1||XN(n))return n}return!0}),lt(e=>e!==nc),mn(1)))}function XN(t){return gs(t)||t instanceof Ds}function QN(t,e){return Ae(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?N(K(C({},n),{guardsResult:!0})):YN(s,r,i,t).pipe(Ae(a=>a&&UN(a)?ZN(r,o,t,e):N(a)),P(a=>K(C({},n),{guardsResult:a})))})}function YN(t,e,n,r){return ue(t).pipe(Ae(i=>rP(i.component,i.route,n,e,r)),We(i=>i!==!0,!0))}function ZN(t,e,n,r){return ue(e).pipe(ui(i=>li(eP(i.route.parent,r),JN(i.route,r),nP(t,i.path,n),tP(t,i.route,n))),We(i=>i!==!0,!0))}function JN(t,e){return t!==null&&e&&e(new Ah(t)),N(!0)}function eP(t,e){return t!==null&&e&&e(new Ih(t)),N(!0)}function tP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(o=>Qa(()=>{let s=ws(e)??n,a=Ki(o,s),l=WN(a)?a.canActivate(e,t):Dn(s,()=>a(e,t));return Qn(l).pipe(We())}));return N(i).pipe(qi())}function nP(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>HN(s)).filter(s=>s!==null).map(s=>Qa(()=>{let a=s.guards.map(l=>{let c=ws(s.node)??n,u=Ki(l,c),d=zN(u)?u.canActivateChild(r,t):Dn(c,()=>u(r,t));return Qn(d).pipe(We())});return N(a).pipe(qi())}));return N(o).pipe(qi())}function rP(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return N(!0);let s=o.map(a=>{let l=ws(e)??i,c=Ki(a,l),u=qN(c)?c.canDeactivate(t,e,n,r):Dn(l,()=>c(t,e,n,r));return Qn(u).pipe(We())});return N(s).pipe(qi())}function iP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let o=i.map(s=>{let a=Ki(s,t),l=$N(a)?a.canLoad(e,n):Dn(t,()=>a(e,n));return Qn(l)});return N(o).pipe(qi(),mC(r))}function mC(t){return Xu(Ne(e=>{if(typeof e!="boolean")throw hc(t,e)}),P(e=>e===!0))}function oP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let o=i.map(s=>{let a=Ki(s,t),l=KN(a)?a.canMatch(e,n):Dn(t,()=>a(e,n));return Qn(l)});return N(o).pipe(qi(),mC(r))}var Es=class{constructor(e){this.segmentGroup=e||null}},Ts=class extends Error{constructor(e){super(),this.urlTree=e}};function Bi(t){return ai(new Es(t))}function sP(t){return ai(new M(4e3,!1))}function aP(t){return ai(hC(!1,ht.GuardRejected))}var Lh=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[B])return sP(`${e.redirectTo}`);i=i.children[B]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:m,title:v}=i,_=Dn(o,()=>a({params:h,data:m,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:v}));if(_ instanceof An)throw new Ts(_);n=_}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ts(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new An(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new ie(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Vh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lP(t,e,n,r,i){let o=zh(t,e,n);return o.matched?(r=PN(e,r),oP(r,e,n,i).pipe(P(s=>s===!0?o:C({},Vh)))):N(o)}function zh(t,e,n){if(e.path==="**")return cP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?C({},Vh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||oN)(n,t,e);if(!i)return C({},Vh);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?C(C({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function cP(t){return{matched:!0,parameters:t.length>0?Q_(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function z_(t,e,n,r){return n.length>0&&fP(t,n,r)?{segmentGroup:new ie(e,dP(r,new ie(n,t.children))),slicedSegments:[]}:n.length===0&&hP(t,n,r)?{segmentGroup:new ie(t.segments,uP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ie(t.segments,t.children),slicedSegments:n}}function uP(t,e,n,r){let i={};for(let o of n)if(mc(t,e,o)&&!r[jt(o)]){let s=new ie([],{});i[jt(o)]=s}return C(C({},r),i)}function dP(t,e){let n={};n[B]=e;for(let r of t)if(r.path===""&&jt(r)!==B){let i=new ie([],{});n[jt(r)]=i}return n}function fP(t,e,n){return n.some(r=>mc(t,e,r)&&jt(r)!==B)}function hP(t,e,n){return n.some(r=>mc(t,e,r))}function mc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function pP(t,e,n,r){return jt(t)!==r&&(r===B||!mc(e,n,t))?!1:zh(e,t,n).matched}function gP(t,e,n){return e.length===0&&!t.children[n]}var Bh=class{};function mP(t,e,n,r,i,o,s="emptyOnly"){return new Hh(t,e,n,r,i,s,o).recognize()}var vP=31,Hh=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Lh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new M(4002,`'${e.segmentGroup}'`)}recognize(){let e=z_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(P(({children:n,rootSnapshot:r})=>{let i=new ft(r,n),o=new fc("",i),s=SN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Gi([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),B,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,B,n).pipe(P(r=>({children:r,rootSnapshot:n})),Fn(r=>{if(r instanceof Ts)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Es?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(P(s=>s instanceof ft?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ue(o).pipe(ui(s=>{let a=r.children[s],l=xN(n,s);return this.processSegmentGroup(e,l,a,s,i)}),fi((s,a)=>(s.push(...a),s)),Ln(null),od(),Ae(s=>{if(s===null)return Bi(r);let a=vC(s);return yP(a),N(a)}))}processSegment(e,n,r,i,o,s,a){return ue(n).pipe(ui(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,a).pipe(Fn(c=>{if(c instanceof Es)return N(null);throw c}))),We(l=>!!l),Fn(l=>{if(gC(l))return gP(r,i,o)?N(new Bh):Bi(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return pP(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):Bi(i):Bi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=zh(n,i,o);if(!l)return Bi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vP&&(this.allowRedirects=!1));let h=new Gi(o,c,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,q_(i),jt(i),i.component??i._loadedComponent??null,i,K_(i)),m=dc(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(m.params),h.data=Object.freeze(m.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(Ae(_=>this.processSegment(e,r,n,_.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=lP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(_e(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(_e(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=l,m=new Gi(f,d,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,q_(r),jt(r),r.component??r._loadedComponent??null,r,K_(r)),v=dc(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(v.params),m.data=Object.freeze(v.data);let{segmentGroup:_,slicedSegments:w}=z_(n,f,h,c);if(w.length===0&&_.hasChildren())return this.processChildren(u,c,_,m).pipe(P(A=>new ft(m,A)));if(c.length===0&&w.length===0)return N(new ft(m,[]));let W=jt(r)===o;return this.processSegment(u,c,_,w,W?B:o,!0,m).pipe(P(A=>new ft(m,A instanceof ft?[A]:[])))}))):Bi(n)))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):iP(e,n,r,this.urlSerializer).pipe(Ae(i=>i?this.configLoader.loadChildren(e,n).pipe(Ne(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):aP(n))):N({routes:[],injector:e})}};function yP(t){t.sort((e,n)=>e.value.outlet===B?-1:n.value.outlet===B?1:e.value.outlet.localeCompare(n.value.outlet))}function _P(t){let e=t.value.routeConfig;return e&&e.path===""}function vC(t){let e=[],n=new Set;for(let r of t){if(!_P(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=vC(r.children);e.push(new ft(r.value,i))}return e.filter(r=>!n.has(r))}function q_(t){return t.data||{}}function K_(t){return t.resolve||{}}function CP(t,e,n,r,i,o){return Ae(s=>mP(t,e,n,r,s.extractedUrl,i,o).pipe(P(({state:a,tree:l})=>K(C({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function DP(t,e){return Ae(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of yC(l))s.add(c);let a=0;return ue(s).pipe(ui(l=>o.has(l)?EP(l,r,t,e):(l.data=dc(l,l.parent,t).resolve,N(void 0))),Ne(()=>a++),di(1),Ae(l=>a===s.size?N(n):$e))})}function yC(t){let e=t.children.map(n=>yC(n)).flat();return[t,...e]}function EP(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!dC(i)&&(o[Ss]=i.title),TP(o,t,e,r).pipe(P(s=>(t._resolvedData=s,t.data=dc(t,t.parent,n).resolve,null)))}function TP(t,e,n,r){let i=mh(t);if(i.length===0)return N({});let o={};return ue(i).pipe(Ae(s=>SP(t[s],e,n,r).pipe(We(),Ne(a=>{if(a instanceof Ds)throw hc(new ps,a);o[s]=a}))),di(1),rd(o),Fn(s=>gC(s)?$e:ai(s)))}function SP(t,e,n,r){let i=ws(e)??r,o=Ki(t,i),s=o.resolve?o.resolve(e,n):Dn(i,()=>o(e,n));return Qn(s)}function ph(t){return _e(e=>{let n=t(e);return n?ue(n).pipe(P(()=>e)):N(e)})}var _C=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===B);return i}getResolvedTitleForRoute(r){return r.data[Ss]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>D(wP),providedIn:"root"});let t=e;return t})(),wP=(()=>{let e=class e extends _C{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(E(j_))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qh=new T("",{providedIn:"root",factory:()=>({})}),bP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Jt({type:e,selectors:[["ng-component"]],standalone:!0,features:[nn],decls:1,vars:0,template:function(i,o){i&1&&Kn(0,"router-outlet")},dependencies:[$h],encapsulation:2});let t=e;return t})();function Kh(t){let e=t.children&&t.children.map(Kh),n=e?K(C({},t),{children:e}):C({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==B&&(n.component=bP),n}var Xh=new T(""),IP=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=D(eh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Qn(r.loadComponent()).pipe(P(CC),Ne(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ro(()=>{this.componentLoaders.delete(r)})),o=new ni(i,()=>new ye).pipe(ti());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=MP(i,this.compiler,r,this.onLoadEndListener).pipe(Ro(()=>{this.childrenLoaders.delete(i)})),a=new ni(s,()=>new ye).pipe(ti());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function MP(t,e,n,r){return Qn(t.loadChildren()).pipe(P(CC),Ae(i=>i instanceof qo||Array.isArray(i)?N(i):ue(e.compileModuleAsync(i))),P(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Xh,[],{optional:!0,self:!0}).flat()),{routes:s.map(Kh),injector:o}}))}function AP(t){return t&&typeof t=="object"&&"default"in t}function CC(t){return AP(t)?t.default:t}var Qh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>D(NP),providedIn:"root"});let t=e;return t})(),NP=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PP=new T("");var xP=new T(""),RP=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ye,this.transitionAbortSubject=new ye,this.configLoader=D(IP),this.environmentInjector=D(Tt),this.urlSerializer=D(Gh),this.rootContexts=D(gc),this.location=D(ns),this.inputBindingEnabled=D(Wh,{optional:!0})!==null,this.titleStrategy=D(_C),this.options=D(qh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=D(Qh),this.createViewTransition=D(PP,{optional:!0}),this.navigationErrorHandler=D(xP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let r=o=>this.events.next(new wh(o)),i=o=>this.events.next(new bh(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(K(C(C({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Le({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:fs,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(lt(s=>s.id!==0),P(s=>K(C({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),_e(s=>{let a=!1,l=!1;return N(s).pipe(_e(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ht.SupersededByNewNavigation),$e;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?K(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new Fr(c.id,this.urlSerializer.serialize(c.rawUrl),f,Ch.IgnoredSameUrlNavigation)),c.resolve(!1),$e}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return N(c).pipe(_e(f=>{let h=this.transitions?.getValue();return this.events.next(new vs(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?$e:Promise.resolve(f)}),CP(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ne(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=K(C({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new lc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:m,restoredState:v,extras:_}=c,w=new vs(f,this.urlSerializer.serialize(h),m,v);this.events.next(w);let W=cC(this.rootComponentType).snapshot;return this.currentTransition=s=K(C({},c),{targetSnapshot:W,urlAfterRedirects:h,extras:K(C({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,N(s)}else{let f="";return this.events.next(new Fr(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Ch.IgnoredByUrlHandlingStrategy)),c.resolve(!1),$e}}),Ne(c=>{let u=new Dh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),P(c=>(this.currentTransition=s=K(C({},c),{guards:BN(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),QN(this.environmentInjector,c=>this.events.next(c)),Ne(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw hc(this.urlSerializer,c.guardsResult);let u=new Eh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),lt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ht.GuardRejected),!1)),ph(c=>{if(c.guards.canActivateChecks.length)return N(c).pipe(Ne(u=>{let d=new Th(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),_e(u=>{let d=!1;return N(u).pipe(DP(this.paramsInheritanceStrategy,this.environmentInjector),Ne({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",ht.NoDataFromResolver)}}))}),Ne(u=>{let d=new Sh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),ph(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ne(h=>{d.component=h}),P(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Xa(u(c.targetSnapshot.root)).pipe(Ln(null),mn(1))}),ph(()=>this.afterPreactivation()),_e(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?ue(d).pipe(P(()=>s)):N(s)}),P(c=>{let u=ON(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=K(C({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Ne(()=>{this.events.next(new _s)}),VN(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),mn(1),Ne({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),cd(this.transitionAbortSubject.pipe(Ne(c=>{throw c}))),Ro(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",ht.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fn(c=>{if(l=!0,pC(c))this.events.next(new Mn(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),LN(c)?this.events.next(new Wi(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let u=new ys(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let d=Dn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Ds){let{message:f,cancellationCode:h}=hc(this.urlSerializer,d);this.events.next(new Mn(s.id,this.urlSerializer.serialize(s.extractedUrl),f,h)),this.events.next(new Wi(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=r.errorHandler(c);s.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return $e}))}))}cancelNavigationTransition(r,i,o){let s=new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OP(t){return t!==fs}var kP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>D(FP),providedIn:"root"});let t=e;return t})(),jh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},FP=(()=>{let e=class e extends jh{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=xi(e)))(o||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>D(LP),providedIn:"root"});let t=e;return t})(),LP=(()=>{let e=class e extends DC{constructor(){super(...arguments),this.location=D(ns),this.urlSerializer=D(Gh),this.options=D(qh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=D(Qh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new An,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=cC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof vs)this.stateMemento=this.createStateMemento();else if(r instanceof Fr)this.rawUrlTree=i.initialUrl;else if(r instanceof lc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof _s?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Mn&&(r.code===ht.GuardRejected||r.code===ht.NoDataFromResolver)?this.restoreHistory(i):r instanceof ys?this.restoreHistory(i,!0):r instanceof kr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof An?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=C(C({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=C(C({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=xi(e)))(o||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),us=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(us||{});function VP(t,e){t.events.pipe(lt(n=>n instanceof kr||n instanceof Mn||n instanceof ys||n instanceof Fr),P(n=>n instanceof kr||n instanceof Fr?us.COMPLETE:(n instanceof Mn?n.code===ht.Redirect||n.code===ht.SupersededByNewNavigation:!1)?us.REDIRECTING:us.FAILED),lt(n=>n!==us.REDIRECTING),mn(1)).subscribe(()=>{e()})}function BP(t){throw t}var HP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Yn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=D(ql),this.stateManager=D(DC),this.options=D(qh,{optional:!0})||{},this.pendingTasks=D(Ri),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=D(RP),this.urlSerializer=D(Gh),this.location=D(ns),this.urlHandlingStrategy=D(Qh),this._events=new ye,this.errorHandler=this.options.errorHandler||BP,this.navigated=!1,this.routeReuseStrategy=D(kP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=D(Xh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!D(Wh,{optional:!0}),this.eventsSubscription=new Se,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Mn&&i.code!==ht.Redirect&&i.code!==ht.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof kr)this.navigated=!0;else if(i instanceof Wi){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c=C({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||OP(o.source)},a);this.scheduleNavigation(l,fs,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}UP(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=C({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Kh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=C(C({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=oC(h)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),f=this.currentUrlTree.root}return sC(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=gs(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,fs,null,i)}navigate(r,i={skipLocationChange:!1}){return GP(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=C({},HP):i===!1?o=C({},jP):o=i,gs(r))return G_(this.currentUrlTree,r,o);let s=this.parseUrl(r);return G_(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});let d=this.pendingTasks.add();return VP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new M(4008,!1)}function UP(t){return!(t instanceof _s)&&!(t instanceof Wi)}var $P=new T("");function EC(t,...e){return Pl([{provide:Xh,multi:!0,useValue:t},[],{provide:zi,useFactory:WP,deps:[Yn]},{provide:Jf,multi:!0,useFactory:zP},e.map(n=>n.\u0275providers)])}function WP(t){return t.routerState.root}function zP(){let t=D(Un);return e=>{let n=t.get(Vi);if(e!==n.components[0])return;let r=t.get(Yn),i=t.get(qP);t.get(KP)===1&&r.initialNavigation(),t.get(XP,null,G.Optional)?.setUpPreloading(),t.get($P,null,G.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var qP=new T("",{factory:()=>new ye}),KP=new T("",{providedIn:"root",factory:()=>1});var XP=new T("");var NC=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ee(Oi),ee(Ir))},e.\u0275dir=it({type:e});let t=e;return t})(),PC=(()=>{let e=class e extends NC{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=xi(e)))(o||e)}})(),e.\u0275dir=it({type:e,features:[en]});let t=e;return t})(),Zi=new T("");var YP={provide:Zi,useExisting:Zt(()=>Ji),multi:!0};function ZP(){let t=In()?In().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var JP=new T(""),Ji=(()=>{let e=class e extends NC{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ZP())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ee(Oi),ee(Ir),ee(JP,8))},e.\u0275dir=it({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&St("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Xn([YP]),en]});let t=e;return t})();function Zn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function xC(t){return t!=null&&typeof t.length=="number"}var tp=new T(""),np=new T(""),e1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Yi=class{static min(e){return t1(e)}static max(e){return n1(e)}static required(e){return r1(e)}static requiredTrue(e){return i1(e)}static email(e){return o1(e)}static minLength(e){return s1(e)}static maxLength(e){return a1(e)}static pattern(e){return l1(e)}static nullValidator(e){return RC(e)}static compose(e){return BC(e)}static composeAsync(e){return jC(e)}};function t1(t){return e=>{if(Zn(e.value)||Zn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function n1(t){return e=>{if(Zn(e.value)||Zn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function r1(t){return Zn(t.value)?{required:!0}:null}function i1(t){return t.value===!0?null:{required:!0}}function o1(t){return Zn(t.value)||e1.test(t.value)?null:{email:!0}}function s1(t){return e=>Zn(e.value)||!xC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function a1(t){return e=>xC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function l1(t){if(!t)return RC;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Zn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function RC(t){return null}function OC(t){return t!=null}function kC(t){return Nr(t)?ue(t):t}function FC(t){let e={};return t.forEach(n=>{e=n!=null?C(C({},e),n):e}),Object.keys(e).length===0?null:e}function LC(t,e){return e.map(n=>n(t))}function c1(t){return!t.validate}function VC(t){return t.map(e=>c1(e)?e:n=>e.validate(n))}function BC(t){if(!t)return null;let e=t.filter(OC);return e.length==0?null:function(n){return FC(LC(n,e))}}function HC(t){return t!=null?BC(VC(t)):null}function jC(t){if(!t)return null;let e=t.filter(OC);return e.length==0?null:function(n){let r=LC(n,e).map(kC);return nd(r).pipe(P(FC))}}function GC(t){return t!=null?jC(VC(t)):null}function TC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function UC(t){return t._rawValidators}function $C(t){return t._rawAsyncValidators}function Yh(t){return t?Array.isArray(t)?t:[t]:[]}function yc(t,e){return Array.isArray(t)?t.includes(e):t===e}function SC(t,e){let n=Yh(e);return Yh(t).forEach(i=>{yc(n,i)||n.push(i)}),n}function wC(t,e){return Yh(e).filter(n=>!yc(t,n))}var _c=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Lr=class extends _c{get formDirective(){return null}get path(){return null}},Vr=class extends _c{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Cc=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},u1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},PU=K(C({},u1),{"[class.ng-submitted]":"isSubmitted"}),eo=(()=>{let e=class e extends Cc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ee(Vr,2))},e.\u0275dir=it({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Wl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[en]});let t=e;return t})(),WC=(()=>{let e=class e extends Cc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ee(Lr,10))},e.\u0275dir=it({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Wl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[en]});let t=e;return t})();var Is="VALID",vc="INVALID",Xi="PENDING",Ms="DISABLED",Jn=class{},Dc=class extends Jn{constructor(e,n){super(),this.value=e,this.source=n}},As=class extends Jn{constructor(e,n){super(),this.pristine=e,this.source=n}},Ns=class extends Jn{constructor(e,n){super(),this.touched=e,this.source=n}},Qi=class extends Jn{constructor(e,n){super(),this.status=e,this.source=n}},Zh=class extends Jn{constructor(e){super(),this.source=e}},Jh=class extends Jn{constructor(e){super(),this.source=e}};function zC(t){return(bc(t)?t.validators:t)||null}function d1(t){return Array.isArray(t)?HC(t):t||null}function qC(t,e){return(bc(e)?e.asyncValidators:t)||null}function f1(t){return Array.isArray(t)?GC(t):t||null}function bc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function h1(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new M(1e3,"");if(!r[n])throw new M(1001,"")}function p1(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new M(1002,"")})}var Ec=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ts(()=>this.statusReactive()),this.statusReactive=Jo(void 0),this._pristine=ts(()=>this.pristineReactive()),this.pristineReactive=Jo(!0),this._touched=ts(()=>this.touchedReactive()),this.touchedReactive=Jo(!1),this._events=new ye,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return bn(this.statusReactive)}set status(e){bn(()=>this.statusReactive.set(e))}get valid(){return this.status===Is}get invalid(){return this.status===vc}get pending(){return this.status==Xi}get disabled(){return this.status===Ms}get enabled(){return this.status!==Ms}get pristine(){return bn(this.pristineReactive)}set pristine(e){bn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return bn(this.touchedReactive)}set touched(e){bn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(SC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(SC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wC(e,this._rawAsyncValidators))}hasValidator(e){return yc(this._rawValidators,e)}hasAsyncValidator(e){return yc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(K(C({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ns(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ns(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(K(C({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new As(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new As(!0,r))}markAsPending(e={}){this.status=Xi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(K(C({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ms,this.errors=null,this._forEachChild(i=>{i.disable(K(C({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dc(this.value,r)),this._events.next(new Qi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(K(C({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Is,this._forEachChild(r=>{r.enable(K(C({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(K(C({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Is||this.status===Xi)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dc(this.value,n)),this._events.next(new Qi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(K(C({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ms:Is}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Xi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=kC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Qi(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new we,this.statusChanges=new we}_calculateStatus(){return this._allControlsDisabled()?Ms:this.errors?vc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xi)?Xi:this._anyControlsHaveStatus(vc)?vc:Is}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new As(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ns(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bc(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=d1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=f1(this._rawAsyncValidators)}},Tc=class extends Ec{constructor(e,n,r){super(zC(n),qC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){p1(this,!0,e),Object.keys(e).forEach(r=>{h1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ic=new T("CallSetDisabledState",{providedIn:"root",factory:()=>Mc}),Mc="always";function KC(t,e){return[...e.path,t]}function ep(t,e,n=Mc){rp(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),m1(t,e),y1(t,e),v1(t,e),g1(t,e)}function bC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),wc(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Sc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function g1(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function rp(t,e){let n=UC(t);e.validator!==null?t.setValidators(TC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=$C(t);e.asyncValidator!==null?t.setAsyncValidators(TC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Sc(e._rawValidators,i),Sc(e._rawAsyncValidators,i)}function wc(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=UC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=$C(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Sc(e._rawValidators,r),Sc(e._rawAsyncValidators,r),n}function m1(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&XC(t,e)})}function v1(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&XC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function XC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function y1(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function _1(t,e){t==null,rp(t,e)}function C1(t,e){return wc(t,e)}function QC(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function D1(t){return Object.getPrototypeOf(t.constructor)===PC}function E1(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function YC(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Ji?n=o:D1(o)?r=o:i=o}),i||r||n||null}function T1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function IC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function MC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ps=class extends Ec{constructor(e=null,n,r){super(zC(n),qC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(MC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){MC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var S1=t=>t instanceof Ps;var w1={provide:Vr,useExisting:Zt(()=>xs)},AC=Promise.resolve(),xs=(()=>{let e=class e extends Vr{constructor(r,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Ps,this._registered=!1,this.name="",this.update=new we,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=YC(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),QC(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ep(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){AC.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Kl(i);AC.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?KC(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(ee(Lr,9),ee(tp,10),ee(np,10),ee(Zi,10),ee(Pr,8),ee(Ic,8))},e.\u0275dir=it({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xn([w1]),en,Wn]});let t=e;return t})(),ZC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=it({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var b1={provide:Zi,useExisting:Zt(()=>ip),multi:!0},ip=(()=>{let e=class e extends PC{writeValue(r){this.setProperty("value",parseFloat(r))}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=xi(e)))(o||e)}})(),e.\u0275dir=it({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,o){i&1&&St("change",function(a){return o.onChange(a.target.value)})("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Xn([b1]),en]});let t=e;return t})(),JC=new T("");var I1={provide:Lr,useExisting:Zt(()=>op)},op=(()=>{let e=class e extends Lr{get submitted(){return bn(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=ts(()=>this._submittedReactive()),this._submittedReactive=Jo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new we,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return ep(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){bC(r.control||null,r,!1),T1(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),E1(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new Zh(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new Jh(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(bC(i||null,r),S1(o)&&(ep(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);_1(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&C1(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rp(this.form,this),this._oldForm&&wc(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(ee(tp,10),ee(np,10),ee(Ic,8))},e.\u0275dir=it({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&St("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xn([I1]),en,Wn]});let t=e;return t})();var M1={provide:Vr,useExisting:Zt(()=>sp)},sp=(()=>{let e=class e extends Vr{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new we,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=YC(this,s)}ngOnChanges(r){this._added||this._setUpControl(),QC(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return KC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(ee(Lr,13),ee(tp,10),ee(np,10),ee(Zi,10),ee(JC,8))},e.\u0275dir=it({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Xn([M1]),en,Wn]});let t=e;return t})();var eD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Vt({type:e}),e.\u0275inj=Lt({});let t=e;return t})();var Ac=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ic,useValue:r.callSetDisabledState??Mc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Vt({type:e}),e.\u0275inj=Lt({imports:[eD]});let t=e;return t})(),tD=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:JC,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Ic,useValue:r.callSetDisabledState??Mc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Vt({type:e}),e.\u0275inj=Lt({imports:[eD]});let t=e;return t})();function A1(t,e){if(t&1&&(Ce(0,"span"),je(1),pe()),t&2){let n=e.$implicit,r=tn();Xe(),Zf(r.reverse?r.sliderLabels[r.sliderLabels.length-1-n]:n)}}var nD=(()=>{class t{reverse=!1;onChange=()=>{};onTouched=()=>{};sliderValue=0;maxValue=10;get value(){return this.reverse?this.maxValue-this.sliderValue:this.sliderValue}get sliderLabels(){return Array.from({length:this.maxValue+1},(n,r)=>r)}writeValue(n){this.sliderValue=this.reverse?this.maxValue-n:n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}onInput(n){let r=n.target;this.sliderValue=r.value?parseInt(r.value,10):0,this.onChange(this.value)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Jt({type:t,selectors:[["app-slider"]],inputs:{reverse:"reverse"},standalone:!0,features:[Xn([{provide:Zi,useExisting:Zt(()=>t),multi:!0}]),nn],decls:5,vars:2,consts:[[1,"slider-container"],["type","range","id","slider","min","0",3,"ngModelChange","input","ngModel","max"],[1,"slider-labels"]],template:function(r,i){r&1&&(Ce(0,"div",0)(1,"input",1),Li("ngModelChange",function(s){return es(i.sliderValue,s)||(i.sliderValue=s),s}),St("input",function(s){return i.onInput(s)}),pe()(),Ce(2,"div",2),c_(3,A1,2,1,"span",null,l_),pe()),r&2&&(Xe(),Fi("ngModel",i.sliderValue),qn("max",i.maxValue),Xe(2),u_(i.sliderLabels))},dependencies:[Ac,Ji,ip,eo,xs],styles:[".slider-container[_ngcontent-%COMP%]{padding:.5rem}.slider-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.slider-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem}.slider-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-align:center}"]})}return t})();var lp=function(t){return t.WERKBEOORDELING="werkbeoordeling",t}(lp||{});var N1="firebase",P1="10.12.3";kn(N1,P1,"app");var Rs=new Cn("ANGULARFIRE2_VERSION");var x1=(t,e)=>{let n=e?[e]:qm(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Br=class{constructor(){return x1(R1)}},R1="app-check";function cp(){}var Nc=class{zone;delegate;constructor(e,n=Ju){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},up=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cp,{},cp,cp)),n.pipe(Ne({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Pc=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Nc(Zone.current)),this.insideAngular=n.run(()=>new Nc(Zone.current,Po)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(E(oe))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function O1(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Nn(t){return k1(O1())(t)}function k1(t){return function(n){return n=n.lift(new up(t.ngZone)),n.pipe(xt(t.outsideAngular),_t(t.insideAngular))}}var V1=new Map,B1={activated:!1,tokenObservers:[]},H1={initialized:!1,enabled:!1};function Gt(t){return V1.get(t)||Object.assign({},B1)}function lD(){return H1}var j1="https://content-firebaseappcheck.googleapis.com/v1";var G1="exchangeDebugToken",iD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},n3=24*60*60*1e3;var fp=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return ge(this,null,function*(){this.stop();try{this.pending=new Pe,this.pending.promise.catch(n=>{}),yield U1(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Pe,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function U1(t){return new Promise(e=>{setTimeout(e,t)})}var $1={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},er=new Bm("appCheck","AppCheck",$1);function cD(t){if(!Gt(t).activated)throw er.create("use-before-activation",{appName:t.name})}function uD(r,i){return ge(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(h){throw er.create("fetch-network-error",{originalErrorMessage:h?.message})}if(l.status!==200)throw er.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(h){throw er.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw er.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function dD(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${j1}/projects/${n}/apps/${r}:${G1}?key=${i}`,body:{debug_token:e}}}var W1="firebase-app-check-database",z1=1,hp="firebase-app-check-store";var xc=null;function q1(){return xc||(xc=new Promise((t,e)=>{try{let n=indexedDB.open(W1,z1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(er.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(hp,{keyPath:"compositeKey"})}}}catch(n){e(er.create("storage-open",{originalErrorMessage:n?.message}))}}),xc)}function K1(t,e){return X1(Q1(t),e)}function X1(t,e){return ge(this,null,function*(){let r=(yield q1()).transaction(hp,"readwrite"),o=r.objectStore(hp).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(er.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function Q1(t){return`${t.options.appId}-${t.name}`}var pp=new Qr("@firebase/app-check");function dp(t,e){return Vm()?K1(t,e).catch(n=>{pp.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function fD(){return lD().enabled}function hD(){return ge(this,null,function*(){let t=lD();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Y1={error:"UNKNOWN_ERROR"};function Z1(t){return va.encodeString(JSON.stringify(t),!1)}function gp(t,e=!1){return ge(this,null,function*(){let n=t.app;cD(n);let r=Gt(n),i=r.token,o;if(i&&!Os(i)&&(r.token=void 0,i=void 0),!i){let l=yield r.cachedTokenPromise;l&&(Os(l)?i=l:yield dp(n,void 0))}if(!e&&i&&Os(i))return{token:i.token};let s=!1;if(fD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=uD(dD(n,yield hD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let l=yield r.exchangeTokenPromise;return yield dp(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Gt(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?pp.warn(l.message):pp.error(l),o=l}let a;return i?o?Os(i)?a={token:i.token,internalError:o}:a=sD(o):(a={token:i.token},r.token=i,yield dp(n,i)):a=sD(o),s&&nx(n,a),a})}function J1(t){return ge(this,null,function*(){let e=t.app;cD(e);let{provider:n}=Gt(e);if(fD()){let r=yield hD(),{token:i}=yield uD(dD(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function ex(t,e,n,r){let{app:i}=t,o=Gt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Os(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),oD(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>oD(t))}function pD(t,e){let n=Gt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function oD(t){let{app:e}=t,n=Gt(e),r=n.tokenRefresher;r||(r=tx(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function tx(t){let{app:e}=t;return new fp(()=>ge(this,null,function*(){let n=Gt(e),r;if(n.token?r=yield gp(t,!0):r=yield gp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Gt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},iD.RETRIAL_MIN_WAIT,iD.RETRIAL_MAX_WAIT)}function nx(t,e){let n=Gt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Os(t){return t.expireTimeMillis-Date.now()>0}function sD(t){return{token:Z1(Y1),error:t}}var mp=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Gt(this.app);for(let n of e)pD(this.app,n.next);return Promise.resolve()}};function rx(t,e){return new mp(t,e)}function ix(t){return{getToken:e=>gp(t,e),getLimitedUseToken:()=>J1(t),addTokenListener:e=>ex(t,"INTERNAL",e),removeTokenListener:e=>pD(t.app,e)}}var ox="@firebase/app-check",sx="0.8.5";var ax="app-check",aD="app-check-internal";function lx(){bo(new fn(ax,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return rx(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(aD).initialize()})),bo(new fn(aD,t=>{let e=t.getProvider("app-check").getImmediate();return ix(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),kn(ox,sx)}lx();var cx=["localhost","0.0.0.0","127.0.0.1"],p3=typeof window<"u"&&cx.includes(window.location.hostname);var ux="firebase",dx="10.12.3";at.registerVersion(ux,dx,"app-compat");var fx=["ngOnDestroy"],vD=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(fx.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return r?.spy?.apply&&r.spy.apply(o,c,d),d})})})});var Rc=class{constructor(e){return e}},to=new T("angularfire2.app.options"),no=new T("angularfire2.app.name");function ks(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=at.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>at.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;hx("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Rc(s)}var hx=(t,...e)=>{nh()&&typeof console<"u"&&console[t](...e)},px={provide:Rc,useFactory:ks,deps:[to,oe,[new Nl,no]]},yD=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:to,useValue:n},{provide:no,useValue:r}]}}constructor(n){at.registerVersion("angularfire",Rs.full,"core"),at.registerVersion("angularfire",Rs.full,"app-compat"),at.registerVersion("angular",p_.full,n.toString())}static \u0275fac=function(r){return new(r||t)(E(ot))};static \u0275mod=Vt({type:t});static \u0275inj=Lt({providers:[px]})}return t})();function Oc(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return gx(i,s)||(mD("error",`${e} was already initialized on the ${n} Firebase App with different settings.${mx?" You may need to reload as Firebase is not HMR aware.":""}`),mD("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function gx(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var mx=typeof module<"u"&&!!module.hot,mD=(t,...e)=>{nh()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var vp=new T("angularfire2.auth.use-emulator"),yp=new T("angularfire2.auth.settings"),_p=new T("angularfire2.auth.tenant-id"),Cp=new T("angularfire2.auth.langugage-code"),Dp=new T("angularfire2.auth.use-device-language"),Ep=new T("angularfire.auth.persistence"),Tp=(t,e,n,r,i,o,s,a)=>Oc(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]),kc=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,l,c,u,d,f,h){let m=new ye,v=N(void 0).pipe(_t(s.outsideAngular),_e(()=>o.runOutsideAngular(()=>import("./chunk-AY2MJX7P.js"))),P(()=>ks(n,o,r)),P(_=>Tp(_,o,a,c,u,d,l,f)),Za({bufferSize:1,refCount:!1}));if(rs(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=N(null);else{v.pipe(We()).subscribe();let _=v.pipe(_e(A=>A.getRedirectResult().then(ve=>ve,()=>null)),Nn,Za({bufferSize:1,refCount:!1})),w=v.pipe(_e(A=>new Q(ve=>({unsubscribe:o.runOutsideAngular(()=>A.onAuthStateChanged(Be=>ve.next(Be),Be=>ve.error(Be),()=>ve.complete()))})))),W=v.pipe(_e(A=>new Q(ve=>({unsubscribe:o.runOutsideAngular(()=>A.onIdTokenChanged(Be=>ve.next(Be),Be=>ve.error(Be),()=>ve.complete()))}))));this.authState=_.pipe(Ja(w),xt(s.outsideAngular),_t(s.insideAngular)),this.user=_.pipe(Ja(W),xt(s.outsideAngular),_t(s.insideAngular)),this.idToken=this.user.pipe(_e(A=>A?ue(A.getIdToken()):N(null))),this.idTokenResult=this.user.pipe(_e(A=>A?ue(A.getIdTokenResult()):N(null))),this.credential=ci(_,m,this.authState.pipe(lt(A=>!A))).pipe(P(A=>A?.user?A:null),xt(s.outsideAngular),_t(s.insideAngular))}return vD(this,v,o,{spy:{apply:(_,w,W)=>{(_.startsWith("signIn")||_.startsWith("createUser"))&&W.then(A=>m.next(A))}}})}static \u0275fac=function(r){return new(r||t)(E(to),E(no,8),E(ot),E(oe),E(Pc),E(vp,8),E(yp,8),E(_p,8),E(Cp,8),E(Dp,8),E(Ep,8),E(Br,8))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var CD="@firebase/database",DD="1.0.6";var kg="";function Fg(t){kg=t}var Pp=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),be(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ya(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var xp=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return yt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var ZD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Pp(e)}}catch{}return new xp},jr=ZD("localStorage"),Rp=ZD("sessionStorage");var so=new Qr("@firebase/database"),JD=function(){let t=1;return function(){return t++}}(),eE=function(t){let e=$m(t),n=new Um;n.update(e);let r=n.digest();return va.encodeByteArray(r)},oa=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=oa.apply(null,r):typeof r=="object"?e+=be(r):e+=r,e+=" "}return e},Gr=null,ED=!0,tE=function(t,e){y(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(so.logLevel=Wm.VERBOSE,Gr=so.log.bind(so),e&&Rp.set("logging_enabled",!0)):typeof t=="function"?Gr=t:(Gr=null,Rp.remove("logging_enabled"))},Re=function(...t){if(ED===!0&&(ED=!1,Gr===null&&Rp.get("logging_enabled")===!0&&tE(!0)),Gr){let e=oa.apply(null,t);Gr(e)}},sa=function(t){return function(...e){Re(t,...e)}},Op=function(...t){let e="FIREBASE INTERNAL ERROR: "+oa(...t);so.error(e)},an=function(...t){let e=`FIREBASE FATAL ERROR: ${oa(...t)}`;throw so.error(e),new Error(e)},Ge=function(...t){let e="FIREBASE WARNING: "+oa(...t);so.warn(e)},vx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ge("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},cu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},yx=function(t){if(zt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ir="[MIN_NAME]",Pn="[MAX_NAME]",$r=function(t,e){if(t===e)return 0;if(t===ir||e===Pn)return-1;if(e===ir||t===Pn)return 1;{let n=TD(t),r=TD(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},_x=function(t,e){return t===e?0:t<e?-1:1},Fs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+be(e))},Lg=function(t){if(typeof t!="object"||t===null)return be(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=be(e[r]),n+=":",n+=Lg(t[e[r]]);return n+="}",n},nE=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Oe(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var rE=function(t){y(!cu(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Cx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Dx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ex(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var Tx=new RegExp("^-?(0*)\\d{1,10}$"),Sx=-2147483648,wx=2147483647,TD=function(t){if(Tx.test(t)){let e=Number(t);if(e>=Sx&&e<=wx)return e}return null},mo=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Ge("Exception was thrown by user callback.",n),e},Math.floor(0))}},bx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Hs=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var kp=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ge(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Fp=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Re("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ge(e)}},js=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Lc="5",iE="v",oE="s",sE="r",aE="f",lE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cE="ls",uE="p",Lp="ac",dE="websocket",fE="long_polling";var Vc=class{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=jr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&jr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function Ix(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function hE(t,e,n){y(typeof e=="string","typeof type must == string"),y(typeof n=="object","typeof params must == object");let r;if(e===dE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===fE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Ix(t)&&(n.ns=t.namespace);let i=[];return Oe(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Vp=class{constructor(){this.counters_={}}incrementCounter(e,n=1){yt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return km(this.counters_)}};var Sp={},wp={};function Vg(t){let e=t.toString();return Sp[e]||(Sp[e]=new Vp),Sp[e]}function Mx(t,e){let n=t.toString();return wp[n]||(wp[n]=e()),wp[n]}var Bp=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&mo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var SD="start",Ax="close",Nx="pLPCommand",Px="pRTLPCB",pE="id",gE="pw",mE="ser",xx="cb",Rx="seg",Ox="ts",kx="d",Fx="dframe",vE=1870,yE=30,Lx=vE-yE,Vx=25e3,Bx=3e4,Ws=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sa(e),this.stats_=Vg(n),this.urlFn=l=>(this.appCheckToken&&(l[Lp]=this.appCheckToken),hE(n,fE,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Bp(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Bx)),yx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Hp((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===SD)this.id=a,this.password=l;else if(s===Ax)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[SD]="t",r[mE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[xx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[iE]=Lc,this.transportSessionId&&(r[oE]=this.transportSessionId),this.lastSessionId&&(r[cE]=this.lastSessionId),this.applicationId&&(r[uE]=this.applicationId),this.appCheckToken&&(r[Lp]=this.appCheckToken),typeof location<"u"&&location.hostname&&lE.test(location.hostname)&&(r[sE]=aE);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return zt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Cx()&&!Dx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Om(n),i=nE(r,Lx);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(zt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Fx]="t",r[pE]=e,r[gE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=be(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Hp=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,zt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=JD(),window[Nx+this.uniqueCallbackIdentifier]=e,window[Px+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Re("frame writing exception"),a.stack&&Re(a.stack),Re(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Re("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[pE]=this.myID,e[gE]=this.myPW,e[mE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yE+r.length<=vE;){let s=this.pendingSegs.shift();r=r+"&"+Rx+i+"="+s.seg+"&"+Ox+i+"="+s.ts+"&"+kx+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Vx)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){zt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Re("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var Hx=16384,jx=45e3,Bc=null;typeof MozWebSocket<"u"?Bc=MozWebSocket:typeof WebSocket<"u"&&(Bc=WebSocket);var io=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sa(this.connId),this.stats_=Vg(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[iE]=Lc,!zt()&&typeof location<"u"&&location.hostname&&lE.test(location.hostname)&&(a[sE]=aE),r&&(a[oE]=r),i&&(a[cE]=i),o&&(a[Lp]=o),s&&(a[uE]=s),hE(n,dE,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,jr.set("previous_websocket_failure",!0);try{let i;if(zt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Lc}/${kg}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Bc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Bc!==null&&!t.forceDisallow_}static previouslyFailed(){return jr.isInMemoryStorage||jr.get("previous_websocket_failure")===!0}markConnectionHealthy(){jr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=ya(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(y(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=be(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=nE(r,Hx);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jx))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),_E=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ws,io]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=io&&io.isAvailable(),i=r&&!io.previouslyFailed();if(n.webSocketOnly&&(r||Ge("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[io];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Gx=6e4,Ux=5e3,$x=10*1024,Wx=100*1024,bp="t",wD="d",zx="s",bD="r",qx="e",ID="o",MD="a",AD="n",ND="p",Kx="h",jp=class{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sa("c:"+this.id+":"),this.transportManager_=new _E(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Hs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Wx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$x?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(bp in e){let n=e[bp];n===MD?this.upgradeIfSecondaryHealthy_():n===bD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ID&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Fs("t",e),r=Fs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ND,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:MD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:AD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Fs("t",e),r=Fs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Fs(bp,e);if(wD in e){let r=e[wD];if(n===Kx){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===AD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===zx?this.onConnectionShutdown_(r):n===bD?this.onReset_(r):n===qx?Op("Server Error: "+r):n===ID?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Op("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Lc!==r&&Ge("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Hs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Gx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ux))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ND,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(jr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Hc=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var jc=class{constructor(e){this.allowedEvents_=e,this.listeners_={},y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Gc=class t extends jc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ou()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var PD=32,xD=768,re=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function ne(){return new re("")}function U(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function or(t){return t.pieces_.length-t.pieceNum_}function le(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new re(t.pieces_,e)}function Bg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Xx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function zs(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function CE(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new re(e,0)}function me(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof re)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new re(n,0)}function $(t){return t.pieceNum_>=t.pieces_.length}function Ye(t,e){let n=U(t),r=U(e);if(n===null)return e;if(n===r)return Ye(le(t),le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Qx(t,e){let n=zs(t,0),r=zs(e,0);for(let i=0;i<n.length&&i<r.length;i++){let o=$r(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Hg(t,e){if(or(t)!==or(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function bt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(or(t)>or(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Gp=class{constructor(e,n){this.errorPrefix_=n,this.parts_=zs(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=wo(this.parts_[r]);DE(this)}};function Yx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=wo(e),DE(t)}function Zx(t){let e=t.parts_.pop();t.byteLength_-=wo(e),t.parts_.length>0&&(t.byteLength_-=1)}function DE(t){if(t.byteLength_>xD)throw new Error(t.errorPrefix_+"has a key path longer than "+xD+" bytes ("+t.byteLength_+").");if(t.parts_.length>PD)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+PD+") or object contains a cycle "+Hr(t))}function Hr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Up=class t extends jc{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return y(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ls=1e3,Jx=60*5*1e3,RD=30*1e3,eR=1.3,tR=3e4,nR="server_kill",OD=3,jg=(()=>{class t extends Hc{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=sa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ls,this.maxReconnectDelay_=Jx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!zt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Up.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Gc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(be(s)),y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Pe,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),y(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&yt(n,"w")){let i=On(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Ge(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||jm(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=Hm(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+be(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Op("Unrecognized action received from server: "+be(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ls,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ls,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tR&&(this.reconnectDelay_=Ls),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*eR)}this.onConnectStatus_(!1)}establishConnection_(){return ge(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){y(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Re("getToken() completed but was canceled"):(Re("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new jp(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,m=>{Ge(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(nR)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Ge(f),c())}}})}interrupt(n){Re("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Re("Resuming connection for reason: "+n),delete this.interruptReasons_[n],_a(this.interruptReasons_)&&(this.reconnectDelay_=Ls,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Lg(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new re(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Re("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=OD&&(this.reconnectDelay_=RD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Re("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=OD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";zt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+kg.replace(/\./g,"-")]=1,Ou()?n["framework.cordova"]=1:Lm()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Gc.getInstance().currentlyOnline();return _a(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),q=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var ao=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new q(ir,e),i=new q(ir,n);return this.compare(r,i)!==0}minPost(){return q.MIN}};var Fc,Uc=class extends ao{static get __EMPTY_NODE(){return Fc}static set __EMPTY_NODE(e){Fc=e}compare(e,n){return $r(e.name,n.name)}isDefinedOn(e){throw Xr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return q.MIN}maxPost(){return new q(Pn,Fc)}makePost(e,n){return y(typeof e=="string","KeyIndex indexValue must always be a string."),new q(e,Fc)}toString(){return".key"}},sn=new Uc;var oo=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Ut=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??It.EMPTY_NODE,this.right=s??It.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return It.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return It.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),$p=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Ut(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},It=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ut.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ut.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new oo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new oo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new oo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new oo(this.root_,null,this.comparator_,!0,e)}};It.EMPTY_NODE=new $p;function rR(t,e){return $r(t.name,e.name)}function Gg(t,e){return $r(t,e)}var Wp;function iR(t){Wp=t}var EE=function(t){return typeof t=="number"?"number:"+rE(t):"string:"+t},TE=function(t){if(t.isLeafNode()){let e=t.val();y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&yt(e,".sv"),"Priority must be a string or number.")}else y(t===Wp||t.isEmpty(),"priority of unexpected type.");y(t===Wp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var kD,lo=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),TE(this.priorityNode_)}static set __childrenNodeConstructor(n){kD=n}static get __childrenNodeConstructor(){return kD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return $(n)?this:U(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=U(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(y(i!==".priority"||or(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+EE(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=rE(this.value_):n+=this.value_,this.lazyHash_=eE(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(y(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return y(o>=0,"Unknown leaf type: "+r),y(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),SE,wE;function oR(t){SE=t}function sR(t){wE=t}var zp=class extends ao{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?$r(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return q.MIN}maxPost(){return new q(Pn,new lo("[PRIORITY-POST]",wE))}makePost(e,n){let r=SE(e);return new q(n,new lo("[PRIORITY-POST]",r))}toString(){return".priority"}},fe=new zp;var aR=Math.log(2),qp=class{constructor(e){let n=o=>parseInt(Math.log(o)/aR,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},$c=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new Ut(f,d.node,Ut.BLACK,null,null);{let h=parseInt(u/2,10)+l,m=i(l,h),v=i(h+1,c);return d=t[h],f=n?n(d):d,new Ut(f,d.node,Ut.BLACK,m,v)}},o=function(l){let c=null,u=null,d=t.length,f=function(m,v){let _=d-m,w=d;d-=m;let W=i(_+1,w),A=t[_],ve=n?n(A):A;h(new Ut(ve,A.node,v,null,W))},h=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){let v=l.nextBitIsOne(),_=Math.pow(2,l.count-(m+1));v?f(_,Ut.BLACK):(f(_,Ut.BLACK),f(_,Ut.RED))}return u},s=new qp(t.length),a=o(s);return new It(r||e,a)};var Ip,ro={},co=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return y(ro&&fe,"ChildrenNode.ts has not been loaded"),Ip=Ip||new t({".priority":ro},{".priority":fe}),Ip}get(e){let n=On(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof It?n:null}hasIndex(e){return yt(this.indexSet_,e.toString())}addIndex(e,n){y(e!==sn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(q.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=$c(r,e.getCompare()):a=ro;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=So(this.indexes_,(i,o)=>{let s=On(this.indexSet_,o);if(y(s,"Missing index implementation for "+o),i===ro)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator(q.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),$c(a,s.getCompare())}else return ro;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new q(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=So(this.indexes_,i=>{if(i===ro)return i;{let o=n.get(e.name);return o?i.remove(new q(e.name,o)):i}});return new t(r,this.indexSet_)}};var Vs,L=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&TE(this.priorityNode_),this.children_.isEmpty()&&y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vs||(Vs=new t(new It(Gg),null,co.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vs}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Vs:r}}getChild(n){let r=U(n);return r===null?this:this.getImmediateChild(r).getChild(le(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(y(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new q(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Vs:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=U(n);if(i===null)return r;{y(U(n)!==".priority"||or(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(le(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(fe,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+EE(this.getPriority().val())+":"),this.forEachChild(fe,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":eE(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new q(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new q(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new q(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===aa?-1:0}withIndex(n){if(n===sn||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===sn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(fe),o=r.getIterator(fe),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===sn?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Kp=class extends L{constructor(){super(new It(Gg),L.EMPTY_NODE,co.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return L.EMPTY_NODE}isEmpty(){return!1}},aa=new Kp;Object.defineProperties(q,{MIN:{value:new q(ir,L.EMPTY_NODE)},MAX:{value:new q(Pn,aa)}});Uc.__EMPTY_NODE=L.EMPTY_NODE;lo.__childrenNodeConstructor=L;iR(aa);sR(aa);var lR=!0;function De(t,e=null){if(t===null)return L.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new lo(n,De(e))}if(!(t instanceof Array)&&lR){let n=[],r=!1;if(Oe(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=De(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new q(s,l)))}}),n.length===0)return L.EMPTY_NODE;let o=$c(n,rR,s=>s.name,Gg);if(r){let s=$c(n,fe.getCompare());return new L(o,De(e),new co({".priority":s},{".priority":fe}))}else return new L(o,De(e),co.Default)}else{let n=L.EMPTY_NODE;return Oe(t,(r,i)=>{if(yt(t,r)&&r.substring(0,1)!=="."){let o=De(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(De(e))}}oR(De);var qs=class extends ao{constructor(e){super(),this.indexPath_=e,y(!$(e)&&U(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?$r(e.name,n.name):o}makePost(e,n){let r=De(e),i=L.EMPTY_NODE.updateChild(this.indexPath_,r);return new q(n,i)}maxPost(){let e=L.EMPTY_NODE.updateChild(this.indexPath_,aa);return new q(Pn,e)}toString(){return zs(this.indexPath_,0).join("/")}};var Xp=class extends ao{compare(e,n){let r=e.node.compareTo(n.node);return r===0?$r(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return q.MIN}maxPost(){return q.MAX}makePost(e,n){let r=De(e);return new q(n,r)}toString(){return".value"}},Ug=new Xp;function bE(t){return{type:"value",snapshotNode:t}}function uo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ks(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Xs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function cR(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Qs=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Ks(n,a)):y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(uo(n,r)):s.trackChildChange(Xs(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(fe,(i,o)=>{n.hasChild(i)||r.trackChildChange(Ks(i,o))}),n.isLeafNode()||n.forEachChild(fe,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Xs(i,o,s))}else r.trackChildChange(uo(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?L.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Wc=class t{constructor(e){this.indexedFilter_=new Qs(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new q(n,r))||(r=L.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=L.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(L.EMPTY_NODE);let o=this;return n.forEachChild(fe,(s,a)=>{o.matches(new q(s,a))||(i=i.updateImmediateChild(s,L.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Qp=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Wc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new q(n,r))||(r=L.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=L.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=L.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(L.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,L.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;y(a.numChildren()===this.limit_,"");let l=new q(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Xs(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Ks(n,d));let v=a.updateImmediateChild(n,L.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(uo(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Ks(c.name,c.node)),o.trackChildChange(uo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,L.EMPTY_NODE)):e}};var Ys=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ir}hasEnd(){return this.endSet_}getIndexEndValue(){return y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Pn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fe}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function uR(t){return t.loadsAllData()?new Qs(t.getIndex()):t.hasLimit()?new Qp(t):new Wc(t)}function dR(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function fR(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Yp(t,e,n){let r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function hR(t,e,n){let r;return t.index_===sn||n?r=Yp(t,e,n):r=Yp(t,e,Pn),r.startAfterSet_=!0,r}function Zp(t,e,n){let r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function pR(t,e,n){let r;return t.index_===sn||n?r=Zp(t,e,n):r=Zp(t,e,ir),r.endBeforeSet_=!0,r}function uu(t,e){let n=t.copy();return n.index_=e,n}function FD(t){let e={};if(t.isDefault())return e;let n;if(t.index_===fe?n="$priority":t.index_===Ug?n="$value":t.index_===sn?n="$key":(y(t.index_ instanceof qs,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=be(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=be(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+be(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=be(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+be(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function LD(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==fe&&(e.i=t.index_.toString()),e}var Jp=class t extends Hc{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=sa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let l=FD(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),On(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=FD(e._queryParams),r=e._path.toString(),i=new Pe;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Gm(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ya(a.responseText)}catch{Ge("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ge("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var eg=class{constructor(){this.rootNode_=L.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function zc(){return{value:null,children:new Map}}function vo(t,e,n){if($(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=U(e);t.children.has(r)||t.children.set(r,zc());let i=t.children.get(r);e=le(e),vo(i,e,n)}}function tg(t,e){if($(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(fe,(r,i)=>{vo(t,new re(r),i)}),tg(t,e)}}else if(t.children.size>0){let n=U(e);return e=le(e),t.children.has(n)&&tg(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function ng(t,e,n){t.value!==null?n(e,t.value):gR(t,(r,i)=>{let o=new re(e.toString()+"/"+r);ng(i,o,n)})}function gR(t,e){t.children.forEach((n,r)=>{e(r,n)})}var rg=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Oe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var VD=10*1e3,mR=30*1e3,vR=5*60*1e3,ig=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new rg(e);let r=VD+(mR-VD)*Math.random();Hs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Oe(e,(i,o)=>{o>0&&yt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Hs(this.reportStats_.bind(this),Math.floor(Math.random()*2*vR))}};var on=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(on||{});function $g(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Wg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function zg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var og=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=on.ACK_USER_WRITE,this.source=$g()}operationForChild(e){if($(this.path)){if(this.affectedTree.value!=null)return y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new re(e));return new t(ne(),n,this.revert)}}else return y(U(this.path)===e,"operationForChild called for unrelated child."),new t(le(this.path),this.affectedTree,this.revert)}};var qc=class t{constructor(e,n){this.source=e,this.path=n,this.type=on.LISTEN_COMPLETE}operationForChild(e){return $(this.path)?new t(this.source,ne()):new t(this.source,le(this.path))}};var fo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=on.OVERWRITE}operationForChild(e){return $(this.path)?new t(this.source,ne(),this.snap.getImmediateChild(e)):new t(this.source,le(this.path),this.snap)}};var Zs=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=on.MERGE}operationForChild(e){if($(this.path)){let n=this.children.subtree(new re(e));return n.isEmpty()?null:n.value?new fo(this.source,ne(),n.value):new t(this.source,ne(),n)}else return y(U(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var ln=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($(e))return this.isFullyInitialized()&&!this.filtered_;let n=U(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var sg=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function yR(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(cR(s.childName,s.snapshotNode))}),Bs(t,i,"child_removed",e,r,n),Bs(t,i,"child_added",e,r,n),Bs(t,i,"child_moved",o,r,n),Bs(t,i,"child_changed",e,r,n),Bs(t,i,"value",e,r,n),i}function Bs(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>CR(t,a,l)),s.forEach(a=>{let l=_R(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function _R(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function CR(t,e,n){if(e.childName==null||n.childName==null)throw Xr("Should only compare child_ events.");let r=new q(e.childName,e.snapshotNode),i=new q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function du(t,e){return{eventCache:t,serverCache:e}}function Gs(t,e,n,r){return du(new ln(e,n,r),t.serverCache)}function IE(t,e,n,r){return du(t.eventCache,new ln(e,n,r))}function Kc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ur(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Mp,DR=()=>(Mp||(Mp=new It(_x)),Mp),Ze=class t{constructor(e,n=DR()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Oe(e,(r,i)=>{n=n.set(new re(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ne(),value:this.value};if($(e))return null;{let r=U(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(le(e),n);return o!=null?{path:me(new re(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($(e))return this;{let n=U(e),r=this.children.get(n);return r!==null?r.subtree(le(e)):new t(null)}}set(e,n){if($(e))return new t(n,this.children);{let r=U(e),o=(this.children.get(r)||new t(null)).set(le(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if($(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=U(e),r=this.children.get(n);if(r){let i=r.remove(le(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if($(e))return this.value;{let n=U(e),r=this.children.get(n);return r?r.get(le(e)):null}}setTree(e,n){if($(e))return n;{let r=U(e),o=(this.children.get(r)||new t(null)).setTree(le(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(ne(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(me(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ne(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if($(e))return null;{let o=U(e),s=this.children.get(o);return s?s.findOnPath_(le(e),me(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ne(),n)}foreachOnPath_(e,n,r){if($(e))return this;{this.value&&r(n,this.value);let i=U(e),o=this.children.get(i);return o?o.foreachOnPath_(le(e),me(n,i),r):new t(null)}}foreach(e){this.foreach_(ne(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(me(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var $t=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Ze(null))}};function Us(t,e,n){if($(e))return new $t(new Ze(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Ye(i,e);return o=o.updateChild(s,n),new $t(t.writeTree_.set(i,o))}else{let i=new Ze(n),o=t.writeTree_.setTree(e,i);return new $t(o)}}}function ag(t,e,n){let r=t;return Oe(n,(i,o)=>{r=Us(r,me(e,i),o)}),r}function BD(t,e){if($(e))return $t.empty();{let n=t.writeTree_.setTree(e,new Ze(null));return new $t(n)}}function lg(t,e){return Wr(t,e)!=null}function Wr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ye(n.path,e)):null}function HD(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(fe,(r,i)=>{e.push(new q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new q(r,i.value))}),e}function nr(t,e){if($(e))return t;{let n=Wr(t,e);return n!=null?new $t(new Ze(n)):new $t(t.writeTree_.subtree(e))}}function cg(t){return t.writeTree_.isEmpty()}function ho(t,e){return ME(ne(),t.writeTree_,e)}function ME(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(y(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=ME(me(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(me(t,".priority"),r)),n}}function fu(t,e){return xE(e,t)}function ER(t,e,n,r,i){y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Us(t.visibleWrites,e,n)),t.lastWriteId=r}function TR(t,e,n,r){y(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=ag(t.visibleWrites,e,n),t.lastWriteId=r}function SR(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function wR(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);y(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&bR(a,r.path)?i=!1:bt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return IR(t),!0;if(r.snap)t.visibleWrites=BD(t.visibleWrites,r.path);else{let a=r.children;Oe(a,l=>{t.visibleWrites=BD(t.visibleWrites,me(r.path,l))})}return!0}else return!1}function bR(t,e){if(t.snap)return bt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&bt(me(t.path,n),e))return!0;return!1}function IR(t){t.visibleWrites=AE(t.allWrites,MR,ne()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function MR(t){return t.visible}function AE(t,e,n){let r=$t.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)bt(n,s)?(a=Ye(n,s),r=Us(r,a,o.snap)):bt(s,n)&&(a=Ye(s,n),r=Us(r,ne(),o.snap.getChild(a)));else if(o.children){if(bt(n,s))a=Ye(n,s),r=ag(r,a,o.children);else if(bt(s,n))if(a=Ye(s,n),$(a))r=ag(r,ne(),o.children);else{let l=On(o.children,U(a));if(l){let c=l.getChild(le(a));r=Us(r,ne(),c)}}}else throw Xr("WriteRecord should have .snap or .children")}}return r}function NE(t,e,n,r,i){if(!r&&!i){let o=Wr(t.visibleWrites,e);if(o!=null)return o;{let s=nr(t.visibleWrites,e);if(cg(s))return n;if(n==null&&!lg(s,ne()))return null;{let a=n||L.EMPTY_NODE;return ho(s,a)}}}else{let o=nr(t.visibleWrites,e);if(!i&&cg(o))return n;if(!i&&n==null&&!lg(o,ne()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(bt(c.path,e)||bt(e,c.path))},a=AE(t.allWrites,s,e),l=n||L.EMPTY_NODE;return ho(a,l)}}}function AR(t,e,n){let r=L.EMPTY_NODE,i=Wr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(fe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=nr(t.visibleWrites,e);return n.forEachChild(fe,(s,a)=>{let l=ho(nr(o,new re(s)),a);r=r.updateImmediateChild(s,l)}),HD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=nr(t.visibleWrites,e);return HD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function NR(t,e,n,r,i){y(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=me(e,n);if(lg(t.visibleWrites,o))return null;{let s=nr(t.visibleWrites,o);return cg(s)?i.getChild(n):ho(s,i.getChild(n))}}function PR(t,e,n,r){let i=me(e,n),o=Wr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=nr(t.visibleWrites,i);return ho(s,r.getNode().getImmediateChild(n))}else return null}function xR(t,e){return Wr(t.visibleWrites,e)}function RR(t,e,n,r,i,o,s){let a,l=nr(t.visibleWrites,e),c=Wr(l,ne());if(c!=null)a=c;else if(n!=null)a=ho(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function OR(){return{visibleWrites:$t.empty(),allWrites:[],lastWriteId:-1}}function Xc(t,e,n,r){return NE(t.writeTree,t.treePath,e,n,r)}function qg(t,e){return AR(t.writeTree,t.treePath,e)}function jD(t,e,n,r){return NR(t.writeTree,t.treePath,e,n,r)}function Qc(t,e){return xR(t.writeTree,me(t.treePath,e))}function kR(t,e,n,r,i,o){return RR(t.writeTree,t.treePath,e,n,r,i,o)}function Kg(t,e,n){return PR(t.writeTree,t.treePath,e,n)}function PE(t,e){return xE(me(t.treePath,e),t.writeTree)}function xE(t,e){return{treePath:t,writeTree:e}}var ug=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),y(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Xs(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Ks(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,uo(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Xs(r,e.snapshotNode,i.oldSnap));else throw Xr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var dg=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},RE=new dg,Js=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new ln(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Kg(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ur(this.viewCache_),o=kR(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function FR(t){return{filter:t}}function LR(t,e){y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function VR(t,e,n,r,i){let o=new ug,s,a;if(n.type===on.OVERWRITE){let c=n;c.source.fromUser?s=fg(t,e,c.path,c.snap,r,i,o):(y(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!$(c.path),s=Yc(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===on.MERGE){let c=n;c.source.fromUser?s=HR(t,e,c.path,c.children,r,i,o):(y(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=hg(t,e,c.path,c.children,r,i,a,o))}else if(n.type===on.ACK_USER_WRITE){let c=n;c.revert?s=UR(t,e,c.path,r,i,o):s=jR(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===on.LISTEN_COMPLETE)s=GR(t,e,n.path,r,o);else throw Xr("Unknown operation type: "+n.type);let l=o.getChanges();return BR(e,s,l),{viewCache:s,changes:l}}function BR(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Kc(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(bE(Kc(e)))}}function OE(t,e,n,r,i,o){let s=e.eventCache;if(Qc(r,n)!=null)return e;{let a,l;if($(n))if(y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=Ur(e),u=c instanceof L?c:L.EMPTY_NODE,d=qg(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let c=Xc(r,Ur(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{let c=U(n);if(c===".priority"){y(or(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=e.serverCache.getNode();let d=jD(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=le(n),d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();let f=jD(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=Kg(r,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return Gs(e,a,s.isFullyInitialized()||$(n),t.filter.filtersNodes())}}function Yc(t,e,n,r,i,o,s,a){let l=e.serverCache,c,u=s?t.filter:t.filter.getIndexedFilter();if($(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=U(n);if(!l.isCompleteForPath(n)&&or(n)>1)return e;let m=le(n),_=l.getNode().getImmediateChild(h).updateChild(m,r);h===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),h,_,m,RE,null)}let d=IE(e,c,l.isFullyInitialized()||$(n),u.filtersNodes()),f=new Js(i,d,o);return OE(t,d,n,i,f,a)}function fg(t,e,n,r,i,o,s){let a=e.eventCache,l,c,u=new Js(i,e,o);if($(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Gs(e,c,!0,t.filter.filtersNodes());else{let d=U(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Gs(e,c,a.isFullyInitialized(),a.isFiltered());else{let f=le(n),h=a.getNode().getImmediateChild(d),m;if($(f))m=r;else{let v=u.getCompleteChild(d);v!=null?Bg(f)===".priority"&&v.getChild(CE(f)).isEmpty()?m=v:m=v.updateChild(f,r):m=L.EMPTY_NODE}if(h.equals(m))l=e;else{let v=t.filter.updateChild(a.getNode(),d,m,f,u,s);l=Gs(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function GD(t,e){return t.eventCache.isCompleteForChild(e)}function HR(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{let u=me(n,l);GD(e,U(u))&&(a=fg(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{let u=me(n,l);GD(e,U(u))||(a=fg(t,a,u,c,i,o,s))}),a}function UD(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function hg(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;$(n)?c=r:c=new Ze(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),m=UD(t,h,f);l=Yc(t,l,new re(d),m,i,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let m=e.serverCache.getNode().getImmediateChild(d),v=UD(t,m,f);l=Yc(t,l,new re(d),v,i,o,s,a)}}),l}function jR(t,e,n,r,i,o,s){if(Qc(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if($(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Yc(t,e,n,l.getNode().getChild(n),i,o,a,s);if($(n)){let c=new Ze(null);return l.getNode().forEachChild(sn,(u,d)=>{c=c.set(new re(u),d)}),hg(t,e,n,c,i,o,a,s)}else return e}else{let c=new Ze(null);return r.foreach((u,d)=>{let f=me(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),hg(t,e,n,c,i,o,a,s)}}function GR(t,e,n,r,i){let o=e.serverCache,s=IE(e,o.getNode(),o.isFullyInitialized()||$(n),o.isFiltered());return OE(t,s,n,r,RE,i)}function UR(t,e,n,r,i,o){let s;if(Qc(r,n)!=null)return e;{let a=new Js(r,e,i),l=e.eventCache.getNode(),c;if($(n)||U(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Xc(r,Ur(e));else{let d=e.serverCache.getNode();y(d instanceof L,"serverChildren would be complete if leaf node"),u=qg(r,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{let u=U(n),d=Kg(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,le(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,L.EMPTY_NODE,le(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Xc(r,Ur(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||Qc(r,ne())!=null,Gs(e,c,s,t.filter.filtersNodes())}}var pg=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Qs(r.getIndex()),o=uR(r);this.processor_=FR(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(L.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(L.EMPTY_NODE,a.getNode(),null),u=new ln(l,s.isFullyInitialized(),i.filtersNodes()),d=new ln(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=du(d,u),this.eventGenerator_=new sg(this.query_)}get query(){return this.query_}};function $R(t){return t.viewCache_.serverCache.getNode()}function WR(t){return Kc(t.viewCache_)}function zR(t,e){let n=Ur(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!$(e)&&!n.getImmediateChild(U(e)).isEmpty())?n.getChild(e):null}function $D(t){return t.eventRegistrations_.length===0}function qR(t,e){t.eventRegistrations_.push(e)}function WD(t,e,n){let r=[];if(n){y(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function zD(t,e,n,r){e.type===on.MERGE&&e.source.queryId!==null&&(y(Ur(t.viewCache_),"We should always have a full cache before handling merges"),y(Kc(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=VR(t.processor_,i,e,n,r);return LR(t.processor_,o.viewCache),y(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,kE(t,o.changes,o.viewCache.eventCache.getNode(),null)}function KR(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(fe,(o,s)=>{r.push(uo(o,s))}),n.isFullyInitialized()&&r.push(bE(n.getNode())),kE(t,r,n.getNode(),e)}function kE(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return yR(t.eventGenerator_,e,n,i)}var Zc,Jc=class{constructor(){this.views=new Map}};function XR(t){y(!Zc,"__referenceConstructor has already been defined"),Zc=t}function QR(){return y(Zc,"Reference.ts has not been loaded"),Zc}function YR(t){return t.views.size===0}function Xg(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return y(o!=null,"SyncTree gave us an op for an invalid query."),zD(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(zD(s,e,n,r));return o}}function FE(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Xc(n,i?r:null),l=!1;a?l=!0:r instanceof L?(a=qg(n,r),l=!1):(a=L.EMPTY_NODE,l=!1);let c=du(new ln(a,l,!1),new ln(r,i,!1));return new pg(e,c)}return s}function ZR(t,e,n,r,i,o){let s=FE(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),qR(s,n),KR(s,n)}function JR(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=sr(t);if(i==="default")for(let[l,c]of t.views.entries())s=s.concat(WD(c,n,r)),$D(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=t.views.get(i);l&&(s=s.concat(WD(l,n,r)),$D(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!sr(t)&&o.push(new(QR())(e._repo,e._path)),{removed:o,events:s}}function LE(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function rr(t,e){let n=null;for(let r of t.views.values())n=n||zR(r,e);return n}function VE(t,e){if(e._queryParams.loadsAllData())return hu(t);{let r=e._queryIdentifier;return t.views.get(r)}}function BE(t,e){return VE(t,e)!=null}function sr(t){return hu(t)!=null}function hu(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var eu;function eO(t){y(!eu,"__referenceConstructor has already been defined"),eu=t}function tO(){return y(eu,"Reference.ts has not been loaded"),eu}var nO=1,tu=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=OR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Qg(t,e,n,r,i){return ER(t.pendingWriteTree_,e,n,r,i),i?yo(t,new fo($g(),e,n)):[]}function rO(t,e,n,r){TR(t.pendingWriteTree_,e,n,r);let i=Ze.fromObject(n);return yo(t,new Zs($g(),e,i))}function tr(t,e,n=!1){let r=SR(t.pendingWriteTree_,e);if(wR(t.pendingWriteTree_,e)){let o=new Ze(null);return r.snap!=null?o=o.set(ne(),!0):Oe(r.children,s=>{o=o.set(new re(s),!0)}),yo(t,new og(r.path,o,n))}else return[]}function la(t,e,n){return yo(t,new fo(Wg(),e,n))}function iO(t,e,n){let r=Ze.fromObject(n);return yo(t,new Zs(Wg(),e,r))}function oO(t,e){return yo(t,new qc(Wg(),e))}function sO(t,e,n){let r=Yg(t,n);if(r){let i=Zg(r),o=i.path,s=i.queryId,a=Ye(o,e),l=new qc(zg(s),a);return Jg(t,o,l)}else return[]}function nu(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||BE(s,e))){let l=JR(s,e,n,r);YR(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>sr(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=cO(f);for(let m=0;m<h.length;++m){let v=h[m],_=v.query,w=UE(t,v);t.listenProvider_.startListening($s(_),ea(t,_),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening($s(e),null):c.forEach(f=>{let h=t.queryToTagMap.get(gu(f));t.listenProvider_.stopListening($s(f),h)}))}uO(t,c)}return a}function HE(t,e,n,r){let i=Yg(t,r);if(i!=null){let o=Zg(i),s=o.path,a=o.queryId,l=Ye(s,e),c=new fo(zg(a),l,n);return Jg(t,s,c)}else return[]}function aO(t,e,n,r){let i=Yg(t,r);if(i){let o=Zg(i),s=o.path,a=o.queryId,l=Ye(s,e),c=Ze.fromObject(n),u=new Zs(zg(a),l,c);return Jg(t,s,u)}else return[]}function gg(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let m=Ye(f,i);o=o||rr(h,m),s=s||sr(h)});let a=t.syncPointTree_.get(i);a?(s=s||sr(a),o=o||rr(a,ne())):(a=new Jc,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=L.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,m)=>{let v=rr(m,ne());v&&(o=o.updateImmediateChild(h,v))}));let c=BE(a,e);if(!c&&!e._queryParams.loadsAllData()){let f=gu(e);y(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=dO();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=fu(t.pendingWriteTree_,i),d=ZR(a,e,n,u,o,l);if(!c&&!s&&!r){let f=VE(a,e);d=d.concat(fO(t,e,f))}return d}function pu(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=Ye(s,e),c=rr(a,l);if(c)return c});return NE(i,e,o,n,!0)}function lO(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=Ye(c,n);r=r||rr(u,d)});let i=t.syncPointTree_.get(n);i?r=r||rr(i,ne()):(i=new Jc,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new ln(r,!0,!1):null,a=fu(t.pendingWriteTree_,e._path),l=FE(i,e,a,o?s.getNode():L.EMPTY_NODE,o);return WR(l)}function yo(t,e){return jE(e,t.syncPointTree_,null,fu(t.pendingWriteTree_,ne()))}function jE(t,e,n,r){if($(t.path))return GE(t,e,n,r);{let i=e.get(ne());n==null&&i!=null&&(n=rr(i,ne()));let o=[],s=U(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=PE(r,s);o=o.concat(jE(a,l,c,u))}return i&&(o=o.concat(Xg(i,t,r,n))),o}}function GE(t,e,n,r){let i=e.get(ne());n==null&&i!=null&&(n=rr(i,ne()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=PE(r,s),u=t.operationForChild(s);u&&(o=o.concat(GE(u,a,l,c)))}),i&&(o=o.concat(Xg(i,t,r,n))),o}function UE(t,e){let n=e.query,r=ea(t,n);return{hashFn:()=>($R(e)||L.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?sO(t,n._path,r):oO(t,n._path);{let o=Ex(i,n);return nu(t,n,null,o)}}}}function ea(t,e){let n=gu(e);return t.queryToTagMap.get(n)}function gu(t){return t._path.toString()+"$"+t._queryIdentifier}function Yg(t,e){return t.tagToQueryMap.get(e)}function Zg(t){let e=t.indexOf("$");return y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new re(t.substr(0,e))}}function Jg(t,e,n){let r=t.syncPointTree_.get(e);y(r,"Missing sync point for query tag that we're tracking");let i=fu(t.pendingWriteTree_,e);return Xg(r,n,i,null)}function cO(t){return t.fold((e,n,r)=>{if(n&&sr(n))return[hu(n)];{let i=[];return n&&(i=LE(n)),Oe(r,(o,s)=>{i=i.concat(s)}),i}})}function $s(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(tO())(t._repo,t._path):t}function uO(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=gu(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function dO(){return nO++}function fO(t,e,n){let r=e._path,i=ea(t,e),o=UE(t,n),s=t.listenProvider_.startListening($s(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)y(!sr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!$(c)&&u&&sr(u))return[hu(u).query];{let f=[];return u&&(f=f.concat(LE(u).map(h=>h.query))),Oe(d,(h,m)=>{f=f.concat(m)}),f}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening($s(u),ea(t,u))}}return s}var mg=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},vg=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=me(this.path_,e);return new t(this.syncTree_,n)}node(){return pu(this.syncTree_,this.path_)}},hO=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qD=function(t,e,n){if(!t||typeof t!="object")return t;if(y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return pO(t[".sv"],e,n);if(typeof t[".sv"]=="object")return gO(t[".sv"],e);y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},pO=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:y(!1,"Unexpected server value: "+t)}},gO=function(t,e,n){t.hasOwnProperty("increment")||y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&y(!1,"Unexpected increment value: "+r);let i=e.node();if(y(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},$E=function(t,e,n,r){return tm(e,new vg(n,t),r)},em=function(t,e,n){return tm(t,new mg(e),n)};function tm(t,e,n){let r=t.getPriority().val(),i=qD(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=qD(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new lo(a,De(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new lo(i))),s.forEachChild(fe,(a,l)=>{let c=tm(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var ta=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function mu(t,e){let n=e instanceof re?e:new re(e),r=t,i=U(n);for(;i!==null;){let o=On(r.node.children,i)||{children:{},childCount:0};r=new ta(i,r,o),n=le(n),i=U(n)}return r}function zr(t){return t.node.value}function nm(t,e){t.node.value=e,yg(t)}function WE(t){return t.node.childCount>0}function mO(t){return zr(t)===void 0&&!WE(t)}function vu(t,e){Oe(t.node.children,(n,r)=>{e(new ta(n,t,r))})}function zE(t,e,n,r){n&&!r&&e(t),vu(t,i=>{zE(i,e,!0,r)}),n&&r&&e(t)}function vO(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ca(t){return new re(t.parent===null?t.name:ca(t.parent)+"/"+t.name)}function yg(t){t.parent!==null&&yO(t.parent,t.name,t)}function yO(t,e,n){let r=mO(n),i=yt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,yg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,yg(t))}var _O=/[\[\].#$\/\u0000-\u001F\u007F]/,CO=/[\[\].#$\u0000-\u001F\u007F]/,Ap=10*1024*1024,yu=function(t){return typeof t=="string"&&t.length!==0&&!_O.test(t)},qE=function(t){return typeof t=="string"&&t.length!==0&&!CO.test(t)},DO=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),qE(t)},na=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!cu(t)||t&&typeof t=="object"&&yt(t,".sv")},cn=function(t,e,n,r){r&&e===void 0||ua(tt(t,"value"),e,n)},ua=function(t,e,n){let r=n instanceof re?new Gp(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Hr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Hr(r)+" with contents = "+e.toString());if(cu(e))throw new Error(t+"contains "+e.toString()+" "+Hr(r));if(typeof e=="string"&&e.length>Ap/3&&wo(e)>Ap)throw new Error(t+"contains a string greater than "+Ap+" utf8 bytes "+Hr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Oe(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!yu(s)))throw new Error(t+" contains an invalid key ("+s+") "+Hr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Yx(r,s),ua(t,a,r),Zx(r)}),i&&o)throw new Error(t+' contains ".value" child '+Hr(r)+" in addition to actual children.")}},EO=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let o=zs(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!yu(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Qx);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&bt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},KE=function(t,e,n,r){if(r&&e===void 0)return;let i=tt(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let o=[];Oe(e,(s,a)=>{let l=new re(s);if(ua(i,a,me(n,l)),Bg(l)===".priority"&&!na(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),EO(i,o)},rm=function(t,e,n){if(!(n&&e===void 0)){if(cu(e))throw new Error(tt(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!na(e))throw new Error(tt(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},da=function(t,e,n,r){if(!(r&&n===void 0)&&!yu(n))throw new Error(tt(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},_o=function(t,e,n,r){if(!(r&&n===void 0)&&!qE(n))throw new Error(tt(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},TO=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_o(t,e,n,r)},pt=function(t,e){if(U(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},XE=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!yu(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!DO(n))throw new Error(tt(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var _g=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function _u(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!Hg(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function QE(t,e,n){_u(t,n),YE(t,r=>Hg(r,e))}function gt(t,e,n){_u(t,n),YE(t,r=>bt(r,e)||bt(e,r))}function YE(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(SO(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function SO(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Gr&&Re("event: "+n.toString()),mo(r)}}}var ZE="repo_interrupt",wO=25,Cg=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _g,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zc(),this.transactionQueueTree_=new ta,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function bO(t,e,n){if(t.stats_=Vg(t.repoInfo_),t.forceRestClient_||bx())t.server_=new Jp(t.repoInfo_,(r,i,o,s)=>{KD(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>XD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{be(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new jg(t.repoInfo_,e,(r,i,o,s)=>{KD(t,r,i,o,s)},r=>{XD(t,r)},r=>{IO(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Mx(t.repoInfo_,()=>new ig(t.stats_,t.server_)),t.infoData_=new eg,t.infoSyncTree_=new tu({startListening:(r,i,o,s)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=la(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),im(t,"connected",!1),t.serverSyncTree_=new tu({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{let c=s(a,l);gt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function JE(t){let n=t.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function fa(t){return hO({timestamp:JE(t)})}function KD(t,e,n,r,i){t.dataUpdateCount++;let o=new re(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let l=So(n,c=>De(c));s=aO(t.serverSyncTree_,o,l,i)}else{let l=De(n);s=HE(t.serverSyncTree_,o,l,i)}else if(r){let l=So(n,c=>De(c));s=iO(t.serverSyncTree_,o,l)}else{let l=De(n);s=la(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=po(t,o)),gt(t.eventQueue_,a,s)}function XD(t,e){im(t,"connected",e),e===!1&&NO(t)}function IO(t,e){Oe(e,(n,r)=>{im(t,n,r)})}function im(t,e,n){let r=new re("/.info/"+e),i=De(n);t.infoData_.updateSnapshot(r,i);let o=la(t.infoSyncTree_,r,i);gt(t.eventQueue_,r,o)}function Cu(t){return t.nextWriteId_++}function MO(t,e,n){let r=lO(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=De(i).withIndex(e._queryParams.getIndex());gg(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=la(t.serverSyncTree_,e._path,o);else{let a=ea(t.serverSyncTree_,e);s=HE(t.serverSyncTree_,e._path,o,a)}return gt(t.eventQueue_,e._path,s),nu(t.serverSyncTree_,e,n,null,!0),o},i=>(Co(t,"get for query "+be(e)+" failed: "+i),Promise.reject(new Error(i))))}function om(t,e,n,r,i){Co(t,"set",{path:e.toString(),value:n,priority:r});let o=fa(t),s=De(n,r),a=pu(t.serverSyncTree_,e),l=em(s,a,o),c=Cu(t),u=Qg(t.serverSyncTree_,e,l,c,!0);_u(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let m=f==="ok";m||Ge("set at "+e+" failed: "+f);let v=tr(t.serverSyncTree_,c,!m);gt(t.eventQueue_,e,v),ar(t,i,f,h)});let d=am(t,e);po(t,d),gt(t.eventQueue_,d,[])}function AO(t,e,n,r){Co(t,"update",{path:e.toString(),value:n});let i=!0,o=fa(t),s={};if(Oe(n,(a,l)=>{i=!1,s[a]=$E(me(e,a),De(l),t.serverSyncTree_,o)}),i)Re("update() called with empty data.  Don't do anything."),ar(t,r,"ok",void 0);else{let a=Cu(t),l=rO(t.serverSyncTree_,e,s,a);_u(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let d=c==="ok";d||Ge("update at "+e+" failed: "+c);let f=tr(t.serverSyncTree_,a,!d),h=f.length>0?po(t,e):e;gt(t.eventQueue_,h,f),ar(t,r,c,u)}),Oe(n,c=>{let u=am(t,me(e,c));po(t,u)}),gt(t.eventQueue_,e,[])}}function NO(t){Co(t,"onDisconnectEvents");let e=fa(t),n=zc();ng(t.onDisconnect_,ne(),(i,o)=>{let s=$E(i,o,t.serverSyncTree_,e);vo(n,i,s)});let r=[];ng(n,ne(),(i,o)=>{r=r.concat(la(t.serverSyncTree_,i,o));let s=am(t,i);po(t,s)}),t.onDisconnect_=zc(),gt(t.eventQueue_,ne(),r)}function PO(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&tg(t.onDisconnect_,e),ar(t,n,r,i)})}function QD(t,e,n,r){let i=De(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{o==="ok"&&vo(t.onDisconnect_,e,i),ar(t,r,o,s)})}function xO(t,e,n,r,i){let o=De(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{s==="ok"&&vo(t.onDisconnect_,e,o),ar(t,i,s,a)})}function RO(t,e,n,r){if(_a(n)){Re("onDisconnect().update() called with empty data.  Don't do anything."),ar(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{i==="ok"&&Oe(n,(s,a)=>{let l=De(a);vo(t.onDisconnect_,me(e,s),l)}),ar(t,r,i,o)})}function OO(t,e,n){let r;U(e._path)===".info"?r=gg(t.infoSyncTree_,e,n):r=gg(t.serverSyncTree_,e,n),QE(t.eventQueue_,e._path,r)}function Dg(t,e,n){let r;U(e._path)===".info"?r=nu(t.infoSyncTree_,e,n):r=nu(t.serverSyncTree_,e,n),QE(t.eventQueue_,e._path,r)}function eT(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ZE)}function kO(t){t.persistentConnection_&&t.persistentConnection_.resume(ZE)}function Co(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Re(n,...e)}function ar(t,e,n,r){e&&mo(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function FO(t,e,n,r,i,o){Co(t,"transaction on "+e);let s={path:e,update:n,onComplete:r,status:null,order:JD(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=sm(t,e,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{ua("transaction failed: Data returned ",l,s.path),s.status=0;let c=mu(t.transactionQueueTree_,e),u=zr(c)||[];u.push(s),nm(c,u);let d;typeof l=="object"&&l!==null&&yt(l,".priority")?(d=On(l,".priority"),y(na(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(pu(t.serverSyncTree_,e)||L.EMPTY_NODE).getPriority().val();let f=fa(t),h=De(l,d),m=em(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=m,s.currentWriteId=Cu(t);let v=Qg(t.serverSyncTree_,e,m,s.currentWriteId,s.applyLocally);gt(t.eventQueue_,e,v),Du(t,t.transactionQueueTree_)}}function sm(t,e,n){return pu(t.serverSyncTree_,e,n)||L.EMPTY_NODE}function Du(t,e=t.transactionQueueTree_){if(e||Eu(t,e),zr(e)){let n=nT(t,e);y(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&LO(t,ca(e),n)}else WE(e)&&vu(e,n=>{Du(t,n)})}function LO(t,e,n){let r=n.map(c=>c.currentWriteId),i=sm(t,e,r),o=i,s=i.hash();for(let c=0;c<n.length;c++){let u=n[c];y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ye(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Co(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(tr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Eu(t,mu(t.transactionQueueTree_,e)),Du(t,t.transactionQueueTree_),gt(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)mo(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ge("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}po(t,e)}},s)}function po(t,e){let n=tT(t,e),r=ca(n),i=nT(t,n);return VO(t,i,r),r}function VO(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=Ye(n,l.path),u=!1,d;if(y(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(tr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=wO)u=!0,d="maxretry",i=i.concat(tr(t.serverSyncTree_,l.currentWriteId,!0));else{let f=sm(t,l.path,s);l.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){ua("transaction failed: Data returned ",h,l.path);let m=De(h);typeof h=="object"&&h!=null&&yt(h,".priority")||(m=m.updatePriority(f.getPriority()));let _=l.currentWriteId,w=fa(t),W=em(m,f,w);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=W,l.currentWriteId=Cu(t),s.splice(s.indexOf(_),1),i=i.concat(Qg(t.serverSyncTree_,l.path,W,l.currentWriteId,l.applyLocally)),i=i.concat(tr(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(tr(t.serverSyncTree_,l.currentWriteId,!0))}gt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Eu(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)mo(r[a]);Du(t,t.transactionQueueTree_)}function tT(t,e){let n,r=t.transactionQueueTree_;for(n=U(e);n!==null&&zr(r)===void 0;)r=mu(r,n),e=le(e),n=U(e);return r}function nT(t,e){let n=[];return rT(t,e,n),n.sort((r,i)=>r.order-i.order),n}function rT(t,e,n){let r=zr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);vu(e,i=>{rT(t,i,n)})}function Eu(t,e){let n=zr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,nm(e,n.length>0?n:void 0)}vu(e,r=>{Eu(t,r)})}function am(t,e){let n=ca(tT(t,e)),r=mu(t.transactionQueueTree_,e);return vO(r,i=>{Np(t,i)}),Np(t,r),zE(r,i=>{Np(t,i)}),n}function Np(t,e){let n=zr(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(y(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(y(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(tr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?nm(e,void 0):n.length=o+1,gt(t.eventQueue_,ca(e),i);for(let s=0;s<r.length;s++)mo(r[s])}}function BO(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function HO(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ge(`Invalid query segment '${n}' in query '${t}'`)}return e}var Eg=function(t,e){let n=jO(t),r=n.namespace;n.domain==="firebase.com"&&an(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&an("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||vx();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Vc(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new re(n.pathString)}},jO=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=BO(t.substring(u,d)));let f=HO(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var YD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",GO=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=YD.charAt(n%64),n=Math.floor(n/64);y(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=YD.charAt(e[i]);return y(s.length===20,"nextPushId: Length should be 20."),s}}();var ru=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+be(this.snapshot.exportVal())}},iu=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var ra=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var ou=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new Pe;return PO(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){pt("OnDisconnect.remove",this._path);let e=new Pe;return QD(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){pt("OnDisconnect.set",this._path),cn("OnDisconnect.set",e,this._path,!1);let n=new Pe;return QD(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){pt("OnDisconnect.setWithPriority",this._path),cn("OnDisconnect.setWithPriority",e,this._path,!1),rm("OnDisconnect.setWithPriority",n,!1);let r=new Pe;return xO(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){pt("OnDisconnect.update",this._path),KE("OnDisconnect.update",e,this._path,!1);let n=new Pe;return RO(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var Je=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return $(this._path)?null:Bg(this._path)}get ref(){return new mt(this._repo,this._path)}get _queryIdentifier(){let e=LD(this._queryParams),n=Lg(e);return n==="{}"?"default":n}get _queryObject(){return LD(this._queryParams)}isEqual(e){if(e=Ue(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Hg(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Xx(this._path)}};function Tu(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function cr(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===sn){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ir)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Pn)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===fe){if(e!=null&&!na(e)||n!=null&&!na(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(y(t.getIndex()instanceof qs||t.getIndex()===Ug,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Su(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var mt=class t extends Je{constructor(e,n){super(e,n,new Ys,!1)}get parent(){let e=CE(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},go=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new re(e),r=lr(this.ref,e);return new t(this._node.getChild(n),r,fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,lr(this.ref,r),fe)))}hasChild(e){let n=new re(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function lm(t,e){return t=Ue(t),t._checkNotDeleted("ref"),e!==void 0?lr(t._root,e):t._root}function cm(t,e){t=Ue(t),t._checkNotDeleted("refFromURL");let n=Eg(e,t._repo.repoInfo_.nodeAdmin);XE("refFromURL",n);let r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&an("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),lm(t,n.path.toString())}function lr(t,e){return t=Ue(t),U(t._path)===null?TO("child","path",e,!1):_o("child","path",e,!1),new mt(t._repo,me(t._path,e))}function iT(t,e){t=Ue(t),pt("push",t._path),cn("push",e,t._path,!0);let n=JE(t._repo),r=GO(n),i=lr(t,r),o=lr(t,r),s;return e!=null?s=wu(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function oT(t){return pt("remove",t._path),wu(t,null)}function wu(t,e){t=Ue(t),pt("set",t._path),cn("set",e,t._path,!1);let n=new Pe;return om(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function sT(t,e){t=Ue(t),pt("setPriority",t._path),rm("setPriority",e,!1);let n=new Pe;return om(t._repo,me(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function aT(t,e,n){if(pt("setWithPriority",t._path),cn("setWithPriority",e,t._path,!1),rm("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let r=new Pe;return om(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function lT(t,e){KE("update",e,t._path,!1);let n=new Pe;return AO(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function cT(t){t=Ue(t);let e=new ra(()=>{}),n=new ia(e);return MO(t._repo,t,n).then(r=>new go(r,new mt(t._repo,t._path),t._queryParams.getIndex()))}var ia=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new ru("value",this,new go(e.snapshotNode,new mt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new iu(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},su=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new iu(this,e,n):null}createEvent(e,n){y(e.childName!=null,"Child events should have a childName.");let r=lr(new mt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new ru(e.type,this,new go(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function ha(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{Dg(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new ra(n,o||void 0),a=e==="value"?new ia(s):new su(e,s);return OO(t._repo,t,a),()=>Dg(t._repo,t,a)}function bu(t,e,n,r){return ha(t,"value",e,n,r)}function um(t,e,n,r){return ha(t,"child_added",e,n,r)}function dm(t,e,n,r){return ha(t,"child_changed",e,n,r)}function fm(t,e,n,r){return ha(t,"child_moved",e,n,r)}function hm(t,e,n,r){return ha(t,"child_removed",e,n,r)}function pm(t,e,n){let r=null,i=n?new ra(n):null;e==="value"?r=new ia(i):e&&(r=new su(e,i)),Dg(t._repo,t,r)}var vt=class{},au=class extends vt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){cn("endAt",this._value,e._path,!0);let n=Zp(e._queryParams,this._value,this._key);if(Su(n),cr(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Je(e._repo,e._path,n,e._orderByCalled)}};function uT(t,e){return da("endAt","key",e,!0),new au(t,e)}var Tg=class extends vt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){cn("endBefore",this._value,e._path,!1);let n=pR(e._queryParams,this._value,this._key);if(Su(n),cr(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Je(e._repo,e._path,n,e._orderByCalled)}};function dT(t,e){return da("endBefore","key",e,!0),new Tg(t,e)}var lu=class extends vt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){cn("startAt",this._value,e._path,!0);let n=Yp(e._queryParams,this._value,this._key);if(Su(n),cr(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Je(e._repo,e._path,n,e._orderByCalled)}};function fT(t=null,e){return da("startAt","key",e,!0),new lu(t,e)}var Sg=class extends vt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){cn("startAfter",this._value,e._path,!1);let n=hR(e._queryParams,this._value,this._key);if(Su(n),cr(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Je(e._repo,e._path,n,e._orderByCalled)}};function hT(t,e){return da("startAfter","key",e,!0),new Sg(t,e)}var wg=class extends vt{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Je(e._repo,e._path,dR(e._queryParams,this._limit),e._orderByCalled)}};function pT(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new wg(t)}var bg=class extends vt{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Je(e._repo,e._path,fR(e._queryParams,this._limit),e._orderByCalled)}};function gT(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new bg(t)}var Ig=class extends vt{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Tu(e,"orderByChild");let n=new re(this._path);if($(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new qs(n),i=uu(e._queryParams,r);return cr(i),new Je(e._repo,e._path,i,!0)}};function mT(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return _o("orderByChild","path",t,!1),new Ig(t)}var Mg=class extends vt{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){Tu(e,"orderByKey");let n=uu(e._queryParams,sn);return cr(n),new Je(e._repo,e._path,n,!0)}};function vT(){return new Mg}var Ag=class extends vt{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){Tu(e,"orderByPriority");let n=uu(e._queryParams,fe);return cr(n),new Je(e._repo,e._path,n,!0)}};function yT(){return new Ag}var Ng=class extends vt{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){Tu(e,"orderByValue");let n=uu(e._queryParams,Ug);return cr(n),new Je(e._repo,e._path,n,!0)}};function _T(){return new Ng}var Pg=class extends vt{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(cn("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new au(this._value,this._key)._apply(new lu(this._value,this._key)._apply(e))}};function CT(t,e){return da("equalTo","key",e,!0),new Pg(t,e)}function Mt(t,...e){let n=Ue(t);for(let r of e)n=r._apply(n);return n}XR(mt);eO(mt);var UO="FIREBASE_DATABASE_EMULATOR_HOST",xg={},$O=!1;function WO(t,e,n,r){t.repoInfo_=new Vc(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function gm(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||an("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Re("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Eg(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[UO]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=Eg(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let u=i&&l?new js(js.OWNER):new Fp(t.name,t.options,e);XE("Invalid Firebase Database URL",s),$(s.path)||an("Database URL must point to the root of a Firebase Database (not including a child path).");let d=qO(a,t,u,new kp(t.name,n));return new Rg(d,t)}function zO(t,e){let n=xg[e];(!n||n[t.key]!==t)&&an(`Database ${e}(${t.repoInfo_}) has already been deleted.`),eT(t),delete n[t.key]}function qO(t,e,n,r){let i=xg[e.name];i||(i={},xg[e.name]=i);let o=i[t.toURLString()];return o&&an("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Cg(t,$O,n,r),i[t.toURLString()]=o,o}var Rg=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mt(this._repo,ne())),this._rootInternal}_delete(){return this._rootInternal!==null&&(zO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&an("Cannot call "+e+" on a deleted database.")}};function DT(){_E.IS_TRANSPORT_INITIALIZED&&Ge("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ET(){DT(),Ws.forceDisallow()}function TT(){DT(),io.forceDisallow(),Ws.forceAllow()}function ST(t,e,n,r={}){t=Ue(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&an("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&an('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new js(js.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:Fm(r.mockUserToken,t.app.options.projectId);o=new js(s)}WO(i,e,n,o)}function wT(t){t=Ue(t),t._checkNotDeleted("goOffline"),eT(t._repo)}function bT(t){t=Ue(t),t._checkNotDeleted("goOnline"),kO(t._repo)}function IT(t,e){tE(t,e)}function KO(t){Fg(zm),bo(new fn("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return gm(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),kn(CD,DD,t),kn(CD,DD,"esm2017")}var XO={".sv":"timestamp"};function MT(){return XO}function AT(t){return{".sv":{increment:t}}}var Og=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function NT(t,e,n){var r;if(t=Ue(t),pt("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,o=new Pe,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new go(u,new mt(t._repo,t._path),fe),o.resolve(new Og(c,d)))},a=bu(t,()=>{});return FO(t._repo,t._path,e,s,a,i),o.promise}jg.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};jg.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};KO();var QO="@firebase/database-compat",YO="1.0.6";var ZO=new Qr("@firebase/database-compat"),PT=function(t){let e="FIREBASE WARNING: "+t;ZO.warn(e)};var JO=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(tt(t,e)+"must be a boolean.")},ek=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(tt(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var mm=class{constructor(e){this._delegate=e}cancel(e){I("OnDisconnect.cancel",0,1,arguments.length),Ie("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){I("OnDisconnect.remove",0,1,arguments.length),Ie("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){I("OnDisconnect.set",1,2,arguments.length),Ie("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){I("OnDisconnect.setWithPriority",2,3,arguments.length),Ie("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if(I("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,PT("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ie("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}};var vm=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return I("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var qr=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return I("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return I("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return I("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return I("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return I("DataSnapshot.child",0,1,arguments.length),e=String(e),_o("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return I("DataSnapshot.hasChild",1,1,arguments.length),_o("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return I("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return I("DataSnapshot.forEach",1,1,arguments.length),Ie("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return I("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return I("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return I("DataSnapshot.ref",0,0,arguments.length),new xn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},Iu=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;I("Query.on",2,4,arguments.length),Ie("Query.on","callback",n,!1);let s=t.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new qr(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(e){case"value":return bu(this._delegate,a,l),n;case"child_added":return um(this._delegate,a,l),n;case"child_removed":return hm(this._delegate,a,l),n;case"child_changed":return dm(this._delegate,a,l),n;case"child_moved":return fm(this._delegate,a,l),n;default:throw new Error(tt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(I("Query.off",0,3,arguments.length),ek("Query.off",e,!0),Ie("Query.off","callback",n,!0),ku("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,pm(this._delegate,e,i)}else pm(this._delegate,e)}get(){return cT(this._delegate).then(e=>new qr(this.database,e))}once(e,n,r,i){I("Query.once",1,4,arguments.length),Ie("Query.once","callback",n,!0);let o=t.getCancelAndContextArgs_("Query.once",r,i),s=new Pe,a=(c,u)=>{let d=new qr(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(e){case"value":bu(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":um(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":hm(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":dm(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":fm(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(tt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return I("Query.limitToFirst",1,1,arguments.length),new t(this.database,Mt(this._delegate,pT(e)))}limitToLast(e){return I("Query.limitToLast",1,1,arguments.length),new t(this.database,Mt(this._delegate,gT(e)))}orderByChild(e){return I("Query.orderByChild",1,1,arguments.length),new t(this.database,Mt(this._delegate,mT(e)))}orderByKey(){return I("Query.orderByKey",0,0,arguments.length),new t(this.database,Mt(this._delegate,vT()))}orderByPriority(){return I("Query.orderByPriority",0,0,arguments.length),new t(this.database,Mt(this._delegate,yT()))}orderByValue(){return I("Query.orderByValue",0,0,arguments.length),new t(this.database,Mt(this._delegate,_T()))}startAt(e=null,n){return I("Query.startAt",0,2,arguments.length),new t(this.database,Mt(this._delegate,fT(e,n)))}startAfter(e=null,n){return I("Query.startAfter",0,2,arguments.length),new t(this.database,Mt(this._delegate,hT(e,n)))}endAt(e=null,n){return I("Query.endAt",0,2,arguments.length),new t(this.database,Mt(this._delegate,uT(e,n)))}endBefore(e=null,n){return I("Query.endBefore",0,2,arguments.length),new t(this.database,Mt(this._delegate,dT(e,n)))}equalTo(e,n){return I("Query.equalTo",1,2,arguments.length),new t(this.database,Mt(this._delegate,CT(e,n)))}toString(){return I("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return I("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(I("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ie(e,"cancel",i.cancel,!0),i.context=r,ku(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(tt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new xn(this.database,new mt(this._delegate._repo,this._delegate._path))}},xn=class t extends Iu{constructor(e,n){super(e,new Je(n._repo,n._path,new Ys,!1)),this.database=e,this._delegate=n}getKey(){return I("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return I("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,lr(this._delegate,e))}getParent(){I("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return I("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){I("Reference.set",1,2,arguments.length),Ie("Reference.set","onComplete",n,!0);let r=wu(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(I("Reference.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,PT("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}pt("Reference.update",this._delegate._path),Ie("Reference.update","onComplete",n,!0);let r=lT(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){I("Reference.setWithPriority",2,3,arguments.length),Ie("Reference.setWithPriority","onComplete",r,!0);let i=aT(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){I("Reference.remove",0,1,arguments.length),Ie("Reference.remove","onComplete",e,!0);let n=oT(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){I("Reference.transaction",1,3,arguments.length),Ie("Reference.transaction","transactionUpdate",e,!1),Ie("Reference.transaction","onComplete",n,!0),JO("Reference.transaction","applyLocally",r,!0);let i=NT(this._delegate,e,{applyLocally:r}).then(o=>new vm(o.committed,new qr(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){I("Reference.setPriority",1,2,arguments.length),Ie("Reference.setPriority","onComplete",n,!0);let r=sT(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){I("Reference.push",0,2,arguments.length),Ie("Reference.push","onComplete",n,!0);let r=iT(this._delegate,e),i=r.then(s=>new t(this.database,s));n&&i.then(()=>n(null),s=>n(s));let o=new t(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return pt("Reference.onDisconnect",this._delegate._path),new mm(new ou(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Kr=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ET,forceLongPolling:TT}}useEmulator(e,n,r={}){ST(this._delegate,e,n,r)}ref(e){if(I("database.ref",0,1,arguments.length),e instanceof xn){let n=cm(this._delegate,e.toString());return new xn(this,n)}else{let n=lm(this._delegate,e);return new xn(this,n)}}refFromURL(e){I("database.refFromURL",1,1,arguments.length);let r=cm(this._delegate,e);return new xn(this,r)}goOffline(){return I("database.goOffline",0,0,arguments.length),wT(this._delegate)}goOnline(){return I("database.goOnline",0,0,arguments.length),bT(this._delegate)}};Kr.ServerValue={TIMESTAMP:MT(),increment:t=>AT(t)};function tk({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){Fg(n);let a=new Fu("database-standalone"),l=new Ca("auth-internal",a);l.setComponent(new fn("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new Ca("app-check-internal",a),c.setComponent(new fn("app-check-internal",()=>i,"PRIVATE"))),{instance:new Kr(gm(t,l,c,e,s),t),namespace:o}}var nk=Object.freeze({__proto__:null,initStandalone:tk});var rk=Kr.ServerValue;function ik(t){t.INTERNAL.registerComponent(new fn("database-compat",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Kr(i,r)},"PUBLIC").setServiceProps({Reference:xn,Query:Iu,Database:Kr,DataSnapshot:qr,enableLogging:IT,INTERNAL:nk,ServerValue:rk}).setMultipleInstances(!0)),t.registerVersion(QO,YO)}ik(at);function pa(t,e,n="on",r=Po){return new Q(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),n==="on"?{unsubscribe(){o!=null&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(P(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),Oo())}function ok(t){return typeof t=="string"}function sk(t){return typeof t.exportVal=="function"}function FT(t){return t==null}function LT(t){return typeof t.set=="function"}function xT(t,e){return LT(e)?e:t.ref(e)}function VT(t,e){if(ok(t))return e.stringCase();if(LT(t))return e.firebaseCase();if(sk(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function BT(t){return(FT(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function HT(t,e,n){e=BT(e);let r=e.map(i=>pa(t,i,"on",n));return ci(...r)}function ak(t,e,n){let r=HT(t,e).pipe(fi((i,o)=>[...i,o],[]));return ck(t,r,n)}function lk(t,e){return pa(t,"value","on",e).pipe(P(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function ck(t,e,n){return lk(t,n).pipe(ud(e),P(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),ad(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),P(i=>i.actions))}function RT(t,e){return function(r,i){return VT(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function uk(t){return function(n){return n?VT(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function dk(t,e,n){return pa(t,"value","once",n).pipe(_e(r=>{let i=[N(r)];return e.forEach(o=>i.push(pa(t,o,"on",n))),ci(...i).pipe(fi(hk,[]))}),id())}function jT(t,e){let n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function fk(t,e){if(FT(e))return 0;{let n=jT(t,e);return n===-1?t.length:n+1}}function hk(t,e){let{payload:n,prevKey:r,key:i}=e,o=jT(t,i),s=fk(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,t=[...t,c],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(l=>l.payload.key!==n.key),t.splice(s,0,e));else{if(r==null)return[e,...t];t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){let a=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,a),t}return t;default:return t}}function OT(t,e,n){return e=BT(e),dk(t,e,n)}function pk(t,e){let n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:RT(r,"update"),set:RT(r,"set"),push:i=>r.push(i),remove:uk(r),snapshotChanges(i){return OT(t,i,n).pipe(Nn)},stateChanges(i){return HT(t,i,n).pipe(Nn)},auditTrail(i){return ak(t,i,n).pipe(Nn)},valueChanges(i,o){return OT(t,i,n).pipe(P(a=>a.map(l=>o&&o.idField?K(C({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),Nn)}}}function kT(t,e){return function(){return pa(t,"value","on",e)}}function gk(t,e){return{query:t,snapshotChanges(){return kT(t,e.schedulers.outsideAngular)().pipe(Nn)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return kT(t,e.schedulers.outsideAngular)().pipe(Nn,P(r=>r.payload.exists()?r.payload.val():null))}}}var mk=new T("angularfire2.realtimeDatabaseURL"),vk=new T("angularfire2.database.use-emulator"),GT=(()=>{class t{schedulers;database;constructor(n,r,i,o,s,a,l,c,u,d,f,h,m,v,_){this.schedulers=a;let w=l,W=ks(n,s,r);c&&Tp(W,s,u,f,h,m,d,v),this.database=Oc(`${W.name}.database.${i}`,"AngularFireDatabase",W.name,()=>{let A=s.runOutsideAngular(()=>W.database(i||void 0));return w&&A.useEmulator(...w),A},[w])}list(n,r){let i=this.schedulers.ngZone.runOutsideAngular(()=>xT(this.database,n)),o=i;return r&&(o=r(i)),pk(o,this)}object(n){let r=this.schedulers.ngZone.runOutsideAngular(()=>xT(this.database,n));return gk(r,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||t)(E(to),E(no,8),E(mk,8),E(ot),E(oe),E(Pc),E(vk,8),E(kc,8),E(vp,8),E(yp,8),E(_p,8),E(Cp,8),E(Dp,8),E(Ep,8),E(Br,8))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var ur=(()=>{class t{fbAuth;fbDb;get user(){return this.fbAuth.user.pipe(We()).toPromise()}constructor(n,r){this.fbAuth=n,this.fbDb=r}login(n,r){return ge(this,null,function*(){console.log("Logging in...");let i=yield this.fbAuth.signInWithEmailAndPassword(n,r);console.log("Login result:",i)})}addData(n,r){return ge(this,null,function*(){console.log("Adding data...");let i=yield this.fbDb.list(n).push(r);console.log("Added data:",i)})}static \u0275fac=function(r){return new(r||t)(E(kc),E(GT))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ym={};(function t(e,n,r,i){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var g=new OffscreenCanvas(1,1),p=g.getContext("2d");p.fillRect(0,0,1,1);var b=g.transferToImageBitmap();try{p.createPattern(b,"no-repeat")}catch{return!1}return!0}();function l(){}function c(g){var p=n.exports.Promise,b=p!==void 0?p:e.Promise;return typeof b=="function"?new b(g):(g(l,l),null)}var u=function(g,p){return{transform:function(b){if(g)return b;if(p.has(b))return p.get(b);var R=new OffscreenCanvas(b.width,b.height),j=R.getContext("2d");return j.drawImage(b,0,0),p.set(b,R),R},clear:function(){p.clear()}}}(a,new Map),d=function(){var g=Math.floor(16.666666666666668),p,b,R={},j=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(p=function(z){var Y=Math.random();return R[Y]=requestAnimationFrame(function x(Z){j===Z||j+g-1<Z?(j=Z,delete R[Y],z()):R[Y]=requestAnimationFrame(x)}),Y},b=function(z){R[z]&&cancelAnimationFrame(R[z])}):(p=function(z){return setTimeout(z,g)},b=function(z){return clearTimeout(z)}),{frame:p,cancel:b}}(),f=function(){var g,p,b={};function R(j){function z(Y,x){j.postMessage({options:Y||{},callback:x})}j.init=function(x){var Z=x.transferControlToOffscreen();j.postMessage({canvas:Z},[Z])},j.fire=function(x,Z,ce){if(p)return z(x,null),p;var Ee=Math.random().toString(36).slice(2);return p=c(function(he){function Te(ke){ke.data.callback===Ee&&(delete b[Ee],j.removeEventListener("message",Te),p=null,u.clear(),ce(),he())}j.addEventListener("message",Te),z(x,Ee),b[Ee]=Te.bind(null,{data:{callback:Ee}})}),p},j.reset=function(){j.postMessage({reset:!0});for(var x in b)b[x](),delete b[x]}}return function(){if(g)return g;if(!r&&o){var j=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{g=new Worker(URL.createObjectURL(new Blob([j])))}catch(z){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",z),null}R(g)}return g}}(),h={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function m(g,p){return p?p(g):g}function v(g){return g!=null}function _(g,p,b){return m(g&&v(g[p])?g[p]:h[p],b)}function w(g){return g<0?0:Math.floor(g)}function W(g,p){return Math.floor(Math.random()*(p-g))+g}function A(g){return parseInt(g,16)}function ve(g){return g.map(Be)}function Be(g){var p=String(g).replace(/[^0-9a-f]/gi,"");return p.length<6&&(p=p[0]+p[0]+p[1]+p[1]+p[2]+p[2]),{r:A(p.substring(0,2)),g:A(p.substring(2,4)),b:A(p.substring(4,6))}}function st(g){var p=_(g,"origin",Object);return p.x=_(p,"x",Number),p.y=_(p,"y",Number),p}function Rn(g){g.width=document.documentElement.clientWidth,g.height=document.documentElement.clientHeight}function To(g){var p=g.getBoundingClientRect();g.width=p.width,g.height=p.height}function Nu(g){var p=document.createElement("canvas");return p.style.position="fixed",p.style.top="0px",p.style.left="0px",p.style.pointerEvents="none",p.style.zIndex=g,p}function Pu(g,p,b,R,j,z,Y,x,Z){g.save(),g.translate(p,b),g.rotate(z),g.scale(R,j),g.arc(0,0,1,Y,x,Z),g.restore()}function rS(g){var p=g.angle*(Math.PI/180),b=g.spread*(Math.PI/180);return{x:g.x,y:g.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:g.startVelocity*.5+Math.random()*g.startVelocity,angle2D:-p+(.5*b-Math.random()*b),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:g.color,shape:g.shape,tick:0,totalTicks:g.ticks,decay:g.decay,drift:g.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:g.gravity*3,ovalScalar:.6,scalar:g.scalar,flat:g.flat}}function iS(g,p){p.x+=Math.cos(p.angle2D)*p.velocity+p.drift,p.y+=Math.sin(p.angle2D)*p.velocity+p.gravity,p.velocity*=p.decay,p.flat?(p.wobble=0,p.wobbleX=p.x+10*p.scalar,p.wobbleY=p.y+10*p.scalar,p.tiltSin=0,p.tiltCos=0,p.random=1):(p.wobble+=p.wobbleSpeed,p.wobbleX=p.x+10*p.scalar*Math.cos(p.wobble),p.wobbleY=p.y+10*p.scalar*Math.sin(p.wobble),p.tiltAngle+=.1,p.tiltSin=Math.sin(p.tiltAngle),p.tiltCos=Math.cos(p.tiltAngle),p.random=Math.random()+2);var b=p.tick++/p.totalTicks,R=p.x+p.random*p.tiltCos,j=p.y+p.random*p.tiltSin,z=p.wobbleX+p.random*p.tiltCos,Y=p.wobbleY+p.random*p.tiltSin;if(g.fillStyle="rgba("+p.color.r+", "+p.color.g+", "+p.color.b+", "+(1-b)+")",g.beginPath(),s&&p.shape.type==="path"&&typeof p.shape.path=="string"&&Array.isArray(p.shape.matrix))g.fill(sS(p.shape.path,p.shape.matrix,p.x,p.y,Math.abs(z-R)*.1,Math.abs(Y-j)*.1,Math.PI/10*p.wobble));else if(p.shape.type==="bitmap"){var x=Math.PI/10*p.wobble,Z=Math.abs(z-R)*.1,ce=Math.abs(Y-j)*.1,Ee=p.shape.bitmap.width*p.scalar,he=p.shape.bitmap.height*p.scalar,Te=new DOMMatrix([Math.cos(x)*Z,Math.sin(x)*Z,-Math.sin(x)*ce,Math.cos(x)*ce,p.x,p.y]);Te.multiplySelf(new DOMMatrix(p.shape.matrix));var ke=g.createPattern(u.transform(p.shape.bitmap),"no-repeat");ke.setTransform(Te),g.globalAlpha=1-b,g.fillStyle=ke,g.fillRect(p.x-Ee/2,p.y-he/2,Ee,he),g.globalAlpha=1}else if(p.shape==="circle")g.ellipse?g.ellipse(p.x,p.y,Math.abs(z-R)*p.ovalScalar,Math.abs(Y-j)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI):Pu(g,p.x,p.y,Math.abs(z-R)*p.ovalScalar,Math.abs(Y-j)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI);else if(p.shape==="star")for(var te=Math.PI/2*3,et=4*p.scalar,At=8*p.scalar,Nt=p.x,dn=p.y,fr=5,Wt=Math.PI/fr;fr--;)Nt=p.x+Math.cos(te)*At,dn=p.y+Math.sin(te)*At,g.lineTo(Nt,dn),te+=Wt,Nt=p.x+Math.cos(te)*et,dn=p.y+Math.sin(te)*et,g.lineTo(Nt,dn),te+=Wt;else g.moveTo(Math.floor(p.x),Math.floor(p.y)),g.lineTo(Math.floor(p.wobbleX),Math.floor(j)),g.lineTo(Math.floor(z),Math.floor(Y)),g.lineTo(Math.floor(R),Math.floor(p.wobbleY));return g.closePath(),g.fill(),p.tick<p.totalTicks}function oS(g,p,b,R,j){var z=p.slice(),Y=g.getContext("2d"),x,Z,ce=c(function(Ee){function he(){x=Z=null,Y.clearRect(0,0,R.width,R.height),u.clear(),j(),Ee()}function Te(){r&&!(R.width===i.width&&R.height===i.height)&&(R.width=g.width=i.width,R.height=g.height=i.height),!R.width&&!R.height&&(b(g),R.width=g.width,R.height=g.height),Y.clearRect(0,0,R.width,R.height),z=z.filter(function(ke){return iS(Y,ke)}),z.length?x=d.frame(Te):he()}x=d.frame(Te),Z=he});return{addFettis:function(Ee){return z=z.concat(Ee),ce},canvas:g,promise:ce,reset:function(){x&&d.cancel(x),Z&&Z()}}}function wm(g,p){var b=!g,R=!!_(p||{},"resize"),j=!1,z=_(p,"disableForReducedMotion",Boolean),Y=o&&!!_(p||{},"useWorker"),x=Y?f():null,Z=b?Rn:To,ce=g&&x?!!g.__confetti_initialized:!1,Ee=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,he;function Te(te,et,At){for(var Nt=_(te,"particleCount",w),dn=_(te,"angle",Number),fr=_(te,"spread",Number),Wt=_(te,"startVelocity",Number),cS=_(te,"decay",Number),uS=_(te,"gravity",Number),dS=_(te,"drift",Number),Im=_(te,"colors",ve),fS=_(te,"ticks",Number),Mm=_(te,"shapes"),hS=_(te,"scalar"),pS=!!_(te,"flat"),Am=st(te),Nm=Nt,Ru=[],gS=g.width*Am.x,mS=g.height*Am.y;Nm--;)Ru.push(rS({x:gS,y:mS,angle:dn,spread:fr,startVelocity:Wt,color:Im[Nm%Im.length],shape:Mm[W(0,Mm.length)],ticks:fS,decay:cS,gravity:uS,drift:dS,scalar:hS,flat:pS}));return he?he.addFettis(Ru):(he=oS(g,Ru,Z,et,At),he.promise)}function ke(te){var et=z||_(te,"disableForReducedMotion",Boolean),At=_(te,"zIndex",Number);if(et&&Ee)return c(function(Wt){Wt()});b&&he?g=he.canvas:b&&!g&&(g=Nu(At),document.body.appendChild(g)),R&&!ce&&Z(g);var Nt={width:g.width,height:g.height};x&&!ce&&x.init(g),ce=!0,x&&(g.__confetti_initialized=!0);function dn(){if(x){var Wt={getBoundingClientRect:function(){if(!b)return g.getBoundingClientRect()}};Z(Wt),x.postMessage({resize:{width:Wt.width,height:Wt.height}});return}Nt.width=Nt.height=null}function fr(){he=null,R&&(j=!1,e.removeEventListener("resize",dn)),b&&g&&(document.body.contains(g)&&document.body.removeChild(g),g=null,ce=!1)}return R&&!j&&(j=!0,e.addEventListener("resize",dn,!1)),x?x.fire(te,Nt,fr):Te(te,Nt,fr)}return ke.reset=function(){x&&x.reset(),he&&he.reset()},ke}var xu;function bm(){return xu||(xu=wm(null,{useWorker:!0,resize:!0})),xu}function sS(g,p,b,R,j,z,Y){var x=new Path2D(g),Z=new Path2D;Z.addPath(x,new DOMMatrix(p));var ce=new Path2D;return ce.addPath(Z,new DOMMatrix([Math.cos(Y)*j,Math.sin(Y)*j,-Math.sin(Y)*z,Math.cos(Y)*z,b,R])),ce}function aS(g){if(!s)throw new Error("path confetti are not supported in this browser");var p,b;typeof g=="string"?p=g:(p=g.path,b=g.matrix);var R=new Path2D(p),j=document.createElement("canvas"),z=j.getContext("2d");if(!b){for(var Y=1e3,x=Y,Z=Y,ce=0,Ee=0,he,Te,ke=0;ke<Y;ke+=2)for(var te=0;te<Y;te+=2)z.isPointInPath(R,ke,te,"nonzero")&&(x=Math.min(x,ke),Z=Math.min(Z,te),ce=Math.max(ce,ke),Ee=Math.max(Ee,te));he=ce-x,Te=Ee-Z;var et=10,At=Math.min(et/he,et/Te);b=[At,0,0,At,-Math.round(he/2+x)*At,-Math.round(Te/2+Z)*At]}return{type:"path",path:p,matrix:b}}function lS(g){var p,b=1,R="#000000",j='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof g=="string"?p=g:(p=g.text,b="scalar"in g?g.scalar:b,j="fontFamily"in g?g.fontFamily:j,R="color"in g?g.color:R);var z=10*b,Y=""+z+"px "+j,x=new OffscreenCanvas(z,z),Z=x.getContext("2d");Z.font=Y;var ce=Z.measureText(p),Ee=Math.ceil(ce.actualBoundingBoxRight+ce.actualBoundingBoxLeft),he=Math.ceil(ce.actualBoundingBoxAscent+ce.actualBoundingBoxDescent),Te=2,ke=ce.actualBoundingBoxLeft+Te,te=ce.actualBoundingBoxAscent+Te;Ee+=Te+Te,he+=Te+Te,x=new OffscreenCanvas(Ee,he),Z=x.getContext("2d"),Z.font=Y,Z.fillStyle=R,Z.fillText(p,ke,te);var et=1/b;return{type:"bitmap",bitmap:x.transferToImageBitmap(),matrix:[et,0,0,et,-Ee*et/2,-he*et/2]}}n.exports=function(){return bm().apply(this,arguments)},n.exports.reset=function(){bm().reset()},n.exports.create=wm,n.exports.shapeFromPath=aS,n.exports.shapeFromText=lS})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ym,!1);var $T=ym.exports,g7=ym.exports.create;var WT=(()=>{class t{shoot(){$T({particleCount:500,spread:250,scalar:2,colors:["#FFC0CB","#FFB6C1","#FF69B4","#FF1493","#DB7093","#FF7F50","#FF6EB4","#FF00FF","#FF6347","#FFD700"]})}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ck(t,e){t&1&&(Ce(0,"h6",8),je(1,"Er is iets misgegaan met het verzenden van je waardes"),pe())}function Dk(t,e){if(t&1){let n=d_();Ce(0,"div",1)(1,"div",3)(2,"h2",4),je(3,"Hoe zuur ben je?"),pe(),Ce(4,"app-slider",5),Li("ngModelChange",function(i){Fl(n);let o=tn();return es(o.acidity,i)||(o.acidity=i),Ll(i)}),pe()(),Ce(5,"div",3)(6,"h2",4),je(7,"Wat is je gemoedstoestand?"),pe(),Ce(8,"app-slider",6),Li("ngModelChange",function(i){Fl(n);let o=tn();return es(o.feeling,i)||(o.feeling=i),Ll(i)}),pe()(),Ce(9,"button",7),St("click",function(){Fl(n);let i=tn();return Ll(i.sendValues())}),je(10,"Verzenden!"),pe(),Sn(11,Ck,2,0,"h6",8),pe()}if(t&2){let n=tn();Xe(4),qn("reverse",!0),Fi("ngModel",n.acidity),Xe(4),Fi("ngModel",n.feeling),Xe(3),wn(n.submitFailed?11:-1)}}function Ek(t,e){t&1&&(Ce(0,"div",2)(1,"h1"),je(2,"Je waardes zijn verzonden!"),pe()())}var zT=(()=>{class t{fireBaseProvider;confettiProvider;acidity=0;feeling=0;loading=!1;submitFailed=!1;submitted=!1;email="";constructor(n,r){this.fireBaseProvider=n,this.confettiProvider=r}ngOnInit(){return ge(this,null,function*(){this.email=(yield this.fireBaseProvider.user)?.email??""})}sendValues(){return ge(this,null,function*(){try{this.loading=!0;let n={acidity:this.acidity,feeling:this.feeling,timestamp:new Date().getTime(),email:this.email};yield this.fireBaseProvider.addData(lp.WERKBEOORDELING,n),this.confettiProvider.shoot(),this.submitted=!0}catch(n){console.error(n),this.submitFailed=!0}this.loading=!1})}static \u0275fac=function(r){return new(r||t)(ee(ur),ee(WT))};static \u0275cmp=Jt({type:t,selectors:[["app-fill-score"]],standalone:!0,features:[nn],decls:4,vars:2,consts:[[1,"email","center"],[1,"values","vh-center"],[1,"submitted","vh-center"],[1,"value"],[1,"center"],[3,"ngModelChange","reverse","ngModel"],[3,"ngModelChange","ngModel"],[3,"click"],[1,"center","red"]],template:function(r,i){r&1&&(Ce(0,"h4",0),je(1),pe(),Sn(2,Dk,12,4,"div",1)(3,Ek,3,0,"div",2)),r&2&&(Xe(),zl("Je bent ingelogd als: ",i.email,""),Xe(),wn(i.submitted?i.submitted?3:-1:2))},dependencies:[nD,Ac,eo,xs],styles:["[_nghost-%COMP%]{padding:2rem}[_nghost-%COMP%]   .values[_ngcontent-%COMP%]{max-width:32rem;min-width:16rem;width:100%;gap:2rem}"]})}return t})();function Tk(t,e){t&1&&(Ce(0,"small"),je(1,"Email is verplicht"),pe())}function Sk(t,e){t&1&&(Ce(0,"small"),je(1,"Ongeldig email adres"),pe())}function wk(t,e){if(t&1&&Sn(0,Tk,2,0,"small")(1,Sk,2,0,"small"),t&2){let n=tn();wn(!(n.email==null||n.email.errors==null)&&n.email.errors.required?0:-1),Xe(),wn(!(n.email==null||n.email.errors==null)&&n.email.errors.email?1:-1)}}function bk(t,e){t&1&&(Ce(0,"small"),je(1,"Wachtwoord is verplicht"),pe())}function Ik(t,e){if(t&1&&Sn(0,bk,2,0,"small"),t&2){let n=tn();wn(!(n.password==null||n.password.errors==null)&&n.password.errors.required?0:-1)}}var qT=(()=>{class t{fireBaseProvider;router;loginForm=new Tc({email:new Ps("",[Yi.required,Yi.email]),password:new Ps("",[Yi.required])});loginFailed=!1;loading=!1;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}constructor(n,r){this.fireBaseProvider=n,this.router=r}login(){return ge(this,null,function*(){try{this.loading=!0,yield this.fireBaseProvider.login(this.email?.value,this.password?.value),yield this.router.navigate(["/fill-score"])}catch(n){console.error(n),this.loginFailed=!0}this.loading=!1})}static \u0275fac=function(r){return new(r||t)(ee(ur),ee(Yn))};static \u0275cmp=Jt({type:t,selectors:[["app-login"]],standalone:!0,features:[nn],decls:13,vars:4,consts:[[3,"ngSubmit","formGroup"],["for","email"],["id","email","formControlName","email","type","email"],["for","password"],["id","password","formControlName","password","type","password"],["type","submit",3,"disabled"]],template:function(r,i){r&1&&(Ce(0,"form",0),St("ngSubmit",function(){return i.login()}),Ce(1,"div")(2,"label",1),je(3,"Email:"),pe(),Kn(4,"input",2),Sn(5,wk,2,2),pe(),Ce(6,"div")(7,"label",3),je(8,"Password:"),pe(),Kn(9,"input",4),Sn(10,Ik,1,1),pe(),Ce(11,"button",5),je(12,"Login"),pe()()),r&2&&(qn("formGroup",i.loginForm),Xe(5),wn(i.email!=null&&i.email.invalid&&(i.email!=null&&i.email.dirty||i.email!=null&&i.email.touched)?5:-1),Xe(5),wn(i.password!=null&&i.password.invalid&&(i.password!=null&&i.password.dirty||i.password!=null&&i.password.touched)?10:-1),Xe(),qn("disabled",i.loginForm.invalid))},dependencies:[tD,ZC,Ji,eo,WC,op,sp]})}return t})();var KT=(t,e)=>ge(void 0,null,function*(){let n=D(Yn);return(yield D(ur).user)?(yield n.navigate(["/fill-score"]),!1):!0});var XT=(t,e)=>ge(void 0,null,function*(){let n=D(Yn);return(yield D(ur).user)?!0:(yield n.navigate(["/login"]),!1)});var QT=[{path:"login",component:qT,pathMatch:"full",canActivate:[KT]},{path:"fill-score",component:zT,pathMatch:"full",canActivate:[XT]},{path:"**",redirectTo:"fill-score",pathMatch:"full"}];var Mu={firebaseConfig:{apiKey:"AIzaSyCuRcP3yE6bQna_3QejsMh2BE3wttptI-8",authDomain:"werkbeoordeelisator-69.firebaseapp.com",projectId:"werkbeoordeelisator-69",storageBucket:"werkbeoordeelisator-69.appspot.com",messagingSenderId:"918835579953",appId:"1:918835579953:web:624a944336b5ac78e55910",measurementId:"G-3RM2SN6XM0",databaseURL:"https://werkbeoordeelisator-69-default-rtdb.europe-west1.firebasedatabase.app"},rootFontSize:18};var YT={providers:[C_({eventCoalescing:!0}),EC(QT),Df(yD.initializeApp(Mu.firebaseConfig))]};var Eo={UKNOWN:"Unknown"},Sm={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:Eo.UKNOWN},Au={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp(`Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|
      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|
      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|
      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|
      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|
      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|
      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052`),SAMSUNG:new RegExp(`\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|
      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|
      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|
      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|
      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|
      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|
      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|
      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|
      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|
      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|
      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|
      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|
      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|
      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|
      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|
      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|
      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|
      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|
      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|
      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|
      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|
      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|
      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|
      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|
      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|
      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|
      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|
      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|
      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|
      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|
      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|
      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|
      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|
      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|
      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|
      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|
      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|
      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|
      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|
      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|
      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|
      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|
      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|
      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|
      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|
      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|
      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|
      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|
      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|
      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|
      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|
      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|
      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|
      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|
      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F`),LG:new RegExp(`\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|
      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|
      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|
      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|
      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|
      MS323|M257)`),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp(`PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|
        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|
        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|
        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|
        P2000|P7040|P7000|C790`),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp(`KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|
        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|
        CINK KING|CINK PEAX|CINK SLIM|SUBLIM`),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp(`Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|
        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser`)},Do={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp(`SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|
        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|
        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|
        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|
        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|
        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|
        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|
        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|
        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|
        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|
        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|
        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|
        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|
        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|
        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|
        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|
        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|
        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|
        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970`),Kindle:new RegExp(`Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|
        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)`),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp(`^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|
        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|
        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|
        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|
        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b`),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp(`Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|
        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|
        \\bA3-A20\\b|\\bA3-A30`),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp(`PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|
        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|
        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|
        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|
        PMT5887|PMT5001|PMT5002`),LenovoTablet:new RegExp(`Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|
        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|
        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F`),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp(`Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|
        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|
        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|
        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|
        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b`),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp(`\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|
         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b`),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp(`Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|
        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|
        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|
        SGP612|SGP712`),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp(`MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|
        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010`),MIDTablet:new RegExp(`M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|
        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|
        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10`),MSITablet:new RegExp(`MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|
        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b`),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp(`Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|
        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus`),HuaweiTablet:new RegExp(`MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|
        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09`),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp(`NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|
        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|
        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|
        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|
        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|
        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|
        TB-436|TB-416|TB-146SE|TB-126SE`),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp(`Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|
        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b`),DanyTechTablet:`Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|
        Genius TAB GII|Genius TAB GIII|Genius Tab S1`,GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp(`\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|
        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|
        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|
        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b`),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp(`TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|
        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|
        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|
        TPC10111|TPC10203|TPC10205|TPC10503`),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp(`TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|
        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|
        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|
        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10`),OvermaxTablet:new RegExp(`OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|
        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027`),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp(`GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|
        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|
        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|
        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|
        TAB R104|TAB R83.3|TAB A1042`),ModecomTablet:new RegExp(`FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|
        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|
        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003`),VoninoTablet:new RegExp(`\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|
        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|
        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b`),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp(`Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|
        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|
        P1000|P300|S18|S6600|S9100)\\b`),iJoyTablet:new RegExp(`Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|
        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|
        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|
        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|
        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)`),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp(`KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|
        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|
        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|
        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151`),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp(`NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|
        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S`),TeclastTablet:new RegExp(`T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|
        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|
        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|
        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|
        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|
        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|
        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|
        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|
        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi`),OndaTablet:new RegExp(`\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|
        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|
        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|
        Vi40)\\b[s]+|V10 \\b4G\\b`),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp(`MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|
        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|
        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010`),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp(`miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|
        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|
        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b`),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp(`TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|
        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100`),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp(`Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|
        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|
        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107`)},dr={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:Eo.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},ZT=[dr.PS4,dr.CHROME_BOOK,dr.MAC,dr.DELL,dr.ASUS,dr.UNKNOWN],Mk={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:Eo.UKNOWN},Ak={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:Eo.UKNOWN.toLowerCase()},JT={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},Nk={CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},Pk=K(C(C(C({},Au),Do),JT),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),Cm={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},Dm={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},xk=Object.keys(Cm).reduce((t,e)=>(t[e]=Cm[e],t),{}),eS=Object.keys(Dm).reduce((t,e)=>(t[Sm[e]]=Dm[e],t),{}),un=Object.freeze({__proto__:null,BROWSERS:Sm,BROWSERS_RE:Nk,BROWSER_VERSIONS_RE:eS,BROWSER_VERSIONS_RE_MAP:Dm,DESKTOP_DEVICES:ZT,DEVICES:dr,DEVICES_RE:Pk,GENERAL:Eo,MOBILES_RE:Au,OS:Mk,OS_RE:JT,OS_VERSIONS:Ak,OS_VERSIONS_RE:xk,OS_VERSIONS_RE_MAP:Cm,TABLETS_RE:Do}),Em=class{constructor(){}test(e,n){return typeof n=="string"&&(n=new RegExp(n)),n instanceof RegExp?n.test(e):n&&Array.isArray(n.and)?n.and.every(r=>this.test(e,r)):n&&Array.isArray(n.or)?n.or.some(r=>this.test(e,r)):n&&n.not?!this.test(e,n.not):!1}exec(e,n){return typeof n=="string"&&(n=new RegExp(n)),n instanceof RegExp?n.exec(e):n&&Array.isArray(n)?n.reduce((r,i)=>r||this.exec(e,i),null):null}},ga=function(t){return t.Mobile="mobile",t.Tablet="tablet",t.Desktop="desktop",t.Unknown="unknown",t}(ga||{}),Tm=function(t){return t.Portrait="portrait",t.Landscape="landscape",t}(Tm||{}),_m="iPad",tS=(()=>{let e=class e{constructor(r){this.platformId=r,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new Em,this.deviceType="",this.orientation="",Zl(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(r=this.userAgent){r!==this.userAgent&&(this.userAgent=r);let i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(o=>{this[o.prop]=Object.keys(un[o.const]).reduce((s,a)=>un[o.const][a]==="device"&&Zl(this.platformId)&&(this.reTree.test(this.userAgent,Do[_m])||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)?(s[un[o.const][a]]=_m,Object):(s[un[o.const][a]]=this.reTree.test(r,un[`${o.const}_RE`][a]),s),{})}),i.forEach(o=>{this[o.prop]=Object.keys(un[o.const]).map(s=>un[o.const][s]).reduce((s,a)=>o.prop==="device"&&s===un[o.const].ANDROID?this[o.prop][a]?a:s:s===un[o.const].UNKNOWN&&this[o.prop][a]?a:s,un[o.const].UNKNOWN)}),this.browser_version="0",this.browser!==Sm.UNKNOWN){let o=eS[this.browser],s=this.reTree.exec(r,o);s&&(this.browser_version=s[1])}typeof window<"u"&&window.matchMedia?this.orientation=window.matchMedia("(orientation: landscape)").matches?Tm.Landscape:Tm.Portrait:this.orientation=Eo.UKNOWN,this.deviceType=this.isTablet()?ga.Tablet:this.isMobile(this.userAgent)?ga.Mobile:this.isDesktop(this.userAgent)?ga.Desktop:ga.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(r=this.userAgent){return this.isTablet(r)?!1:!!Object.keys(Au).find(o=>this.reTree.test(r,Au[o]))}isTablet(r=this.userAgent){return Zl(this.platformId)&&(this.reTree.test(this.userAgent,Do[_m])||typeof navigator<"u"&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)?!0:!!Object.keys(Do).find(o=>!!this.reTree.test(r,Do[o]))}isDesktop(r=this.userAgent){return this.device===dr.UNKNOWN&&(this.isMobile(r)||this.isTablet(r))?!1:ZT.indexOf(this.device)>-1}};e.\u0275fac=function(i){return new(i||e)(E(ot))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nS=(()=>{class t{deviceDetectorService;constructor(n){this.deviceDetectorService=n}ngOnInit(){this.determineFontSize(window.innerWidth),window.addEventListener("resize",()=>this.determineFontSize(window.innerWidth))}determineFontSize(n){let r=window.innerWidth>window.innerHeight?"landscape":"portrait",i=Mu.rootFontSize,o=1920;this.deviceDetectorService.isMobile()?r==="landscape"?(o=915,i=13):(o=412,i=12):this.deviceDetectorService.isTablet()&&(r==="landscape"?o=1280:o=768);let s=window.outerWidth/window.outerHeight,a=2,l=i;s>a&&n>o&&this.deviceDetectorService.isDesktop()||(l=n/o*i),document.documentElement.style.setProperty("font-size",`${l.toFixed(3)}px`)}static \u0275fac=function(r){return new(r||t)(ee(tS))};static \u0275cmp=Jt({type:t,selectors:[["app-root"]],standalone:!0,features:[nn],decls:1,vars:0,consts:[[1,"outlet"]],template:function(r,i){r&1&&Kn(0,"router-outlet",0)},dependencies:[$h],styles:[".frikandelbroodje[_ngcontent-%COMP%]{color:red}"]})}return t})();H_(nS,YT).catch(t=>console.error(t));
