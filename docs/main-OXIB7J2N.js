import{A as ss,B as ny,C as ry,D as P,E as Ct,F as Fe,G as Ud,H as iy,I as as,J as nt,K as Hn,L as il,M as $d,N as oy,O as Ri,P as ls,Q as sy,R as ay,S as ur,T as St,a as D,b as z,c as oe,d as Wv,e as el,f as zv,g as qv,h as C,i as xi,j as tl,k as Kv,l as Xv,m as Ue,n as Qv,o as Gd,p as Yv,q as pn,r as Zv,s as Jv,t as nl,u as Oe,v as ey,w as ty,x as Ft,y as cr,z as rl}from"./chunk-YI2MOBZN.js";function ly(t,e){return Object.is(t,e)}var Le=null,cs=!1,ol=1,Yt=Symbol("SIGNAL");function Z(t){let e=Le;return Le=t,e}function cy(){return Le}function _S(){return cs}var Oi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function al(t){if(cs)throw new Error("");if(Le===null)return;Le.consumerOnSignalRead(t);let e=Le.nextProducerIndex++;if(fl(Le),e<Le.producerNode.length&&Le.producerNode[e]!==t&&us(Le)){let n=Le.producerNode[e];dl(n,Le.producerIndexOfThis[e])}Le.producerNode[e]!==t&&(Le.producerNode[e]=t,Le.producerIndexOfThis[e]=us(Le)?py(t,Le,e):0),Le.producerLastReadVersion[e]=t.version}function CS(){ol++}function uy(t){if(!(us(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ol)){if(!t.producerMustRecompute(t)&&!cl(t)){t.dirty=!1,t.lastCleanEpoch=ol;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ol}}function dy(t){if(t.liveConsumerNode===void 0)return;let e=cs;cs=!0;try{for(let n of t.liveConsumerNode)n.dirty||hy(n)}finally{cs=e}}function fy(){return Le?.consumerAllowSignalWrites!==!1}function hy(t){t.dirty=!0,dy(t),t.consumerMarkedDirty?.(t)}function ds(t){return t&&(t.nextProducerIndex=0),Z(t)}function ll(t,e){if(Z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(us(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)dl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function cl(t){fl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(uy(n),r!==n.version))return!0}return!1}function ul(t){if(fl(t),us(t))for(let e=0;e<t.producerNode.length;e++)dl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function py(t,e,n){if(gy(t),t.liveConsumerNode.length===0&&my(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=py(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function dl(t,e){if(gy(t),t.liveConsumerNode.length===1&&my(t))for(let r=0;r<t.producerNode.length;r++)dl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];fl(i),i.producerIndexOfThis[r]=e}}function us(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function fl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function gy(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function my(t){return t.producerNode!==void 0}function vy(t){let e=Object.create(ES);e.computation=t;let n=()=>{if(uy(e),al(e),e.value===sl)throw e.error;return e.value};return n[Yt]=e,n}var Wd=Symbol("UNSET"),zd=Symbol("COMPUTING"),sl=Symbol("ERRORED"),ES=z(D({},Oi),{value:Wd,dirty:!0,error:null,equal:ly,producerMustRecompute(t){return t.value===Wd||t.value===zd},producerRecomputeValue(t){if(t.value===zd)throw new Error("Detected cycle in computations.");let e=t.value;t.value=zd;let n=ds(t),r;try{r=t.computation()}catch(i){r=sl,t.error=i}finally{ll(t,n)}if(e!==Wd&&e!==sl&&r!==sl&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function TS(){throw new Error}var yy=TS;function _y(){yy()}function Cy(t){yy=t}var DS=null;function Ey(t){let e=Object.create(Kd);e.value=t;let n=()=>(al(e),e.value);return n[Yt]=e,n}function hl(t,e){fy()||_y(),t.equal(t.value,e)||(t.value=e,wS(t))}function Ty(t,e){fy()||_y(),hl(t,e(t.value))}var Kd=z(D({},Oi),{equal:ly,value:void 0});function wS(t){t.version++,CS(),dy(t),DS?.()}function Dy(t,e,n){let r=Object.create(bS);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=l=>{r.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(ul(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=qd)}let a=()=>{if(r.fn===null)return;if(_S())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!cl(r))return;r.hasRun=!0;let l=ds(r);try{r.cleanupFn(),r.cleanupFn=qd,r.fn(i)}finally{ll(r,l)}};return r.ref={notify:()=>hy(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Yt]:r},r.ref}var qd=()=>{},bS=z(D({},Oi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:qd});function F(t){return typeof t=="function"}function ki(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var pl=ki(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function zr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ae=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){e=o instanceof pl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{wy(o)}catch(s){e=e??[],s instanceof pl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new pl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)wy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zr(n,e)}remove(e){let{_finalizers:n}=this;n&&zr(n,e),e instanceof t&&e._removeParent(this)}};Ae.EMPTY=(()=>{let t=new Ae;return t.closed=!0,t})();var Xd=Ae.EMPTY;function gl(t){return t instanceof Ae||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function wy(t){F(t)?t():t.unsubscribe()}var Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fi={setTimeout(t,e,...n){let{delegate:r}=Fi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ml(t){Fi.setTimeout(()=>{let{onUnhandledError:e}=Zt;if(e)e(t);else throw t})}function qr(){}var by=Qd("C",void 0,void 0);function Sy(t){return Qd("E",void 0,t)}function Iy(t){return Qd("N",t,void 0)}function Qd(t,e,n){return{kind:t,value:e,error:n}}var Kr=null;function Li(t){if(Zt.useDeprecatedSynchronousErrorHandling){let e=!Kr;if(e&&(Kr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Kr;if(Kr=null,n)throw r}}else t()}function My(t){Zt.useDeprecatedSynchronousErrorHandling&&Kr&&(Kr.errorThrown=!0,Kr.error=t)}var Xr=class extends Ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gl(e)&&e.add(this)):this.destination=MS}static create(e,n,r){return new Jt(e,n,r)}next(e){this.isStopped?Zd(Iy(e),this):this._next(e)}error(e){this.isStopped?Zd(Sy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zd(by,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},SS=Function.prototype.bind;function Yd(t,e){return SS.call(t,e)}var Jd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){vl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){vl(r)}else vl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){vl(n)}}},Jt=class extends Xr{constructor(e,n,r){super();let i;if(F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Zt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Yd(e.next,o),error:e.error&&Yd(e.error,o),complete:e.complete&&Yd(e.complete,o)}):i=e}this.destination=new Jd(i)}};function vl(t){Zt.useDeprecatedSynchronousErrorHandling?My(t):ml(t)}function IS(t){throw t}function Zd(t,e){let{onStoppedNotification:n}=Zt;n&&Fi.setTimeout(()=>n(t,e))}var MS={closed:!0,next:qr,error:IS,complete:qr};var Vi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function qe(t){return t}function ef(...t){return tf(t)}function tf(t){return t.length===0?qe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var $=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=NS(n)?n:new Jt(n,r,i);return Li(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ay(r),new r((i,o)=>{let s=new Jt({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vi](){return this}pipe(...n){return tf(n)(this)}toPromise(n){return n=Ay(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Ay(t){var e;return(e=t??Zt.Promise)!==null&&e!==void 0?e:Promise}function AS(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function NS(t){return t&&t instanceof Xr||AS(t)&&gl(t)}function nf(t){return F(t?.lift)}function H(t){return e=>{if(nf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function L(t,e,n,r,i){return new rf(t,e,n,r,i)}var rf=class extends Xr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bi(){return H((t,e)=>{let n=null;t._refCount++;let r=L(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Hi=class extends ${constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,nf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ae;let n=this.getSubject();e.add(this.source.subscribe(L(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ae.EMPTY)}return e}refCount(){return Bi()(this)}};var Ny=ki(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=(()=>{class t extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new yl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ny}next(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Xd:(this.currentObservers=null,o.push(n),new Ae(()=>{this.currentObservers=null,zr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return t.create=(e,n)=>new yl(e,n),t})(),yl=class extends we{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Xd}};var Ke=class extends we{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var fs={now(){return(fs.delegate||Date).now()},delegate:void 0};var _l=class extends we{constructor(e=1/0,n=1/0,r=fs){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Cl=class extends Ae{constructor(e,n){super()}schedule(e,n=0){return this}};var hs={setInterval(t,e,...n){let{delegate:r}=hs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=hs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ji=class extends Cl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return hs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&hs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Gi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Gi.now=fs.now;var Ui=class extends Gi{constructor(e,n=Gi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ps=new Ui(ji);var El=class extends ji{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Tl=class extends Ui{};var of=new Tl(El);var rt=new $(t=>t.complete());function Py(t){return t&&F(t.schedule)}function sf(t){return t[t.length-1]}function $i(t){return F(sf(t))?t.pop():void 0}function gn(t){return Py(sf(t))?t.pop():void 0}function xy(t,e){return typeof sf(t)=="number"?t.pop():e}var Dl=t=>t&&typeof t.length=="number"&&typeof t!="function";function wl(t){return F(t?.then)}function bl(t){return F(t[Vi])}function Sl(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function Il(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function PS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ml=PS();function Al(t){return F(t?.[Ml])}function Nl(t){return zv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield el(n.read());if(i)return yield el(void 0);yield yield el(r)}}finally{n.releaseLock()}})}function Pl(t){return F(t?.getReader)}function he(t){if(t instanceof $)return t;if(t!=null){if(bl(t))return xS(t);if(Dl(t))return RS(t);if(wl(t))return OS(t);if(Sl(t))return Ry(t);if(Al(t))return kS(t);if(Pl(t))return FS(t)}throw Il(t)}function xS(t){return new $(e=>{let n=t[Vi]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function RS(t){return new $(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function OS(t){return new $(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ml)})}function kS(t){return new $(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Ry(t){return new $(e=>{LS(t,e).catch(n=>e.error(n))})}function FS(t){return Ry(Nl(t))}function LS(t,e){var n,r,i,o;return Wv(this,void 0,void 0,function*(){try{for(n=qv(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Et(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Lt(t,e=0){return H((n,r)=>{n.subscribe(L(r,i=>Et(r,t,()=>r.next(i),e),()=>Et(r,t,()=>r.complete(),e),i=>Et(r,t,()=>r.error(i),e)))})}function en(t,e=0){return H((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Oy(t,e){return he(t).pipe(en(e),Lt(e))}function ky(t,e){return he(t).pipe(en(e),Lt(e))}function Fy(t,e){return new $(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ly(t,e){return new $(n=>{let r;return Et(n,e,()=>{r=t[Ml](),Et(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function xl(t,e){if(!t)throw new Error("Iterable cannot be null");return new $(n=>{Et(n,e,()=>{let r=t[Symbol.asyncIterator]();Et(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Vy(t,e){return xl(Nl(t),e)}function By(t,e){if(t!=null){if(bl(t))return Oy(t,e);if(Dl(t))return Fy(t,e);if(wl(t))return ky(t,e);if(Sl(t))return xl(t,e);if(Al(t))return Ly(t,e);if(Pl(t))return Vy(t,e)}throw Il(t)}function de(t,e){return e?By(t,e):he(t)}function M(...t){let e=gn(t);return de(t,e)}function jn(t,e){let n=F(t)?t:()=>t,r=i=>i.error(n());return new $(e?i=>e.schedule(r,0,i):r)}function af(t){return!!t&&(t instanceof $||F(t.lift)&&F(t.subscribe))}var tn=ki(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function lf(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Jt({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new tn)}});t.subscribe(o)})}function A(t,e){return H((n,r)=>{let i=0;n.subscribe(L(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:VS}=Array;function BS(t,e){return VS(e)?t(...e):t(e)}function Rl(t){return A(e=>BS(t,e))}var{isArray:HS}=Array,{getPrototypeOf:jS,prototype:GS,keys:US}=Object;function Ol(t){if(t.length===1){let e=t[0];if(HS(e))return{args:e,keys:null};if($S(e)){let n=US(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function $S(t){return t&&typeof t=="object"&&jS(t)===GS}function kl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Fl(...t){let e=gn(t),n=$i(t),{args:r,keys:i}=Ol(t);if(r.length===0)return de([],e);let o=new $(WS(r,e,i?s=>kl(i,s):qe));return n?o.pipe(Rl(n)):o}function WS(t,e,n=qe){return r=>{Hy(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Hy(e,()=>{let c=de(t[l],e),u=!1;c.subscribe(L(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Hy(t,e,n){t?Et(n,t,e):e()}function jy(t,e,n,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=y=>c<r?g(y):l.push(y),g=y=>{o&&e.next(y),c++;let v=!1;he(n(y,u++)).subscribe(L(e,T=>{i?.(T),o?h(T):e.next(T)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<r;){let T=l.shift();s?Et(e,s,()=>g(T)):g(T)}f()}catch(T){e.error(T)}}))};return t.subscribe(L(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Ve(t,e,n=1/0){return F(e)?Ve((r,i)=>A((o,s)=>e(r,o,i,s))(he(t(r,i))),n):(typeof e=="number"&&(n=e),H((r,i)=>jy(r,i,t,n)))}function gs(t=1/0){return Ve(qe,t)}function Gy(){return gs(1)}function Wi(...t){return Gy()(de(t,gn(t)))}function Ll(t){return new $(e=>{he(t()).subscribe(e)})}function cf(...t){let e=$i(t),{args:n,keys:r}=Ol(t),i=new $(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;he(n[u]).subscribe(L(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?kl(r,a):a),o.complete())}))}});return e?i.pipe(Rl(e)):i}function zi(...t){let e=gn(t),n=xy(t,1/0),r=t;return r.length?r.length===1?he(r[0]):gs(n)(de(r,e)):rt}function it(t,e){return H((n,r)=>{let i=0;n.subscribe(L(r,o=>t.call(e,o,i++)&&r.next(o)))})}function mn(t){return H((e,n)=>{let r=null,i=!1,o;r=e.subscribe(L(n,void 0,void 0,s=>{o=he(t(s,mn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Uy(t,e,n,r,i){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(L(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function dr(t,e){return F(e)?Ve(t,e,1):Ve(t,1)}function fr(t){return H((e,n)=>{let r=!1;e.subscribe(L(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Gn(t){return t<=0?()=>rt:H((e,n)=>{let r=0;e.subscribe(L(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function uf(t){return A(()=>t)}function df(t,e=qe){return t=t??zS,H((n,r)=>{let i,o=!0;n.subscribe(L(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function zS(t,e){return t===e}function Vl(t=qS){return H((e,n)=>{let r=!1;e.subscribe(L(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qS(){return new tn}function vn(t){return H((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ot(t,e){let n=arguments.length>=2;return r=>r.pipe(t?it((i,o)=>t(i,o,r)):qe,Gn(1),n?fr(e):Vl(()=>new tn))}function qi(t){return t<=0?()=>rt:H((e,n)=>{let r=[];e.subscribe(L(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ff(t,e){let n=arguments.length>=2;return r=>r.pipe(t?it((i,o)=>t(i,o,r)):qe,qi(1),n?fr(e):Vl(()=>new tn))}function Ki(t,e){return H(Uy(t,e,arguments.length>=2,!0))}function Qr(t={}){let{connector:e=()=>new we,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},g=()=>{let y=s;h(),y?.unsubscribe()};return H((y,v)=>{c++,!d&&!u&&f();let T=l=l??e();v.add(()=>{c--,c===0&&!d&&!u&&(a=hf(g,i))}),T.subscribe(v),!s&&c>0&&(s=new Jt({next:x=>T.next(x),error:x=>{d=!0,f(),a=hf(h,n,x),T.error(x)},complete:()=>{u=!0,f(),a=hf(h,r),T.complete()}}),he(y).subscribe(s))})(o)}}function hf(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Jt({next:()=>{r.unsubscribe(),t()}});return he(e(...n)).subscribe(r)}function Bl(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,Qr({connector:()=>new _l(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function pf(t){return H((e,n)=>{let r=!1,i=0;e.subscribe(L(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}function gf(...t){let e=gn(t);return H((n,r)=>{(e?Wi(t,n,e):Wi(t,n)).subscribe(r)})}function Te(t,e){return H((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(L(r,l=>{i?.unsubscribe();let c=0,u=o++;he(t(l,u)).subscribe(i=L(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Hl(t,e){return F(e)?Te(()=>t,e):Te(()=>t)}function mf(t){return H((e,n)=>{he(t).subscribe(L(n,()=>n.complete(),qr)),!n.closed&&e.subscribe(n)})}function Ne(t,e,n){let r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?H((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(L(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):qe}function vf(...t){let e=$i(t);return H((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let l=0;l<i;l++)he(t[l]).subscribe(L(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(qe))&&(s=null))},qr));n.subscribe(L(r,l=>{if(a){let c=[l,...o];r.next(e?e(...c):c)}}))})}var KS="https://g.co/ng/security#xss",S=class extends Error{constructor(e,n){super(yc(e,n)),this.code=e}};function yc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var A0=Symbol("InputSignalNode#UNSET"),XS=z(D({},Kd),{transformFn:void 0,applyValueToInputSignal(t,e){hl(t,e)}});function N0(t,e){let n=Object.create(XS);n.value=t,n.transformFn=e?.transform;function r(){if(al(n),n.value===A0)throw new S(-950,!1);return n.value}return r[Yt]=n,r}function Is(t){return{toString:t}.toString()}var jl="__parameters__";function QS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function P0(t,e,n){return Is(()=>{let r=QS(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(jl)?l[jl]:Object.defineProperty(l,jl,{value:[]})[jl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Jr=globalThis;function pe(t){for(let e in t)if(t[e]===pe)return e;throw Error("Could not find renamed property on target object.")}function YS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function $y(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var ZS=pe({__forward_ref__:pe});function Dn(t){return t.__forward_ref__=Dn,t.toString=function(){return Dt(this())},t}function st(t){return x0(t)?t():t}function x0(t){return typeof t=="function"&&t.hasOwnProperty(ZS)&&t.__forward_ref__===Dn}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ut(t){return{providers:t.providers||[],imports:t.imports||[]}}function _c(t){return Wy(t,O0)||Wy(t,k0)}function R0(t){return _c(t)!==null}function Wy(t,e){return t.hasOwnProperty(e)?t[e]:null}function JS(t){let e=t&&(t[O0]||t[k0]);return e||null}function zy(t){return t&&(t.hasOwnProperty(qy)||t.hasOwnProperty(eI))?t[qy]:null}var O0=pe({\u0275prov:pe}),qy=pe({\u0275inj:pe}),k0=pe({ngInjectableDef:pe}),eI=pe({ngInjectorDef:pe}),w=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function F0(t){return t&&!!t.\u0275providers}var tI=pe({\u0275cmp:pe}),nI=pe({\u0275dir:pe}),rI=pe({\u0275pipe:pe}),iI=pe({\u0275mod:pe}),Ql=pe({\u0275fac:pe}),ms=pe({__NG_ELEMENT_ID__:pe}),Ky=pe({__NG_ENV_ID__:pe});function L0(t){return typeof t=="string"?t:t==null?"":String(t)}function oI(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():L0(t)}function sI(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,t)}function Sh(t,e){throw new S(-201,!1)}var q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(q||{}),Rf;function V0(){return Rf}function Tt(t){let e=Rf;return Rf=t,e}function B0(t,e,n){let r=_c(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&q.Optional)return null;if(e!==void 0)return e;Sh(t,"Injector")}var aI={},vs=aI,Of="__NG_DI_FLAG__",Yl="ngTempTokenPath",lI="ngTokenPath",cI=/\n/gm,uI="\u0275",Xy="__source",Zi;function dI(){return Zi}function hr(t){let e=Zi;return Zi=t,e}function fI(t,e=q.Default){if(Zi===void 0)throw new S(-203,!1);return Zi===null?B0(t,void 0,e):Zi.get(t,e&q.Optional?null:void 0,e)}function E(t,e=q.Default){return(V0()||fI)(st(t),e)}function _(t,e=q.Default){return E(t,Cc(e))}function Cc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function kf(t){let e=[];for(let n=0;n<t.length;n++){let r=st(t[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,o=q.Default;for(let s=0;s<r.length;s++){let a=r[s],l=hI(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(E(i,o))}else e.push(E(r))}return e}function H0(t,e){return t[Of]=e,t.prototype[Of]=e,t}function hI(t){return t[Of]}function pI(t,e,n,r){let i=t[Yl];throw e[Xy]&&i.unshift(e[Xy]),t.message=gI(`
`+t.message,i,n,r),t[lI]=i,t[Yl]=null,t}function gI(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==uI?t.slice(2):t;let i=Dt(e);if(Array.isArray(e))i=e.map(Dt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Dt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(cI,`
  `)}`}var ci=H0(P0("Optional"),8);var Ec=H0(P0("SkipSelf"),4);function ti(t,e){let n=t.hasOwnProperty(Ql);return n?t[Ql]:null}function Ih(t,e){t.forEach(n=>Array.isArray(n)?Ih(n,e):e(n))}function j0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mI(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function vI(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function yI(t,e,n){let r=Ms(t,e);return r>=0?t[r|1]=n:(r=~r,vI(t,r,e,n)),r}function yf(t,e){let n=Ms(t,e);if(n>=0)return t[n|1]}function Ms(t,e){return _I(t,e,1)}function _I(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var eo={},Vt=[],to=new w(""),G0=new w("",-1),U0=new w(""),Jl=class{get(e,n=vs){if(n===vs){let r=new Error(`NullInjectorError: No provider for ${Dt(e)}!`);throw r.name="NullInjectorError",r}return n}},$0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}($0||{}),Cn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Cn||{}),mr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(mr||{});function CI(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Ff(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];TI(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function EI(t){return t===3||t===4||t===6}function TI(t){return t.charCodeAt(0)===64}function ys(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Qy(t,n,i,null,e[++r]):Qy(t,n,i,null,null))}}return t}function Qy(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var W0="ng-template";function DI(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&CI(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Mh(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Mh(t){return t.type===4&&t.value!==W0}function wI(t,e,n){let r=t.type===4&&!n?W0:t.value;return e===r}function bI(t,e,n){let r=4,i=t.attrs,o=i!==null?MI(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!nn(r)&&!nn(l))return!1;if(s&&nn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!wI(t,l,n)||l===""&&e.length===1){if(nn(r))return!1;s=!0}}else if(r&8){if(i===null||!DI(t,i,l,n)){if(nn(r))return!1;s=!0}}else{let c=e[++a],u=SI(l,i,Mh(t),n);if(u===-1){if(nn(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(nn(r))return!1;s=!0}}}}return nn(r)||s}function nn(t){return(t&1)===0}function SI(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return AI(e,t)}function z0(t,e,n=!1){for(let r=0;r<e.length;r++)if(bI(t,e[r],n))return!0;return!1}function II(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function MI(t){for(let e=0;e<t.length;e++){let n=t[e];if(EI(n))return e}return t.length}function AI(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function NI(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Yy(t,e){return t?":not("+e.trim()+")":e}function PI(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!nn(s)&&(e+=Yy(o,i),i=""),r=s,o=o||!nn(r);n++}return i!==""&&(e+=Yy(o,i)),e}function xI(t){return t.map(PI).join(",")}function RI(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!nn(i))break;i=o}r++}return{attrs:e,classes:n}}function Ht(t){return Is(()=>{let e=Z0(t),n=z(D({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Cn.Emulated,styles:t.styles||Vt,_:null,schemas:t.schemas||null,tView:null,id:""});J0(n);let r=t.dependencies;return n.directiveDefs=Jy(r,!1),n.pipeDefs=Jy(r,!0),n.id=FI(n),n})}function OI(t){return ni(t)||K0(t)}function kI(t){return t!==null}function dt(t){return Is(()=>({type:t.type,bootstrap:t.bootstrap||Vt,declarations:t.declarations||Vt,imports:t.imports||Vt,exports:t.exports||Vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Zy(t,e){if(t==null)return eo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=mr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==mr.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Je(t){return Is(()=>{let e=Z0(t);return J0(e),e})}function q0(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ni(t){return t[tI]||null}function K0(t){return t[nI]||null}function X0(t){return t[rI]||null}function Q0(t){let e=ni(t)||K0(t)||X0(t);return e!==null?e.standalone:!1}function Y0(t,e){let n=t[iI]||null;if(!n&&e===!0)throw new Error(`Type ${Dt(t)} does not have '\u0275mod' property.`);return n}function Z0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||eo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zy(t.inputs,e),outputs:Zy(t.outputs),debugInfo:null}}function J0(t){t.features?.forEach(e=>e(t))}function Jy(t,e){if(!t)return null;let n=e?X0:OI;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(kI)}function FI(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ui(t){return{\u0275providers:t}}function Ah(...t){return{\u0275providers:e_(!0,t),\u0275fromNgModule:!0}}function e_(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ih(e,s=>{let a=s;Lf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&t_(i,o),n}function t_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Nh(i,o=>{e(o,r)})}}function Lf(t,e,n,r){if(t=st(t),!t)return!1;let i=null,o=zy(t),s=!o&&ni(t);if(!o&&!s){let l=t.ngModule;if(o=zy(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Lf(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Ih(o.imports,u=>{Lf(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&t_(c,e)}if(!a){let c=ti(i)||(()=>new i);e({provide:i,useFactory:c,deps:Vt},i),e({provide:U0,useValue:i,multi:!0},i),e({provide:to,useValue:()=>E(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;Nh(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Nh(t,e){for(let n of t)F0(n)&&(n=n.\u0275providers),Array.isArray(n)?Nh(n,e):e(n)}var LI=pe({provide:String,useValue:pe});function n_(t){return t!==null&&typeof t=="object"&&LI in t}function VI(t){return!!(t&&t.useExisting)}function BI(t){return!!(t&&t.useFactory)}function no(t){return typeof t=="function"}function HI(t){return!!t.useClass}var Tc=new w(""),$l={},jI={},_f;function Ph(){return _f===void 0&&(_f=new Jl),_f}var wt=class{},_s=class extends wt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bf(e,s=>this.processProvider(s)),this.records.set(G0,Xi(void 0,this)),i.has("environment")&&this.records.set(wt,Xi(void 0,this));let o=this.records.get(Tc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(U0,Vt,q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=hr(this),r=Tt(void 0),i;try{return e()}finally{hr(n),Tt(r)}}get(e,n=vs,r=q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ky))return e[Ky](this);r=Cc(r);let i,o=hr(this),s=Tt(void 0);try{if(!(r&q.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=zI(e)&&_c(e);c&&this.injectableDefInScope(c)?l=Xi(Vf(e),$l):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&q.Self?Ph():this.parent;return n=r&q.Optional&&n===vs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Yl]=a[Yl]||[]).unshift(Dt(e)),o)throw a;return pI(a,e,"R3InjectorError",this.source)}else throw a}finally{Tt(s),hr(o)}}resolveInjectorInitializers(){let e=Z(null),n=hr(this),r=Tt(void 0),i;try{let o=this.get(to,Vt,q.Self);for(let s of o)s()}finally{hr(n),Tt(r),Z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){e=st(e);let n=no(e)?e:st(e&&e.provide),r=UI(e);if(!no(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Xi(void 0,$l,!0),i.factory=()=>kf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Z(null);try{return n.value===$l&&(n.value=jI,n.value=n.factory()),typeof n.value=="object"&&n.value&&WI(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=st(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Vf(t){let e=_c(t),n=e!==null?e.factory:ti(t);if(n!==null)return n;if(t instanceof w)throw new S(204,!1);if(t instanceof Function)return GI(t);throw new S(204,!1)}function GI(t){if(t.length>0)throw new S(204,!1);let n=JS(t);return n!==null?()=>n.factory(t):()=>new t}function UI(t){if(n_(t))return Xi(void 0,t.useValue);{let e=r_(t);return Xi(e,$l)}}function r_(t,e,n){let r;if(no(t)){let i=st(t);return ti(i)||Vf(i)}else if(n_(t))r=()=>st(t.useValue);else if(BI(t))r=()=>t.useFactory(...kf(t.deps||[]));else if(VI(t))r=()=>E(st(t.useExisting));else{let i=st(t&&(t.useClass||t.provide));if($I(t))r=()=>new i(...kf(t.deps));else return ti(i)||Vf(i)}return r}function Xi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $I(t){return!!t.deps}function WI(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function zI(t){return typeof t=="function"||typeof t=="object"&&t instanceof w}function Bf(t,e){for(let n of t)Array.isArray(n)?Bf(n,e):n&&F0(n)?Bf(n.\u0275providers,e):e(n)}function on(t,e){t instanceof _s&&t.assertNotDestroyed();let n,r=hr(t),i=Tt(void 0);try{return e()}finally{hr(r),Tt(i)}}function i_(){return V0()!==void 0||dI()!=null}function qI(t){if(!i_())throw new S(-203,!1)}function KI(t){return typeof t=="function"}var qn=0,G=1,O=2,lt=3,rn=4,bt=5,ro=6,ec=7,Ze=8,io=9,Un=10,Be=11,Cs=12,e0=13,mo=14,It=15,oo=16,Qi=17,so=18,Dc=19,o_=20,pr=21,Wl=22,Bt=23,ct=25,s_=1;var ri=7,tc=8,nc=9,at=10,rc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(rc||{});function gr(t){return Array.isArray(t)&&typeof t[s_]=="object"}function Kn(t){return Array.isArray(t)&&t[s_]===!0}function a_(t){return(t.flags&4)!==0}function wc(t){return t.componentOffset>-1}function xh(t){return(t.flags&1)===1}function vr(t){return!!t.template}function Hf(t){return(t[O]&512)!==0}var jf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function l_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Cr(){return c_}function c_(t){return t.type.prototype.ngOnChanges&&(t.setInput=QI),XI}Cr.ngInherit=!0;function XI(){let t=d_(this),e=t?.current;if(e){let n=t.previous;if(n===eo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function QI(t,e,n,r,i){let o=this.declaredInputs[r],s=d_(t)||YI(t,{previous:eo,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new jf(c&&c.currentValue,n,l===eo),l_(t,e,i,n)}var u_="__ngSimpleChanges__";function d_(t){return t[u_]||null}function YI(t,e){return t[u_]=e}var t0=null;var yn=function(t,e,n){t0?.(t,e,n)},ZI="svg",JI="math";function En(t){for(;Array.isArray(t);)t=t[qn];return t}function f_(t,e){return En(e[t])}function sn(t,e){return En(e[t.index])}function Rh(t,e){return t.data[e]}function eM(t,e){return t[e]}function Er(t,e){let n=e[t];return gr(n)?n:n[qn]}function Oh(t){return(t[O]&128)===128}function tM(t){return Kn(t[lt])}function ao(t,e){return e==null?null:t[e]}function h_(t){t[Qi]=0}function p_(t){t[O]&1024||(t[O]|=1024,Oh(t)&&bc(t))}function nM(t,e){for(;t>0;)e=e[mo],t--;return e}function Es(t){return!!(t[O]&9216||t[Bt]?.dirty)}function Gf(t){t[Un].changeDetectionScheduler?.notify(7),t[O]&64&&(t[O]|=1024),Es(t)&&bc(t)}function bc(t){t[Un].changeDetectionScheduler?.notify(0);let e=ii(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!Oh(e)));)e=ii(e)}function g_(t,e){if((t[O]&256)===256)throw new S(911,!1);t[pr]===null&&(t[pr]=[]),t[pr].push(e)}function rM(t,e){if(t[pr]===null)return;let n=t[pr].indexOf(e);n!==-1&&t[pr].splice(n,1)}function ii(t){let e=t[lt];return Kn(e)?e[lt]:e}var J={lFrame:S_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var m_=!1;function iM(){return J.lFrame.elementDepthCount}function oM(){J.lFrame.elementDepthCount++}function sM(){J.lFrame.elementDepthCount--}function v_(){return J.bindingsEnabled}function y_(){return J.skipHydrationRootTNode!==null}function aM(t){return J.skipHydrationRootTNode===t}function lM(){J.skipHydrationRootTNode=null}function ce(){return J.lFrame.lView}function ft(){return J.lFrame.tView}function Sc(t){return J.lFrame.contextLView=t,t[Ze]}function Ic(t){return J.lFrame.contextLView=null,t}function Mt(){let t=__();for(;t!==null&&t.type===64;)t=t.parent;return t}function __(){return J.lFrame.currentTNode}function cM(){let t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function As(t,e){let n=J.lFrame;n.currentTNode=t,n.isParent=e}function C_(){return J.lFrame.isParent}function E_(){J.lFrame.isParent=!1}function T_(){return m_}function n0(t){m_=t}function uM(){let t=J.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function dM(t){return J.lFrame.bindingIndex=t}function Ns(){return J.lFrame.bindingIndex++}function fM(t){let e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function hM(){return J.lFrame.inI18n}function pM(t,e){let n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,Uf(e)}function gM(){return J.lFrame.currentDirectiveIndex}function Uf(t){J.lFrame.currentDirectiveIndex=t}function mM(t){let e=J.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function D_(t){J.lFrame.currentQueryIndex=t}function vM(t){let e=t[G];return e.type===2?e.declTNode:e.type===1?t[bt]:null}function w_(t,e,n){if(n&q.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&q.Host);)if(i=vM(o),i===null||(o=o[mo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=J.lFrame=b_();return r.currentTNode=e,r.lView=t,!0}function kh(t){let e=b_(),n=t[G];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function b_(){let t=J.lFrame,e=t===null?null:t.child;return e===null?S_(t):e}function S_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function I_(){let t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var M_=I_;function Fh(){let t=I_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yM(t){return(J.lFrame.contextLView=nM(t,J.lFrame.contextLView))[Ze]}function di(){return J.lFrame.selectedIndex}function oi(t){J.lFrame.selectedIndex=t}function A_(){let t=J.lFrame;return Rh(t.tView,t.selectedIndex)}function _M(){return J.lFrame.currentNamespace}var N_=!0;function Lh(){return N_}function Vh(t){N_=t}function CM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=c_(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Bh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function zl(t,e,n){P_(t,e,3,n)}function ql(t,e,n,r){(t[O]&3)===n&&P_(t,e,n,r)}function Cf(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function P_(t,e,n,r){let i=r!==void 0?t[Qi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Qi]+=65536),(a<o||o==-1)&&(EM(t,n,e,l),t[Qi]=(t[Qi]&4294901760)+l+2),l++}function r0(t,e){yn(4,t,e);let n=Z(null);try{e.call(t)}finally{Z(n),yn(5,t,e)}}function EM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[O]>>14<t[Qi]>>16&&(t[O]&3)===e&&(t[O]+=16384,r0(a,o)):r0(a,o)}var Ji=-1,si=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function TM(t){return t instanceof si}function DM(t){return(t.flags&8)!==0}function wM(t){return(t.flags&16)!==0}var Ef={},$f=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Cc(r);let i=this.injector.get(e,Ef,r);return i!==Ef||n===Ef?i:this.parentInjector.get(e,n,r)}};function x_(t){return t!==Ji}function ic(t){return t&32767}function bM(t){return t>>16}function oc(t,e){let n=bM(t),r=e;for(;n>0;)r=r[mo],n--;return r}var Wf=!0;function sc(t){let e=Wf;return Wf=t,e}var SM=256,R_=SM-1,O_=5,IM=0,_n={};function MM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ms)&&(r=n[ms]),r==null&&(r=n[ms]=IM++);let i=r&R_,o=1<<i;e.data[t+(i>>O_)]|=o}function ac(t,e){let n=k_(t,e);if(n!==-1)return n;let r=e[G];r.firstCreatePass&&(t.injectorIndex=e.length,Tf(r.data,t),Tf(e,null),Tf(r.blueprint,null));let i=Hh(t,e),o=t.injectorIndex;if(x_(i)){let s=ic(i),a=oc(i,e),l=a[G].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Tf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function k_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Hh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=H_(i),r===null)return Ji;if(n++,i=i[mo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ji}function zf(t,e,n){MM(t,e,n)}function F_(t,e,n){if(n&q.Optional||t!==void 0)return t;Sh(e,"NodeInjector")}function L_(t,e,n,r){if(n&q.Optional&&r===void 0&&(r=null),!(n&(q.Self|q.Host))){let i=t[io],o=Tt(void 0);try{return i?i.get(e,r,n&q.Optional):B0(e,r,n&q.Optional)}finally{Tt(o)}}return F_(r,e,n)}function V_(t,e,n,r=q.Default,i){if(t!==null){if(e[O]&2048&&!(r&q.Self)){let s=RM(t,e,n,r,_n);if(s!==_n)return s}let o=B_(t,e,n,r,_n);if(o!==_n)return o}return L_(e,n,r,i)}function B_(t,e,n,r,i){let o=PM(n);if(typeof o=="function"){if(!w_(e,t,r))return r&q.Host?F_(i,n,r):L_(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&q.Optional))Sh(n);else return s}finally{M_()}}else if(typeof o=="number"){let s=null,a=k_(t,e),l=Ji,c=r&q.Host?e[It][bt]:null;for((a===-1||r&q.SkipSelf)&&(l=a===-1?Hh(t,e):e[a+8],l===Ji||!o0(r,!1)?a=-1:(s=e[G],a=ic(l),e=oc(l,e)));a!==-1;){let u=e[G];if(i0(o,a,u.data)){let d=AM(a,e,n,s,r,c);if(d!==_n)return d}l=e[a+8],l!==Ji&&o0(r,e[G].data[a+8]===c)&&i0(o,a,e)?(s=u,a=ic(l),e=oc(l,e)):a=-1}}return i}function AM(t,e,n,r,i,o){let s=e[G],a=s.data[t+8],l=r==null?wc(a)&&Wf:r!=s&&(a.type&3)!==0,c=i&q.Host&&o===a,u=NM(a,s,n,l,c);return u!==null?lo(e,s,u,a):_n}function NM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let g=s[h];if(h<l&&n===g||h>=l&&g.type===n)return h}if(i){let h=s[l];if(h&&vr(h)&&h.type===n)return l}return null}function lo(t,e,n,r){let i=t[n],o=e.data;if(TM(i)){let s=i;s.resolving&&sI(oI(o[n]));let a=sc(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Tt(s.injectImpl):null,u=w_(t,r,q.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&CM(n,o[n],e)}finally{c!==null&&Tt(c),sc(a),s.resolving=!1,M_()}}return i}function PM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ms)?t[ms]:void 0;return typeof e=="number"?e>=0?e&R_:xM:e}function i0(t,e,n){let r=1<<t;return!!(n[e+(t>>O_)]&r)}function o0(t,e){return!(t&q.Self)&&!(t&q.Host&&e)}var ei=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return V_(this._tNode,this._lView,e,Cc(r),n)}};function xM(){return new ei(Mt(),ce())}function vo(t){return Is(()=>{let e=t.prototype.constructor,n=e[Ql]||qf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ql]||qf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function qf(t){return x0(t)?()=>{let e=qf(st(t));return e&&e()}:ti(t)}function RM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[O]&2048&&!(s[O]&512);){let a=B_(o,s,n,r|q.Self,_n);if(a!==_n)return a;let l=o.parent;if(!l){let c=s[o_];if(c){let u=c.get(n,_n,r);if(u!==_n)return u}l=H_(s),s=s[mo]}o=l}return i}function H_(t){let e=t[G],n=e.type;return n===2?e.declTNode:n===1?t[bt]:null}function s0(t,e=null,n=null,r){let i=j_(t,e,n,r);return i.resolveInjectorInitializers(),i}function j_(t,e=null,n=null,r,i=new Set){let o=[n||Vt,Ah(t)];return r=r||(typeof t=="object"?void 0:Dt(t)),new _s(o,e||Ph(),r||null,i)}var Zr=class Zr{static create(e,n){if(Array.isArray(e))return s0({name:""},n,e,"");{let r=e.name??"";return s0({name:r},e.parent,e.providers,r)}}};Zr.THROW_IF_NOT_FOUND=vs,Zr.NULL=new Jl,Zr.\u0275prov=b({token:Zr,providedIn:"any",factory:()=>E(G0)}),Zr.__NG_ELEMENT_ID__=-1;var $n=Zr;var OM=new w("");OM.__NG_ELEMENT_ID__=t=>{let e=Mt();if(e===null)throw new S(204,!1);if(e.type&2)return e.value;if(t&q.Optional)return null;throw new S(204,!1)};var kM="ngOriginalError";function Df(t){return t[kM]}var Tn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Df(e);for(;n&&Df(n);)n=Df(n);return n||null}},G_=new w("",{providedIn:"root",factory:()=>_(Tn).handleError.bind(void 0)}),jh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Kf=class extends jh{constructor(e){super(),this._lView=e}onDestroy(e){return g_(this._lView,e),()=>rM(this._lView,e)}};function FM(){return new Kf(ce())}function a0(t,e){return N0(t,e)}function LM(t){return N0(A0,t)}var wn=(a0.required=LM,a0);function VM(){return Gh(Mt(),ce())}function Gh(t,e){return new an(sn(t,e))}var an=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=VM;let t=e;return t})();var bn=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Xf=class extends we{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,i_()&&(this.destroyRef=_(jh,{optional:!0})??void 0,this.pendingTasks=_(bn,{optional:!0})??void 0)}emit(e){let n=Z(null);try{super.next(e)}finally{Z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ae&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},xe=Xf;function U_(t){return(t.flags&128)===128}var $_=new Map,BM=0;function HM(){return BM++}function jM(t){$_.set(t[Dc],t)}function GM(t){$_.delete(t[Dc])}var l0="__ngContext__";function ai(t,e){gr(e)?(t[l0]=e[Dc],jM(e)):t[l0]=e}function W_(t){return q_(t[Cs])}function z_(t){return q_(t[rn])}function q_(t){for(;t!==null&&!Kn(t);)t=t[rn];return t}var Qf;function K_(t){Qf=t}function UM(){if(Qf!==void 0)return Qf;if(typeof document<"u")return document;throw new S(210,!1)}var Uh=new w("",{providedIn:"root",factory:()=>$M}),$M="ng",$h=new w(""),et=new w("",{providedIn:"platform",factory:()=>"unknown"});var Wh=new w("",{providedIn:"root",factory:()=>UM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var WM="h",zM="b";var qM=()=>null;function zh(t,e,n=!1){return qM(t,e,n)}var X_=!1,KM=new w("",{providedIn:"root",factory:()=>X_});var Yf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${KS})`}};function qh(t){return t instanceof Yf?t.changingThisBreaksApplicationSecurity:t}function Q_(t){return t instanceof Function?t():t}var Wn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wn||{}),XM;function Kh(t,e){return XM(t,e)}function Yi(t,e,n,r,i){if(r!=null){let o,s=!1;Kn(r)?o=r:gr(r)&&(s=!0,r=r[qn]);let a=En(r);t===0&&n!==null?i==null?tC(e,n,a):lc(e,n,a,i||null,!0):t===1&&n!==null?lc(e,n,a,i||null,!0):t===2?cA(e,a,s):t===3&&e.destroyNode(a),o!=null&&dA(e,t,o,n,i)}}function QM(t,e){return t.createText(e)}function YM(t,e,n){t.setValue(e,n)}function Y_(t,e,n){return t.createElement(e,n)}function ZM(t,e){Z_(t,e),e[qn]=null,e[bt]=null}function JM(t,e,n,r,i,o){r[qn]=i,r[bt]=e,Ac(t,r,n,1,i,o)}function Z_(t,e){e[Un].changeDetectionScheduler?.notify(8),Ac(t,e,e[Be],2,null,null)}function eA(t){let e=t[Cs];if(!e)return wf(t[G],t);for(;e;){let n=null;if(gr(e))n=e[Cs];else{let r=e[at];r&&(n=r)}if(!n){for(;e&&!e[rn]&&e!==t;)gr(e)&&wf(e[G],e),e=e[lt];e===null&&(e=t),gr(e)&&wf(e[G],e),n=e&&e[rn]}e=n}}function tA(t,e,n,r){let i=at+r,o=n.length;r>0&&(n[i-1][rn]=e),r<o-at?(e[rn]=n[i],j0(n,at+r,e)):(n.push(e),e[rn]=null),e[lt]=n;let s=e[oo];s!==null&&n!==s&&J_(s,e);let a=e[so];a!==null&&a.insertView(t),Gf(e),e[O]|=128}function J_(t,e){let n=t[nc],r=e[lt];if(gr(r))t[O]|=rc.HasTransplantedViews;else{let i=r[lt][It];e[It]!==i&&(t[O]|=rc.HasTransplantedViews)}n===null?t[nc]=[e]:n.push(e)}function Xh(t,e){let n=t[nc],r=n.indexOf(e);n.splice(r,1)}function Ts(t,e){if(t.length<=at)return;let n=at+e,r=t[n];if(r){let i=r[oo];i!==null&&i!==t&&Xh(i,r),e>0&&(t[n-1][rn]=r[rn]);let o=Zl(t,at+e);ZM(r[G],r);let s=o[so];s!==null&&s.detachView(o[G]),r[lt]=null,r[rn]=null,r[O]&=-129}return r}function Mc(t,e){if(!(e[O]&256)){let n=e[Be];n.destroyNode&&Ac(t,e,n,3,null,null),eA(e)}}function wf(t,e){if(e[O]&256)return;let n=Z(null);try{e[O]&=-129,e[O]|=256,e[Bt]&&ul(e[Bt]),rA(t,e),nA(t,e),e[G].type===1&&e[Be].destroy();let r=e[oo];if(r!==null&&Kn(e[lt])){r!==e[lt]&&Xh(r,e);let i=e[so];i!==null&&i.detachView(t)}GM(e)}finally{Z(n)}}function nA(t,e){let n=t.cleanup,r=e[ec];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ec]=null);let i=e[pr];if(i!==null){e[pr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function rA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof si)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];yn(4,a,l);try{l.call(a)}finally{yn(5,a,l)}}else{yn(4,i,o);try{o.call(i)}finally{yn(5,i,o)}}}}}function eC(t,e,n){return iA(t,e.parent,n)}function iA(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[qn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Cn.None||o===Cn.Emulated)return null}return sn(r,n)}}function lc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function tC(t,e,n){t.appendChild(e,n)}function c0(t,e,n,r,i){r!==null?lc(t,e,n,r,i):tC(t,e,n)}function oA(t,e,n,r){t.removeChild(e,n,r)}function Qh(t,e){return t.parentNode(e)}function sA(t,e){return t.nextSibling(e)}function nC(t,e,n){return lA(t,e,n)}function aA(t,e,n){return t.type&40?sn(t,n):null}var lA=aA,u0;function Yh(t,e,n,r){let i=eC(t,r,e),o=e[Be],s=r.parent||e[bt],a=nC(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)c0(o,i,n[l],a,!1);else c0(o,i,n,a,!1);u0!==void 0&&u0(o,r,e,n,i)}function Kl(t,e){if(e!==null){let n=e.type;if(n&3)return sn(e,t);if(n&4)return Zf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Kl(t,r);{let i=t[e.index];return Kn(i)?Zf(-1,i):En(i)}}else{if(n&32)return Kh(e,t)()||En(t[e.index]);{let r=rC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ii(t[It]);return Kl(i,r)}else return Kl(t,e.next)}}}return null}function rC(t,e){if(e!==null){let r=t[It][bt],i=e.projection;return r.projection[i]}return null}function Zf(t,e){let n=at+t+1;if(n<e.length){let r=e[n],i=r[G].firstChild;if(i!==null)return Kl(r,i)}return e[ri]}function cA(t,e,n){let r=Qh(t,e);r&&oA(t,r,e,n)}function Zh(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&ai(En(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Zh(t,e,n.child,r,i,o,!1),Yi(e,t,i,a,o);else if(l&32){let c=Kh(n,r),u;for(;u=c();)Yi(e,t,i,u,o);Yi(e,t,i,a,o)}else l&16?iC(t,e,r,n,i,o):Yi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ac(t,e,n,r,i,o){Zh(n,r,t.firstChild,e,i,o,!1)}function uA(t,e,n){let r=e[Be],i=eC(t,n,e),o=n.parent||e[bt],s=nC(o,n,e);iC(r,0,e,n,i,s)}function iC(t,e,n,r,i,o){let s=n[It],l=s[bt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Yi(e,t,i,u,o)}else{let c=l,u=s[lt];U_(r)&&(c.flags|=128),Zh(t,e,c,u,i,o,!0)}}function dA(t,e,n,r,i){let o=n[ri],s=En(n);o!==s&&Yi(e,t,r,o,i);for(let a=at;a<n.length;a++){let l=n[a];Ac(l[G],l,t,e,r,o)}}function fA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Wn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wn.Important),t.setStyle(n,r,i,o))}}function hA(t,e,n){t.setAttribute(e,"style",n)}function oC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function sC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Ff(t,e,r),i!==null&&oC(t,e,i),o!==null&&hA(t,e,o)}var Tr={};function He(t=1){aC(ft(),ce(),di()+t,!1)}function aC(t,e,n,r){if(!r)if((e[O]&3)===3){let o=t.preOrderCheckHooks;o!==null&&zl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ql(e,o,0,n)}oi(n)}function V(t,e=q.Default){let n=ce();if(n===null)return E(t,e);let r=Mt();return V_(r,n,st(t),e)}function lC(t,e,n,r,i,o){let s=Z(null);try{let a=null;i&mr.SignalBased&&(a=e[r][Yt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&mr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):l_(e,a,r,o)}finally{Z(s)}}function pA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)oi(~i);else{let o=i,s=n[++r],a=n[++r];pM(s,o);let l=e[o];a(2,l)}}}finally{oi(-1)}}function Nc(t,e,n,r,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[qn]=i,d[O]=r|4|128|8|64,(c!==null||t&&t[O]&2048)&&(d[O]|=2048),h_(d),d[lt]=d[mo]=t,d[Ze]=n,d[Un]=s||t&&t[Un],d[Be]=a||t&&t[Be],d[io]=l||t&&t[io]||null,d[bt]=o,d[Dc]=HM(),d[ro]=u,d[o_]=c,d[It]=e.type==2?t[It]:d,d}function Ps(t,e,n,r,i){let o=t.data[e];if(o===null)o=gA(t,e,n,r,i),hM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=cM();o.injectorIndex=s===null?-1:s.injectorIndex}return As(o,!0),o}function gA(t,e,n,r,i){let o=__(),s=C_(),a=s?o:o&&o.parent,l=t.data[e]=CA(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function cC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function uC(t,e,n,r,i){let o=di(),s=r&2;try{oi(-1),s&&e.length>ct&&aC(t,e,ct,!1),yn(s?2:0,i),n(r,i)}finally{oi(o),yn(s?3:1,i)}}function dC(t,e,n){if(a_(e)){let r=Z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Z(r)}}}function fC(t,e,n){v_()&&(SA(t,e,n,sn(n,e)),(n.flags&64)===64&&yC(t,e,n))}function hC(t,e,n=sn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function pC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Jh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jh(t,e,n,r,i,o,s,a,l,c,u){let d=ct+r,f=d+i,h=mA(d,f),g=typeof c=="function"?c():c;return h[G]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function mA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Tr);return n}function vA(t,e,n,r){let o=r.get(KM,X_)||n===Cn.ShadowDom,s=t.selectRootElement(e,o);return yA(s),s}function yA(t){_A(t)}var _A=()=>null;function CA(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return y_()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function d0(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=mr.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?f0(r,n,c,a,l):f0(r,n,c,a)}return r}function f0(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function EA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,g=f?f.outputs:null;l=d0(0,d.inputs,u,l,h),c=d0(1,d.outputs,u,c,g);let y=l!==null&&s!==null&&!Mh(e)?kA(l,u,s):null;a.push(y)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function TA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function gC(t,e,n,r,i,o,s,a){let l=sn(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(ep(t,n,u,r,i),wc(e)&&DA(n,e.index)):e.type&3?(r=TA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function DA(t,e){let n=Er(e,t);n[O]&16||(n[O]|=64)}function mC(t,e,n,r){if(v_()){let i=r===null?null:{"":-1},o=MA(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&vC(t,e,n,s,i,a),i&&AA(n,r,i)}n.mergedAttrs=ys(n.mergedAttrs,n.attrs)}function vC(t,e,n,r,i,o){for(let c=0;c<r.length;c++)zf(ac(n,e),t,r[c].type);PA(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=cC(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=ys(n.mergedAttrs,u.hostAttrs),xA(t,n,e,l,u),NA(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}EA(t,n,o)}function wA(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;bA(s)!=a&&s.push(a),s.push(n,r,o)}}function bA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function SA(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;wc(n)&&RA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ac(n,e),ai(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],c=lo(e,t,a,n);if(ai(c,e),s!==null&&OA(e,a-i,c,l,n,s),vr(l)){let u=Er(n.index,e);u[Ze]=lo(e,t,a,n)}}}function yC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=gM();try{oi(o);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];Uf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&IA(l,c)}}finally{oi(-1),Uf(s)}}function IA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function MA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(z0(e,s.selectors,!1))if(r||(r=[]),vr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Jf(t,e,l)}else r.unshift(s),Jf(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Jf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function AA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new S(-301,!1);r.push(e[i],o)}}}function NA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vr(e)&&(n[""]=t)}}function PA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xA(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ti(i.type,!0)),s=new si(o,vr(i),V);t.blueprint[r]=s,n[r]=s,wA(t,e,r,cC(t,n,i.hostVars,Tr),i)}function RA(t,e,n){let r=sn(e,t),i=pC(n),o=t[Un].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Pc(t,Nc(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function OA(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];lC(r,n,l,c,u,d)}}function kA(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function _C(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function CC(t,e){let n=t.contentQueries;if(n!==null){let r=Z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];D_(o),a.contentQueries(2,e[s],s)}}}finally{Z(r)}}}function Pc(t,e){return t[Cs]?t[e0][rn]=e:t[Cs]=e,t[e0]=e,e}function eh(t,e,n){D_(0);let r=Z(null);try{e(t,n)}finally{Z(r)}}function FA(t){return t[ec]??=[]}function LA(t){return t.cleanup??=[]}function EC(t,e){let n=t[io],r=n?n.get(Tn,null):null;r&&r.handleError(e)}function ep(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=e[s],u=t.data[s];lC(u,c,r,a,l,i)}}function VA(t,e,n){let r=f_(e,t);YM(t[Be],r,n)}function BA(t,e){let n=Er(e,t),r=n[G];HA(r,n);let i=n[qn];i!==null&&n[ro]===null&&(n[ro]=zh(i,n[io])),tp(r,n,n[Ze])}function HA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function tp(t,e,n){kh(e);try{let r=t.viewQuery;r!==null&&eh(1,r,n);let i=t.template;i!==null&&uC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[so]?.finishViewCreation(t),t.staticContentQueries&&CC(t,e),t.staticViewQueries&&eh(2,t.viewQuery,n);let o=t.components;o!==null&&jA(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,Fh()}}function jA(t,e){for(let n=0;n<e.length;n++)BA(t,e[n])}function xc(t,e,n,r){let i=Z(null);try{let o=e.tView,a=t[O]&4096?4096:16,l=Nc(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[oo]=c;let u=t[so];return u!==null&&(l[so]=u.createEmbeddedView(o)),tp(o,l,n),l}finally{Z(i)}}function TC(t,e){let n=at+e;if(n<t.length)return t[n]}function co(t,e){return!e||e.firstChild===null||U_(t)}function xs(t,e,n,r=!0){let i=e[G];if(tA(i,e,t,n),r){let s=Zf(n,t),a=e[Be],l=Qh(a,t[ri]);l!==null&&JM(i,t[bt],a,e,l,s)}let o=e[ro];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function DC(t,e){let n=Ts(t,e);return n!==void 0&&Mc(n[G],n),n}function cc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(En(o)),Kn(o)&&GA(o,r);let s=n.type;if(s&8)cc(t,e,n.child,r);else if(s&32){let a=Kh(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=rC(e,n);if(Array.isArray(a))r.push(...a);else{let l=ii(e[It]);cc(l[G],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function GA(t,e){for(let n=at;n<t.length;n++){let r=t[n],i=r[G].firstChild;i!==null&&cc(r[G],r,i,e)}t[ri]!==t[qn]&&e.push(t[ri])}var wC=[];function UA(t){return t[Bt]??$A(t)}function $A(t){let e=wC.pop()??Object.create(zA);return e.lView=t,e}function WA(t){t.lView[Bt]!==t&&(t.lView=null,wC.push(t))}var zA=z(D({},Oi),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{bc(t.lView)},consumerOnSignalRead(){this.lView[Bt]=this}});function qA(t){let e=t[Bt]??Object.create(KA);return e.lView=t,e}var KA=z(D({},Oi),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ii(t.lView);for(;e&&!bC(e[G]);)e=ii(e);e&&p_(e)},consumerOnSignalRead(){this.lView[Bt]=this}});function bC(t){return t.type!==2}var XA=100;function SC(t,e=!0,n=0){let r=t[Un],i=r.rendererFactory,o=!1;o||i.begin?.();try{QA(t,n)}catch(s){throw e&&EC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function QA(t,e){let n=T_();try{n0(!0),th(t,e);let r=0;for(;Es(t);){if(r===XA)throw new S(103,!1);r++,th(t,1)}}finally{n0(n)}}function YA(t,e,n,r){let i=e[O];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Un].inlineEffectRunner?.flush(),kh(e);let a=!0,l=null,c=null;o||(bC(t)?(c=UA(e),l=ds(c)):cy()===null?(a=!1,c=qA(e),l=ds(c)):e[Bt]&&(ul(e[Bt]),e[Bt]=null));try{h_(e),dM(t.bindingStartIndex),n!==null&&uC(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&zl(e,h,null)}else{let h=t.preOrderHooks;h!==null&&ql(e,h,0,null),Cf(e,0)}if(s||ZA(e),IC(e,0),t.contentQueries!==null&&CC(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&zl(e,h)}else{let h=t.contentHooks;h!==null&&ql(e,h,1),Cf(e,1)}pA(t,e);let d=t.components;d!==null&&AC(e,d,0);let f=t.viewQuery;if(f!==null&&eh(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&zl(e,h)}else{let h=t.viewHooks;h!==null&&ql(e,h,2),Cf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Wl]){for(let h of e[Wl])h();e[Wl]=null}o||(e[O]&=-73)}catch(u){throw o||bc(e),u}finally{c!==null&&(ll(c,l),a&&WA(c)),Fh()}}function IC(t,e){for(let n=W_(t);n!==null;n=z_(n))for(let r=at;r<n.length;r++){let i=n[r];MC(i,e)}}function ZA(t){for(let e=W_(t);e!==null;e=z_(e)){if(!(e[O]&rc.HasTransplantedViews))continue;let n=e[nc];for(let r=0;r<n.length;r++){let i=n[r];p_(i)}}}function JA(t,e,n){let r=Er(e,t);MC(r,n)}function MC(t,e){Oh(t)&&th(t,e)}function th(t,e){let r=t[G],i=t[O],o=t[Bt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&cl(o)),s||=!1,o&&(o.dirty=!1),t[O]&=-9217,s)YA(r,t,r.template,t[Ze]);else if(i&8192){IC(t,1);let a=r.components;a!==null&&AC(t,a,1)}}function AC(t,e,n){for(let r=0;r<e.length;r++)JA(t,e[r],n)}function np(t,e){let n=T_()?64:1088;for(t[Un].changeDetectionScheduler?.notify(e);t;){t[O]|=n;let r=ii(t);if(Hf(t)&&!r)return t;t=r}return null}var uo=class{get rootNodes(){let e=this._lView,n=e[G];return cc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ze]}set context(e){this._lView[Ze]=e}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(Kn(e)){let n=e[tc],r=n?n.indexOf(this):-1;r>-1&&(Ts(e,r),Zl(n,r))}this._attachedToViewContainer=!1}Mc(this._lView[G],this._lView)}onDestroy(e){g_(this._lView,e)}markForCheck(){np(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){Gf(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,SC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Hf(this._lView),n=this._lView[oo];n!==null&&!e&&Xh(n,this._lView),Z_(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e;let n=Hf(this._lView),r=this._lView[oo];r!==null&&!n&&J_(r,this._lView),Gf(this._lView)}};var l7=new RegExp(`^(\\d+)*(${zM}|${WM})*(.*)`);var eN=()=>null;function fo(t,e){return eN(t,e)}var Ds=class{},rp=new w("",{providedIn:"root",factory:()=>!1});var NC=new w(""),nh=class{},uc=class{};function tN(t){let e=Error(`No component factory found for ${Dt(t)}.`);return e[nN]=t,e}var nN="ngComponent";var rh=class{resolveComponentFactory(e){throw tN(e)}},lp=class lp{};lp.NULL=new rh;var ho=lp,po=class{},Sn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>rN();let t=e;return t})();function rN(){let t=ce(),e=Mt(),n=Er(e.index,t);return(gr(n)?n:t)[Be]}var iN=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var h0=new Set;function Xn(t){h0.has(t)||(h0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function PC(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Jr.requestAnimationFrame=="function"&&Jr.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function p0(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function g0(...t){}var le=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,aN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,oN,g0,g0);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},oN={};function ip(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sN(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{PC(()=>{t.callbackScheduled=!1,ih(t),t.isCheckStableRunning=!0,ip(t),t.isCheckStableRunning=!1})}),ih(t))}function aN(t){let e=()=>{sN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(lN(a))return n.invokeTask(i,o,s,a);try{return m0(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),v0(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return m0(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!cN(a)&&e(),v0(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,ih(t),ip(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function ih(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function m0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function v0(t){t._nesting--,ip(t)}var oh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function lN(t){return xC(t,"__ignore_ng_zone__")}function cN(t){return xC(t,"__scheduler_tick__")}function xC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var RC=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function sh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=$y(i,a);else if(o==2){let l=a,c=e[++s];r=$y(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var dc=class extends ho{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ni(e);return new ws(n,this.ngModule)}};function y0(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:mr.None;e?n.push({propName:s,templateName:r,isSignal:(a&mr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function uN(t){let e=t.toLowerCase();return e==="svg"?ZI:e==="math"?JI:null}var ws=class extends uc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=y0(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return y0(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=xI(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Z(null);try{i=i||this.ngModule;let s=i instanceof wt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new $f(e,s):e,l=a.get(po,null);if(l===null)throw new S(407,!1);let c=a.get(iN,null),u=a.get(RC,null),d=a.get(Ds,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=r?vA(h,r,this.componentDef.encapsulation,a):Y_(h,g,uN(g)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let T=null;y!==null&&(T=zh(y,a,!0));let x=Jh(0,null,null,1,0,null,null,null,null,null,null),I=Nc(null,x,null,v,null,null,f,h,a,null,T);kh(I);let j,Se;try{let Pe=this.componentDef,yt,lr=null;Pe.findHostDirectiveDefs?(yt=[],lr=new Map,Pe.findHostDirectiveDefs(Pe,yt,lr),yt.push(Pe)):yt=[Pe];let Vd=dN(I,y),Bd=fN(Vd,y,Pe,yt,I,f,h);Se=Rh(x,ct),y&&gN(h,Pe,y,r),n!==void 0&&mN(Se,this.ngContentSelectors,n),j=pN(Bd,Pe,yt,lr,I,[vN]),tp(x,I,null)}finally{Fh()}return new ah(this.componentType,j,Gh(Se,I),I,Se)}finally{Z(o)}}},ah=class extends nh{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new uo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;ep(o[G],o,i,e,n),this.previousInputValues.set(e,n);let s=Er(this._tNode.index,o);np(s,1)}}get injector(){return new ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function dN(t,e){let n=t[G],r=ct;return t[r]=e,Ps(n,r,2,"#host",null)}function fN(t,e,n,r,i,o,s){let a=i[G];hN(r,t,e,s);let l=null;e!==null&&(l=zh(e,i[io]));let c=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Nc(i,pC(n),null,u,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&Jf(a,t,r.length-1),Pc(i,d),i[t.index]=d}function hN(t,e,n,r){for(let i of t)e.mergedAttrs=ys(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(sh(e,e.mergedAttrs,!0),n!==null&&sC(r,n,e))}function pN(t,e,n,r,i,o){let s=Mt(),a=i[G],l=sn(s,i);vC(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=lo(i,a,d,s);ai(f,i)}yC(a,i,s),l&&ai(l,i);let c=lo(i,a,s.directiveStart+s.componentOffset,s);if(t[Ze]=i[Ze]=c,o!==null)for(let u of o)u(c,e);return dC(a,s,i),c}function gN(t,e,n,r){if(r)Ff(t,n,["ng-version","18.1.0"]);else{let{attrs:i,classes:o}=RI(e.selectors[0]);i&&Ff(t,n,i),o&&o.length>0&&oC(t,n,o.join(" "))}}function mN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function vN(){let t=Mt();Bh(ce()[G],t)}var Rc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yN;let t=e;return t})();function yN(){let t=Mt();return CN(t,ce())}var _N=Rc,OC=class extends _N{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Gh(this._hostTNode,this._hostLView)}get injector(){return new ei(this._hostTNode,this._hostLView)}get parentInjector(){let e=Hh(this._hostTNode,this._hostLView);if(x_(e)){let n=oc(e,this._hostLView),r=ic(e),i=n[G].data[r+8];return new ei(i,n)}else return new ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=_0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-at}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=fo(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,co(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!KI(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?e:new ws(ni(e)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let y=(s?c:this.parentInjector).get(wt,null);y&&(o=y)}let u=ni(l.componentType??{}),d=fo(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,co(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(tM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[lt],c=new OC(l,l[bt],l[lt]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return xs(s,i,o,r),e.attachToViewContainerRef(),j0(bf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=_0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ts(this._lContainer,n);r&&(Zl(bf(this._lContainer),n),Mc(r[G],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ts(this._lContainer,n);return r&&Zl(bf(this._lContainer),n)!=null?new uo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function _0(t){return t[tc]}function bf(t){return t[tc]||(t[tc]=[])}function CN(t,e){let n,r=e[t.index];return Kn(r)?n=r:(n=_C(r,e,null,t),e[t.index]=n,Pc(e,n)),TN(n,e,t,r),new OC(n,t,e)}function EN(t,e){let n=t[Be],r=n.createComment(""),i=sn(e,t),o=Qh(n,i);return lc(n,o,r,sA(n,i),!1),r}var TN=bN,DN=()=>!1;function wN(t,e,n){return DN(t,e,n)}function bN(t,e,n,r){if(t[ri])return;let i;n.type&8?i=En(r):i=EN(e,n),t[ri]=i}function SN(t){return typeof t=="function"&&t[Yt]!==void 0}function fi(t,e){Xn("NgSignals");let n=Ey(t),r=n[Yt];return e?.equal&&(r.equal=e.equal),n.set=i=>hl(r,i),n.update=i=>Ty(r,i),n.asReadonly=IN.bind(n),n}function IN(){let t=this[Yt];if(t.readonlyFn===void 0){let e=()=>this();e[Yt]=t,t.readonlyFn=e}return t.readonlyFn}function kC(t){return SN(t)&&typeof t.set=="function"}function MN(t){return Object.getPrototypeOf(t.prototype).constructor}function In(t){let e=MN(t.type),n=!0,r=[t];for(;e;){let i;if(vr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Gl(t.inputs),s.inputTransforms=Gl(t.inputTransforms),s.declaredInputs=Gl(t.declaredInputs),s.outputs=Gl(t.outputs);let a=i.hostBindings;a&&RN(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&PN(t,l),c&&xN(t,c),AN(t,i),YS(t.outputs,i.outputs),vr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===In&&(n=!1)}}e=Object.getPrototypeOf(e)}NN(r)}function AN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function NN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ys(i.hostAttrs,n=ys(n,i.hostAttrs))}}function Gl(t){return t===eo?{}:t===Vt?[]:t}function PN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function xN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function RN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var yr=class{},bs=class{};var lh=class extends yr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dc(this);let i=Y0(e);this._bootstrapComponents=Q_(i.bootstrap),this._r3Injector=j_(e,n,[{provide:yr,useValue:this},{provide:ho,useValue:this.componentFactoryResolver},...r],Dt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ch=class extends bs{constructor(e){super(),this.moduleType=e}create(e){return new lh(this.moduleType,e,[])}};var fc=class extends yr{constructor(e){super(),this.componentFactoryResolver=new dc(this),this.instance=null;let n=new _s([...e.providers,{provide:yr,useValue:this},{provide:ho,useValue:this.componentFactoryResolver}],e.parent||Ph(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function op(t,e,n=null){return new fc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function FC(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ON(t,e,n){return t[e]=n}function _r(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function kN(t,e,n,r){let i=_r(t,e,n);return _r(t,e+1,r)||i}function FN(t){return(t.flags&32)===32}function LN(t,e,n,r,i,o,s,a,l){let c=e.consts,u=Ps(e,t,4,s||null,a||null);mC(e,n,u,ao(c,l)),Bh(e,u);let d=u.tView=Jh(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function hc(t,e,n,r,i,o,s,a,l,c){let u=n+ct,d=e.firstCreatePass?LN(u,e,t,r,i,o,s,a,l):e.data[u];As(d,!1);let f=VN(e,t,d,n);Lh()&&Yh(e,t,f,d),ai(f,t);let h=_C(f,t,f,d);return t[u]=h,Pc(t,h),wN(h,d,t),xh(d)&&fC(e,t,d),l!=null&&hC(t,d,c),d}function Qn(t,e,n,r,i,o,s,a){let l=ce(),c=ft(),u=ao(c.consts,o);return hc(l,c,t,e,n,r,i,u,s,a),Qn}var VN=BN;function BN(t,e,n,r){return Vh(!0),e[Be].createComment("")}function HN(t,e,n,r){return _r(t,Ns(),n)?e+L0(n)+r:Tr}function Ul(t,e){return t<<17|e<<2}function li(t){return t>>17&32767}function jN(t){return(t&2)==2}function GN(t,e){return t&131071|e<<17}function uh(t){return t|2}function go(t){return(t&131068)>>2}function Sf(t,e){return t&-131069|e<<2}function UN(t){return(t&1)===1}function dh(t){return t|1}function $N(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=li(s),l=go(s);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Ms(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=li(t[a+1]);t[r+1]=Ul(f,a),f!==0&&(t[f+1]=Sf(t[f+1],r)),t[a+1]=GN(t[a+1],r)}else t[r+1]=Ul(a,0),a!==0&&(t[a+1]=Sf(t[a+1],r)),a=r;else t[r+1]=Ul(l,0),a===0?a=r:t[l+1]=Sf(t[l+1],r),l=r;c&&(t[r+1]=uh(t[r+1])),C0(t,u,r,!0),C0(t,u,r,!1),WN(e,u,t,r,o),s=Ul(a,l),o?e.classBindings=s:e.styleBindings=s}function WN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ms(o,e)>=0&&(n[r+1]=dh(n[r+1]))}function C0(t,e,n,r){let i=t[n+1],o=e===null,s=r?li(i):go(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];zN(l,e)&&(a=!0,t[s+1]=r?dh(c):uh(c)),s=r?li(c):go(c)}a&&(t[n+1]=r?uh(i):dh(i))}function zN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ms(t,e)>=0:!1}function Mn(t,e,n){let r=ce(),i=Ns();if(_r(r,i,e)){let o=ft(),s=A_();gC(o,s,r,t,e,r[Be],n,!1)}return Mn}function E0(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";ep(t,n,o[s],s,r)}function Oc(t,e){return qN(t,e,null,!0),Oc}function qN(t,e,n,r){let i=ce(),o=ft(),s=fM(2);if(o.firstUpdatePass&&XN(o,t,s,r),e!==Tr&&_r(i,s,e)){let a=o.data[di()];eP(o,a,i,i[Be],t,i[s+1]=tP(e,n),r,s)}}function KN(t,e){return e>=t.expandoStartIndex}function XN(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[di()],s=KN(t,n);nP(o,r)&&e===null&&!s&&(e=!1),e=QN(i,o,e,r),$N(i,o,e,n,s,r)}}function QN(t,e,n,r){let i=mM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=If(null,t,e,n,r),n=Ss(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=If(i,t,e,n,r),o===null){let l=YN(t,e,r);l!==void 0&&Array.isArray(l)&&(l=If(null,t,e,l[1],r),l=Ss(l,e.attrs,r),ZN(t,e,r,l))}else o=JN(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function YN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(go(r)!==0)return t[li(r)]}function ZN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[li(i)]=r}function JN(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ss(r,s,n)}return Ss(r,e.attrs,n)}function If(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ss(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ss(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yI(t,s,n?!0:e[++o]))}return t===void 0?null:t}function eP(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=UN(c)?T0(l,e,n,i,go(c),s):void 0;if(!pc(u)){pc(o)||jN(c)&&(o=T0(l,null,n,i,a,s));let d=f_(di(),n);fA(r,s,d,i,o)}}function T0(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===Tr&&(f=d?Vt:void 0);let h=d?yf(f,r):u===r?f:void 0;if(c&&!pc(h)&&(h=yf(l,r)),pc(h)&&(a=h,s))return a;let g=t[i+1];i=s?li(g):go(g)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=yf(l,r))}return a}function pc(t){return t!==void 0}function tP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Dt(qh(t)))),t}function nP(t,e){return(t.flags&(e?8:16))!==0}var fh=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Mf(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function rP(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=t.at(o),u=e[o],d=Mf(o,c,o,u,n);if(d!==0){d<0&&t.updateValue(o,u),o++;continue}let f=t.at(s),h=e[l],g=Mf(s,f,l,h,n);if(g!==0){g<0&&t.updateValue(s,h),s--,l--;continue}let y=n(o,c),v=n(s,f),T=n(o,u);if(Object.is(T,v)){let x=n(l,h);Object.is(x,y)?(t.swap(o,s),t.updateValue(s,h),l--,s--):t.move(s,o),t.updateValue(o,u),o++;continue}if(r??=new gc,i??=w0(t,o,s,n),hh(t,r,o,T))t.updateValue(o,u),o++,s++;else if(i.has(T))r.set(y,t.detach(o)),s--;else{let x=t.create(o,e[o]);t.attach(o,x),o++,s++}}for(;o<=l;)D0(t,r,n,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=t.at(o),d=c.value,f=Mf(o,u,o,d,n);if(f!==0)f<0&&t.updateValue(o,d),o++,c=l.next();else{r??=new gc,i??=w0(t,o,s,n);let h=n(o,d);if(hh(t,r,o,h))t.updateValue(o,d),o++,s++,c=l.next();else if(!i.has(h))t.attach(o,t.create(o,d)),o++,s++,c=l.next();else{let g=n(o,u);r.set(g,t.detach(o)),s--}}}for(;!c.done;)D0(t,r,n,t.length,c.value),c=l.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(l=>{t.destroy(l)})}function hh(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function D0(t,e,n,r,i){if(hh(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function w0(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var gc=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Yn(t,e){Xn("NgControlFlow");let n=ce(),r=Ns(),i=n[r]!==Tr?n[r]:-1,o=i!==-1?mc(n,ct+i):void 0,s=0;if(_r(n,r,t)){let a=Z(null);try{if(o!==void 0&&DC(o,s),t!==-1){let l=ct+t,c=mc(n,l),u=vh(n[G],l),d=fo(c,u.tView.ssrId),f=xc(n,u,e,{dehydratedView:d});xs(c,f,s,co(u,d))}}finally{Z(a)}}else if(o!==void 0){let a=TC(o,s);a!==void 0&&(a[Ze]=e)}}var ph=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-at}};function LC(t,e){return e}var gh=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function VC(t,e,n,r,i,o,s,a,l,c,u,d,f){Xn("NgControlFlow");let h=ce(),g=ft(),y=l!==void 0,v=ce(),T=a?s.bind(v[It][Ze]):s,x=new gh(y,T);v[ct+t]=x,hc(h,g,t+1,e,n,r,i,ao(g.consts,o)),y&&hc(h,g,t+2,l,c,u,d,ao(g.consts,f))}var mh=class extends fh{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-at}at(e){return this.getLView(e)[Ze].$implicit}attach(e,n){let r=n[ro];this.needsIndexUpdate||=e!==this.length,xs(this.lContainer,n,e,co(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,iP(this.lContainer,e)}create(e,n){let r=fo(this.lContainer,this.templateTNode.tView.ssrId),i=xc(this.hostLView,this.templateTNode,new ph(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Mc(e[G],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ze].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ze].$index=e}getLView(e){return oP(this.lContainer,e)}};function BC(t){let e=Z(null),n=di();try{let r=ce(),i=r[G],o=r[n],s=n+1,a=mc(r,s);if(o.liveCollection===void 0){let c=vh(i,s);o.liveCollection=new mh(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(rP(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=Ns(),u=l.length===0;if(_r(r,c,u)){let d=n+2,f=mc(r,d);if(u){let h=vh(i,d),g=fo(f,h.tView.ssrId),y=xc(r,h,void 0,{dehydratedView:g});xs(f,y,0,co(h,g))}else DC(f,0)}}}finally{Z(e)}}function mc(t,e){return t[e]}function iP(t,e){return Ts(t,e)}function oP(t,e){return TC(t,e)}function vh(t,e){return Rh(t,e)}function sP(t,e,n,r,i,o){let s=e.consts,a=ao(s,i),l=Ps(e,t,2,r,a);return mC(e,n,l,ao(s,o)),l.attrs!==null&&sh(l,l.attrs,!1),l.mergedAttrs!==null&&sh(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function ye(t,e,n,r){let i=ce(),o=ft(),s=ct+t,a=i[Be],l=o.firstCreatePass?sP(s,o,i,e,n,r):o.data[s],c=aP(o,i,l,a,e,t);i[s]=c;let u=xh(l);return As(l,!0),sC(a,c,l),!FN(l)&&Lh()&&Yh(o,i,c,l),iM()===0&&ai(c,i),oM(),u&&(fC(o,i,l),dC(o,l,i)),r!==null&&hC(i,l),ye}function fe(){let t=Mt();C_()?E_():(t=t.parent,As(t,!1));let e=t;aM(e)&&lM(),sM();let n=ft();return n.firstCreatePass&&(Bh(n,t),a_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&DM(e)&&E0(n,e,ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&wM(e)&&E0(n,e,ce(),e.stylesWithoutHost,!1),fe}function An(t,e,n,r){return ye(t,e,n,r),fe(),An}var aP=(t,e,n,r,i,o)=>(Vh(!0),Y_(r,i,_M()));function HC(){return ce()}var Yr=void 0;function lP(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var cP=["en",[["a","p"],["AM","PM"],Yr],[["AM","PM"],Yr,Yr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yr,"{1} 'at' {0}",Yr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",lP],Af={};function jt(t){let e=uP(t),n=b0(e);if(n)return n;let r=e.split("-")[0];if(n=b0(r),n)return n;if(r==="en")return cP;throw new S(701,!1)}function b0(t){return t in Af||(Af[t]=Jr.ng&&Jr.ng.common&&Jr.ng.common.locales&&Jr.ng.common.locales[t]),Af[t]}var Re=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Re||{});function uP(t){return t.toLowerCase().replace(/_/g,"-")}var vc="en-US";var dP=vc;function fP(t){typeof t=="string"&&(dP=t.toLowerCase().replace(/_/g,"-"))}var hP=(t,e,n)=>{};function ht(t,e,n,r){let i=ce(),o=ft(),s=Mt();return jC(o,i,i[Be],s,t,e,r),ht}function pP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ec],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function jC(t,e,n,r,i,o,s){let a=xh(r),c=t.firstCreatePass&&LA(t),u=e[Ze],d=FA(e),f=!0;if(r.type&3||s){let y=sn(r,e),v=s?s(y):y,T=d.length,x=s?j=>s(En(j[r.index])):r.index,I=null;if(!s&&a&&(I=pP(t,e,i,r.index)),I!==null){let j=I.__ngLastListenerFn__||I;j.__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,f=!1}else{o=I0(r,e,u,o),hP(y,i,o);let j=n.listen(v,i,o);d.push(o,j),c&&c.push(i,x,T,T+1)}}else o=I0(r,e,u,o);let h=r.outputs,g;if(f&&h!==null&&(g=h[i])){let y=g.length;if(y)for(let v=0;v<y;v+=2){let T=g[v],x=g[v+1],Se=e[T][x].subscribe(o),Pe=d.length;d.push(o,Se),c&&c.push(i,r.index,Pe,-(Pe+1))}}}function S0(t,e,n,r){let i=Z(null);try{return yn(6,e,n),n(r)!==!1}catch(o){return EC(t,o),!1}finally{yn(7,e,n),Z(i)}}function I0(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Er(t.index,e):e;np(s,5);let a=S0(e,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=S0(e,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Gt(t=1){return yM(t)}function gP(t,e){let n=null,r=II(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?z0(t,o,!0):NI(r,o))return i}return n}function GC(t){let e=ce()[It][bt];if(!e.projection){let n=t?t.length:1,r=e.projection=mI(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?gP(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function UC(t,e=0,n,r,i,o){let s=ce(),a=ft(),l=r?t+1:null;l!==null&&hc(s,a,l,r,i,o,null,n);let c=Ps(a,ct+t,16,null,n||null);c.projection===null&&(c.projection=e),E_();let d=!s[ro]||y_();s[It][bt].projection[c.projection]===null&&l!==null?mP(s,a,l):d&&(c.flags&32)!==32&&uA(a,s,c)}function mP(t,e,n){let r=ct+n,i=e.data[r],o=t[r],s=fo(o,i.tView.ssrId),a=xc(t,i,void 0,{dehydratedView:s});xs(o,a,0,co(i,s))}function vP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function je(t,e=""){let n=ce(),r=ft(),i=t+ct,o=r.firstCreatePass?Ps(r,i,1,e,null):r.data[i],s=yP(r,n,o,e,t);n[i]=s,Lh()&&Yh(r,n,s,o),As(o,!1)}var yP=(t,e,n,r,i)=>(Vh(!0),QM(e[Be],r));function yo(t){return Rs("",t,""),yo}function Rs(t,e,n){let r=ce(),i=HN(r,t,e,n);return i!==Tr&&VA(r,di(),i),Rs}function _o(t,e,n){kC(e)&&(e=e());let r=ce(),i=Ns();if(_r(r,i,e)){let o=ft(),s=A_();gC(o,s,r,t,e,r[Be],n,!1)}return _o}function Os(t,e){let n=kC(t);return n&&t.set(e),n}function Co(t,e){let n=ce(),r=ft(),i=Mt();return jC(r,n,n[Be],i,t,e),Co}function _P(t,e,n){let r=ft();if(r.firstCreatePass){let i=vr(t);yh(n,r.data,r.blueprint,i,!0),yh(e,r.data,r.blueprint,i,!1)}}function yh(t,e,n,r,i){if(t=st(t),Array.isArray(t))for(let o=0;o<t.length;o++)yh(t[o],e,n,r,i);else{let o=ft(),s=ce(),a=Mt(),l=no(t)?t:st(t.provide),c=r_(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(no(t)||!t.multi){let h=new si(c,i,V),g=Pf(l,e,i?u:u+f,d);g===-1?(zf(ac(a,s),o,l),Nf(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[g]=h,s[g]=h)}else{let h=Pf(l,e,u+f,d),g=Pf(l,e,u,u+f),y=h>=0&&n[h],v=g>=0&&n[g];if(i&&!v||!i&&!y){zf(ac(a,s),o,l);let T=TP(i?EP:CP,n.length,i,r,c);!i&&v&&(n[g].providerFactory=T),Nf(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else{let T=$C(n[i?g:h],c,!i&&r);Nf(o,t,h>-1?h:g,T)}!i&&r&&v&&n[g].componentProviders++}}}function Nf(t,e,n,r){let i=no(e),o=HI(e);if(i||o){let l=(o?st(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function $C(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Pf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function CP(t,e,n,r){return _h(this.multi,[])}function EP(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=lo(n,n[G],this.providerFactory.index,r);o=a.slice(0,s),_h(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],_h(i,o);return o}function _h(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function TP(t,e,n,r,i){let o=new si(t,n,V);return o.multi=[],o.index=e,o.componentProviders=0,$C(o,i,r&&!n),o}function Dr(t,e=[]){return n=>{n.providersResolver=(r,i)=>_P(r,i?i(t):t,e)}}var DP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=e_(!1,r.type),o=i.length>0?op([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(E(wt))});let t=e;return t})();function Ut(t){Xn("NgStandalone"),t.getStandaloneInjector=e=>e.get(DP).getOrCreateStandaloneInjector(t)}function wP(t,e){let n=t[e];return n===Tr?void 0:n}function bP(t,e,n,r,i,o,s){let a=e+n;return kN(t,a,i,o)?ON(t,a+2,s?r.call(s,i,o):r(i,o)):wP(t,a+2)}function WC(t,e){let n=ft(),r,i=t+ct;n.firstCreatePass?(r=SP(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ti(r.type,!0)),s,a=Tt(V);try{let l=sc(!1),c=o();return sc(l),vP(n,ce(),i,c),c}finally{Tt(a)}}function SP(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function zC(t,e,n,r){let i=t+ct,o=ce(),s=eM(o,i);return IP(o,i)?bP(o,uM(),e,s.transform,n,r,s):s.transform(n,r)}function IP(t,e){return t[G].data[e].pure}var zn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},qC=new zn("18.1.0");var kc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var KC=new w("");function hi(t){return!!t&&typeof t.then=="function"}function XC(t){return!!t&&typeof t.subscribe=="function"}var QC=new w(""),YC=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=_(QC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(hi(s))r.push(s);else if(XC(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fc=new w("");function MP(){Cy(()=>{throw new S(600,!1)})}function AP(t){return t.isBoundToModule}var NP=10;function PP(t,e,n){try{let r=n();return hi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var pi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(G_),this.afterRenderEffectManager=_(RC),this.zonelessEnabled=_(rp),this.externalTestViews=new Set,this.beforeRender=new we,this.afterTick=new we,this.componentTypes=[],this.components=[],this.isStable=_(bn).hasPendingTasks.pipe(A(r=>!r)),this._injector=_(wt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof uc;if(!this._injector.get(YC).done){let h=!o&&Q0(r),g=!1;throw new S(405,g)}let a;o?a=r:a=this._injector.get(ho).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=AP(a)?void 0:this._injector.get(yr),c=i||a.selector,u=a.create($n.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(KC,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),xf(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new S(101,!1);let i=Z(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Z(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(po,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<NP;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)xP(l,c,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>Es(l))&&(s.execute(),!this.allViews.some(({_lView:l})=>Es(l))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;xf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Fc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>xf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xP(t,e,n,r){if(!n&&!Es(t))return;SC(t,e,n&&!r?0:1)}var Ch=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},sp=(()=>{let e=class e{compileModuleSync(r){return new ch(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Y0(r),s=Q_(o.declarations).reduce((a,l)=>{let c=ni(l);return c&&a.push(new ws(c)),a},[]);return new Ch(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var RP=(()=>{let e=class e{constructor(){this.zone=_(le),this.changeDetectionScheduler=_(Ds),this.applicationRef=_(pi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OP=new w("",{factory:()=>!1});function ZC({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new le(eE()),[{provide:le,useFactory:t},{provide:to,multi:!0,useFactory:()=>{let n=_(RP,{optional:!0});return()=>n.initialize()}},{provide:to,multi:!0,useFactory:()=>{let n=_(FP);return()=>{n.initialize()}}},{provide:G_,useFactory:kP},e===!0?{provide:NC,useValue:!0}:[]]}function kP(){let t=_(le),e=_(Tn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function JC(t){let e=t?.ignoreChangesOutsideZone,n=ZC({ngZoneFactory:()=>{let r=eE(t);return r.shouldCoalesceEventChangeDetection&&Xn("NgZone_CoalesceEvent"),new le(r)},ignoreChangesOutsideZone:e});return ui([{provide:OP,useValue:!0},{provide:rp,useValue:!1},n])}function eE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var FP=(()=>{let e=class e{constructor(){this.subscription=new Ae,this.initialized=!1,this.zone=_(le),this.pendingTasks=_(bn)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{le.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var LP=(()=>{let e=class e{constructor(){this.appRef=_(pi),this.taskService=_(bn),this.ngZone=_(le),this.zonelessEnabled=_(rp),this.disableScheduling=_(NC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ae,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof oh||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?p0:PC;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&le.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,p0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function VP(){return typeof $localize<"u"&&$localize.locale||vc}var Lc=new w("",{providedIn:"root",factory:()=>_(Lc,q.Optional|q.SkipSelf)||VP()});var tE=new w("");var Xl=null;function BP(t=[],e){return $n.create({name:e,providers:[{provide:Tc,useValue:"platform"},{provide:tE,useValue:new Set([()=>Xl=null])},...t]})}function HP(t=[]){if(Xl)return Xl;let e=BP(t);return Xl=e,MP(),jP(e),e}function jP(t){t.get($h,null)?.forEach(n=>n())}function ap(){return!1}var wr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=GP;let t=e;return t})();function GP(t){return UP(Mt(),ce(),(t&16)===16)}function UP(t,e,n){if(wc(t)&&!n){let r=Er(t.index,e);return new uo(r,r)}else if(t.type&175){let r=e[It];return new uo(r,e)}return null}var Eh=class{constructor(){}supports(e){return e instanceof Map||FC(e)}create(){return new Th}},Th=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||FC(e)))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Dh(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Dh=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function M0(){return new Vc([new Eh])}var Vc=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||M0()),deps:[[e,new Ec,new ci]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i)return i;throw new S(901,!1)}};e.\u0275prov=b({token:e,providedIn:"root",factory:M0});let t=e;return t})();function nE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=HP(r),o=[ZC({}),{provide:Ds,useExisting:LP},...n||[]],a=new fc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(le);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(Tn,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:h=>{c.handleError(h)}})});let d=()=>a.destroy(),f=i.get(tE);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),PP(c,l,()=>{let h=a.get(YC);return h.runInitializers(),h.donePromise.then(()=>{let g=a.get(Lc,vc);fP(g||vc);let y=a.get(pi);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}var rE=new w("");function Bc(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ks(t,e){Xn("NgSignals");let n=vy(t);return e?.equal&&(n[Yt].equal=e.equal),n}function Zn(t){let e=Z(null);try{return t()}finally{Z(e)}}var $P=new w("",{providedIn:"root",factory:()=>_(WP)}),WP=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new wh});let t=e;return t})(),wh=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=_(bn),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},bh=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=Dy(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Tn,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Nn(t,e){Xn("NgSignals"),!e?.injector&&qI(Nn);let n=e?.injector??_($n),r=e?.manualCleanup!==!0?n.get(jh):null,i=new bh(n.get($P),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(wr,null,{optional:!0});return!o||!(o._lView[O]&8)?i.watcher.notify():(o._lView[Wl]??=[]).push(i.watcher.notify),i}var aE=null;function tr(){return aE}function lE(t){aE??=t}var Kc=class{};var Xe=new w(""),cE=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(XP),providedIn:"platform"});let t=e;return t})();var XP=(()=>{let e=class e extends cE{constructor(){super(),this._doc=_(Xe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tr().getBaseHref(this._doc)}onPopState(r){let i=tr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=tr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function uE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function iE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function gi(t){return t&&t[0]!=="?"?"?"+t:t}var Qc=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(dE),providedIn:"root"});let t=e;return t})(),QP=new w(""),dE=(()=>{let e=class e extends Qc{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??_(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return uE(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+gi(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+gi(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+gi(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(E(cE),E(QP,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fs=(()=>{let e=class e{constructor(r){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=JP(iE(oE(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+gi(i))}normalize(r){return e.stripTrailingSlash(ZP(this._basePath,oE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+gi(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+gi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=gi,e.joinWithSlash=uE,e.stripTrailingSlash=iE,e.\u0275fac=function(i){return new(i||e)(E(Qc))},e.\u0275prov=b({token:e,factory:()=>YP(),providedIn:"root"});let t=e;return t})();function YP(){return new Fs(E(Qc))}function ZP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function oE(t){return t.replace(/\/index.html$/,"")}function JP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var pt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(pt||{}),ge=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ge||{}),At=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(At||{}),br={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ex(t){return jt(t)[Re.LocaleId]}function tx(t,e,n){let r=jt(t),i=[r[Re.DayPeriodsFormat],r[Re.DayPeriodsStandalone]],o=$t(i,e);return $t(o,n)}function nx(t,e,n){let r=jt(t),i=[r[Re.DaysFormat],r[Re.DaysStandalone]],o=$t(i,e);return $t(o,n)}function rx(t,e,n){let r=jt(t),i=[r[Re.MonthsFormat],r[Re.MonthsStandalone]],o=$t(i,e);return $t(o,n)}function ix(t,e){let r=jt(t)[Re.Eras];return $t(r,e)}function Hc(t,e){let n=jt(t);return $t(n[Re.DateFormat],e)}function jc(t,e){let n=jt(t);return $t(n[Re.TimeFormat],e)}function Gc(t,e){let r=jt(t)[Re.DateTimeFormat];return $t(r,e)}function Yc(t,e){let n=jt(t),r=n[Re.NumberSymbols][e];if(typeof r>"u"){if(e===br.CurrencyDecimal)return n[Re.NumberSymbols][br.Decimal];if(e===br.CurrencyGroup)return n[Re.NumberSymbols][br.Group]}return r}function fE(t){if(!t[Re.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Re.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ox(t){let e=jt(t);return fE(e),(e[Re.ExtraData][2]||[]).map(r=>typeof r=="string"?cp(r):[cp(r[0]),cp(r[1])])}function sx(t,e,n){let r=jt(t);fE(r);let i=[r[Re.ExtraData][0],r[Re.ExtraData][1]],o=$t(i,e)||[];return $t(o,n)||[]}function $t(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function cp(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var ax=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Uc={},lx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,er=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(er||{}),ae=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ae||{}),se=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(se||{});function cx(t,e,n,r){let i=yx(t);e=Jn(n,e)||e;let s=[],a;for(;e;)if(a=lx.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=pE(r,l),i=vx(i,r,!0));let c="";return s.forEach(u=>{let d=gx(u);c+=d?d(i,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Xc(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Jn(t,e){let n=ex(t);if(Uc[n]??={},Uc[n][e])return Uc[n][e];let r="";switch(e){case"shortDate":r=Hc(t,At.Short);break;case"mediumDate":r=Hc(t,At.Medium);break;case"longDate":r=Hc(t,At.Long);break;case"fullDate":r=Hc(t,At.Full);break;case"shortTime":r=jc(t,At.Short);break;case"mediumTime":r=jc(t,At.Medium);break;case"longTime":r=jc(t,At.Long);break;case"fullTime":r=jc(t,At.Full);break;case"short":let i=Jn(t,"shortTime"),o=Jn(t,"shortDate");r=$c(Gc(t,At.Short),[i,o]);break;case"medium":let s=Jn(t,"mediumTime"),a=Jn(t,"mediumDate");r=$c(Gc(t,At.Medium),[s,a]);break;case"long":let l=Jn(t,"longTime"),c=Jn(t,"longDate");r=$c(Gc(t,At.Long),[l,c]);break;case"full":let u=Jn(t,"fullTime"),d=Jn(t,"fullDate");r=$c(Gc(t,At.Full),[u,d]);break}return r&&(Uc[n][e]=r),r}function $c(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function ln(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function ux(t,e){return ln(t,3).substring(0,e)}function ke(t,e,n=0,r=!1,i=!1){return function(o,s){let a=dx(t,o);if((n>0||a>-n)&&(a+=n),t===ae.Hours)a===0&&n===-12&&(a=12);else if(t===ae.FractionalSeconds)return ux(a,e);let l=Yc(s,br.MinusSign);return ln(a,e,l,r,i)}}function dx(t,e){switch(t){case ae.FullYear:return e.getFullYear();case ae.Month:return e.getMonth();case ae.Date:return e.getDate();case ae.Hours:return e.getHours();case ae.Minutes:return e.getMinutes();case ae.Seconds:return e.getSeconds();case ae.FractionalSeconds:return e.getMilliseconds();case ae.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function _e(t,e,n=pt.Format,r=!1){return function(i,o){return fx(i,o,t,e,n,r)}}function fx(t,e,n,r,i,o){switch(n){case se.Months:return rx(e,i,r)[t.getMonth()];case se.Days:return nx(e,i,r)[t.getDay()];case se.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let c=ox(e),u=sx(e,i,r),d=c.findIndex(f=>{if(Array.isArray(f)){let[h,g]=f,y=s>=h.hours&&a>=h.minutes,v=s<g.hours||s===g.hours&&a<g.minutes;if(h.hours<g.hours){if(y&&v)return!0}else if(y||v)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return tx(e,i,r)[s<12?0:1];case se.Eras:return ix(e,r)[t.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function Wc(t){return function(e,n,r){let i=-1*r,o=Yc(n,br.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case er.Short:return(i>=0?"+":"")+ln(s,2,o)+ln(Math.abs(i%60),2,o);case er.ShortGMT:return"GMT"+(i>=0?"+":"")+ln(s,1,o);case er.Long:return"GMT"+(i>=0?"+":"")+ln(s,2,o)+":"+ln(Math.abs(i%60),2,o);case er.Extended:return r===0?"Z":(i>=0?"+":"")+ln(s,2,o)+":"+ln(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var hx=0,qc=4;function px(t){let e=Xc(t,hx,1).getDay();return Xc(t,0,1+(e<=qc?qc:qc+7)-e)}function hE(t){let e=t.getDay(),n=e===0?-3:qc-e;return Xc(t.getFullYear(),t.getMonth(),t.getDate()+n)}function up(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=hE(n),s=px(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return ln(i,t,Yc(r,br.MinusSign))}}function zc(t,e=!1){return function(n,r){let o=hE(n).getFullYear();return ln(o,t,Yc(r,br.MinusSign),e)}}var dp={};function gx(t){if(dp[t])return dp[t];let e;switch(t){case"G":case"GG":case"GGG":e=_e(se.Eras,ge.Abbreviated);break;case"GGGG":e=_e(se.Eras,ge.Wide);break;case"GGGGG":e=_e(se.Eras,ge.Narrow);break;case"y":e=ke(ae.FullYear,1,0,!1,!0);break;case"yy":e=ke(ae.FullYear,2,0,!0,!0);break;case"yyy":e=ke(ae.FullYear,3,0,!1,!0);break;case"yyyy":e=ke(ae.FullYear,4,0,!1,!0);break;case"Y":e=zc(1);break;case"YY":e=zc(2,!0);break;case"YYY":e=zc(3);break;case"YYYY":e=zc(4);break;case"M":case"L":e=ke(ae.Month,1,1);break;case"MM":case"LL":e=ke(ae.Month,2,1);break;case"MMM":e=_e(se.Months,ge.Abbreviated);break;case"MMMM":e=_e(se.Months,ge.Wide);break;case"MMMMM":e=_e(se.Months,ge.Narrow);break;case"LLL":e=_e(se.Months,ge.Abbreviated,pt.Standalone);break;case"LLLL":e=_e(se.Months,ge.Wide,pt.Standalone);break;case"LLLLL":e=_e(se.Months,ge.Narrow,pt.Standalone);break;case"w":e=up(1);break;case"ww":e=up(2);break;case"W":e=up(1,!0);break;case"d":e=ke(ae.Date,1);break;case"dd":e=ke(ae.Date,2);break;case"c":case"cc":e=ke(ae.Day,1);break;case"ccc":e=_e(se.Days,ge.Abbreviated,pt.Standalone);break;case"cccc":e=_e(se.Days,ge.Wide,pt.Standalone);break;case"ccccc":e=_e(se.Days,ge.Narrow,pt.Standalone);break;case"cccccc":e=_e(se.Days,ge.Short,pt.Standalone);break;case"E":case"EE":case"EEE":e=_e(se.Days,ge.Abbreviated);break;case"EEEE":e=_e(se.Days,ge.Wide);break;case"EEEEE":e=_e(se.Days,ge.Narrow);break;case"EEEEEE":e=_e(se.Days,ge.Short);break;case"a":case"aa":case"aaa":e=_e(se.DayPeriods,ge.Abbreviated);break;case"aaaa":e=_e(se.DayPeriods,ge.Wide);break;case"aaaaa":e=_e(se.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":e=_e(se.DayPeriods,ge.Abbreviated,pt.Standalone,!0);break;case"bbbb":e=_e(se.DayPeriods,ge.Wide,pt.Standalone,!0);break;case"bbbbb":e=_e(se.DayPeriods,ge.Narrow,pt.Standalone,!0);break;case"B":case"BB":case"BBB":e=_e(se.DayPeriods,ge.Abbreviated,pt.Format,!0);break;case"BBBB":e=_e(se.DayPeriods,ge.Wide,pt.Format,!0);break;case"BBBBB":e=_e(se.DayPeriods,ge.Narrow,pt.Format,!0);break;case"h":e=ke(ae.Hours,1,-12);break;case"hh":e=ke(ae.Hours,2,-12);break;case"H":e=ke(ae.Hours,1);break;case"HH":e=ke(ae.Hours,2);break;case"m":e=ke(ae.Minutes,1);break;case"mm":e=ke(ae.Minutes,2);break;case"s":e=ke(ae.Seconds,1);break;case"ss":e=ke(ae.Seconds,2);break;case"S":e=ke(ae.FractionalSeconds,1);break;case"SS":e=ke(ae.FractionalSeconds,2);break;case"SSS":e=ke(ae.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Wc(er.Short);break;case"ZZZZZ":e=Wc(er.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Wc(er.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Wc(er.Long);break;default:return null}return dp[t]=e,e}function pE(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function mx(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function vx(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=pE(e,i);return mx(t,r*(o-i))}function yx(t){if(sE(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Xc(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(ax))return _x(r)}let e=new Date(t);if(!sE(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function _x(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,l,c),e}function sE(t){return t instanceof Date&&!isNaN(t.valueOf())}function Zc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function Cx(t,e){return new S(2100,!1)}var Ex="mediumDate",Tx=new w(""),Dx=new w(""),gE=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??Ex,l=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return cx(r,a,s||this.locale,l)}catch(a){throw Cx(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(V(Lc,16),V(Tx,24),V(Dx,24))},e.\u0275pipe=q0({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var fp="browser",wx="server";function Jc(t){return t===fp}function To(t){return t===wx}var Eo=class{};var Vs=class{},tu=class{},nr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var pp=class{encodeKey(e){return mE(e)}encodeValue(e){return mE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Sx(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var Ix=/%(\d[a-f0-9])/gi,Mx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mE(t){return encodeURIComponent(t).replace(Ix,(e,n)=>Mx[n]??e)}function eu(t){return`${t}`}var Ir=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Sx(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(eu):[eu(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(eu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(eu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var gp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Ax(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function vE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function yE(t){return typeof Blob<"u"&&t instanceof Blob}function _E(t){return typeof FormData<"u"&&t instanceof FormData}function Nx(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ls=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Ax(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new nr,this.context??=new gp,!this.params)this.params=new Ir,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||vE(this.body)||yE(this.body)||_E(this.body)||Nx(this.body)?this.body:this.body instanceof Ir?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||_E(this.body)?null:yE(this.body)?this.body.type||null:vE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ir?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Mr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Mr||{}),Bs=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new nr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},nu=class t extends Bs{constructor(e={}){super(e),this.type=Mr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Hs=class t extends Bs{constructor(e={}){super(e),this.type=Mr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Sr=class extends Bs{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},wE=200,Px=204;function hp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var yp=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Ls)s=r;else{let c;o.headers instanceof nr?c=o.headers:c=new nr(o.headers);let u;o.params&&(o.params instanceof Ir?u=o.params:u=new Ir({fromObject:o.params})),s=new Ls(r,i,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=M(s).pipe(dr(c=>this.handler.handle(c)));if(r instanceof Ls||o.observe==="events")return a;let l=a.pipe(it(c=>c instanceof Hs));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(A(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(A(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(A(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(A(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Ir().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,hp(o,i))}post(r,i,o={}){return this.request("POST",r,hp(o,i))}put(r,i,o={}){return this.request("PUT",r,hp(o,i))}};e.\u0275fac=function(i){return new(i||e)(E(Vs))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),xx=/^\)\]\}',?\n/,Rx="X-Request-URL";function CE(t){if(t.url)return t.url;let e=Rx.toLocaleLowerCase();return t.headers.get(e)}var Ox=(()=>{let e=class e{constructor(){this.fetchImpl=_(mp,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=_(le)}handle(r){return new $(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(vp,s=>i.error(new Sr({error:s}))),()=>o.abort()})}doRequest(r,i,o){return oe(this,null,function*(){let s=this.createRequestInit(r),a;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,D({signal:i},s)));kx(g),o.next({type:Mr.Sent}),a=yield g}catch(g){o.error(new Sr({error:g,status:g.status??0,statusText:g.statusText,url:r.urlWithParams,headers:g.headers}));return}let l=new nr(a.headers),c=a.statusText,u=CE(a)??r.urlWithParams,d=a.status,f=null;if(r.reportProgress&&o.next(new nu({headers:l,status:d,statusText:c,url:u})),a.body){let g=a.headers.get("content-length"),y=[],v=a.body.getReader(),T=0,x,I,j=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>oe(this,null,function*(){for(;;){let{done:Pe,value:yt}=yield v.read();if(Pe)break;if(y.push(yt),T+=yt.length,r.reportProgress){I=r.responseType==="text"?(I??"")+(x??=new TextDecoder).decode(yt,{stream:!0}):void 0;let lr=()=>o.next({type:Mr.DownloadProgress,total:g?+g:void 0,loaded:T,partialText:I});j?j.run(lr):lr()}}}));let Se=this.concatChunks(y,T);try{let Pe=a.headers.get("Content-Type")??"";f=this.parseBody(r,Se,Pe)}catch(Pe){o.error(new Sr({error:Pe,headers:new nr(a.headers),status:a.status,statusText:a.statusText,url:CE(a)??r.urlWithParams}));return}}d===0&&(d=f?wE:0),d>=200&&d<300?(o.next(new Hs({body:f,headers:l,status:d,statusText:c,url:u})),o.complete()):o.error(new Sr({error:f,headers:l,status:d,statusText:c,url:u}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(xx,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),mp=class{};function vp(){}function kx(t){t.then(vp,vp)}function bE(t,e){return e(t)}function Fx(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function Lx(t,e,n){return(r,i)=>on(n,()=>e(r,o=>t(o,i)))}var Vx=new w(""),_p=new w(""),Bx=new w(""),SE=new w("",{providedIn:"root",factory:()=>!0});function Hx(){let t=null;return(e,n)=>{t===null&&(t=(_(Vx,{optional:!0})??[]).reduceRight(Fx,bE));let r=_(bn);if(_(SE)){let o=r.add();return t(e,n).pipe(vn(()=>r.remove(o)))}else return t(e,n)}}var EE=(()=>{let e=class e extends Vs{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=_(bn),this.contributeToStability=_(SE)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(_p),...this.injector.get(Bx,[])]));this.chain=i.reduceRight((o,s)=>Lx(o,s,this.injector),bE)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(vn(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(E(tu),E(wt))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();var jx=/^\)\]\}',?\n/;function Gx(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var TE=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new S(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?de(i.\u0275loadImpl()):M(null)).pipe(Te(()=>new $(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((v,T)=>a.setRequestHeader(v,T.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let v=r.detectContentTypeHeader();v!==null&&a.setRequestHeader("Content-Type",v)}if(r.responseType){let v=r.responseType.toLowerCase();a.responseType=v!=="json"?v:"text"}let l=r.serializeBody(),c=null,u=()=>{if(c!==null)return c;let v=a.statusText||"OK",T=new nr(a.getAllResponseHeaders()),x=Gx(a)||r.url;return c=new nu({headers:T,status:a.status,statusText:v,url:x}),c},d=()=>{let{headers:v,status:T,statusText:x,url:I}=u(),j=null;T!==Px&&(j=typeof a.response>"u"?a.responseText:a.response),T===0&&(T=j?wE:0);let Se=T>=200&&T<300;if(r.responseType==="json"&&typeof j=="string"){let Pe=j;j=j.replace(jx,"");try{j=j!==""?JSON.parse(j):null}catch(yt){j=Pe,Se&&(Se=!1,j={error:yt,text:j})}}Se?(s.next(new Hs({body:j,headers:v,status:T,statusText:x,url:I||void 0})),s.complete()):s.error(new Sr({error:j,headers:v,status:T,statusText:x,url:I||void 0}))},f=v=>{let{url:T}=u(),x=new Sr({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:T||void 0});s.error(x)},h=!1,g=v=>{h||(s.next(u()),h=!0);let T={type:Mr.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(T.total=v.total),r.responseType==="text"&&a.responseText&&(T.partialText=a.responseText),s.next(T)},y=v=>{let T={type:Mr.UploadProgress,loaded:v.loaded};v.lengthComputable&&(T.total=v.total),s.next(T)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",g),l!==null&&a.upload&&a.upload.addEventListener("progress",y)),a.send(l),s.next({type:Mr.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",g),l!==null&&a.upload&&a.upload.removeEventListener("progress",y)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(E(Eo))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),IE=new w(""),Ux="XSRF-TOKEN",$x=new w("",{providedIn:"root",factory:()=>Ux}),Wx="X-XSRF-TOKEN",zx=new w("",{providedIn:"root",factory:()=>Wx}),ru=class{},qx=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zc(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(E(Xe),E(et),E($x))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function Kx(t,e){let n=t.url.toLowerCase();if(!_(IE)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=_(ru).getToken(),i=_(zx);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var ME=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(ME||{});function Xx(t,e){return{\u0275kind:t,\u0275providers:e}}function Qx(...t){let e=[yp,TE,EE,{provide:Vs,useExisting:EE},{provide:tu,useFactory:()=>_(Ox,{optional:!0})??_(TE)},{provide:_p,useValue:Kx,multi:!0},{provide:IE,useValue:!0},{provide:ru,useClass:qx}];for(let n of t)e.push(...n.\u0275providers);return ui(e)}var DE=new w("");function Yx(){return Xx(ME.LegacyInterceptors,[{provide:DE,useFactory:Hx},{provide:_p,useExisting:DE,multi:!0}])}var AE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=ut({providers:[Qx(Yx())]});let t=e;return t})();var Tp=class extends Kc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Dp=class t extends Tp{static makeCurrent(){lE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Jx();return n==null?null:e1(n)}resetBaseElement(){js=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Zc(document.cookie,e)}},js=null;function Jx(){return js=js||document.querySelector("base"),js?js.getAttribute("href"):null}function e1(t){return new URL(t,document.baseURI).pathname}var t1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),iu=new w(""),RE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(E(iu),E(le))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Gs=class{constructor(e){this._doc=e}},Cp="ng-app-id",OE=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=To(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Cp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Cp),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Cp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(E(Xe),E(Uh),E(Wh,8),E(et))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Ep={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bp=/%COMP%/g,kE="%COMP%",n1=`_nghost-${kE}`,r1=`_ngcontent-${kE}`,i1=!0,o1=new w("",{providedIn:"root",factory:()=>i1});function s1(t){return r1.replace(bp,t)}function a1(t){return n1.replace(bp,t)}function FE(t,e){return e.map(n=>n.replace(bp,t))}var NE=(()=>{let e=class e{constructor(r,i,o,s,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=To(l),this.defaultRenderer=new Us(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Cn.ShadowDom&&(i=z(D({},i),{encapsulation:Cn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof ou?o.applyToHost(r):o instanceof $s&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Cn.Emulated:s=new ou(c,u,i,this.appId,d,a,l,f);break;case Cn.ShadowDom:return new wp(c,u,r,i,a,l,this.nonce,f);default:s=new $s(c,u,i,d,a,l,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(E(RE),E(OE),E(Uh),E(o1),E(Xe),E(et),E(le),E(Wh))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Us=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ep[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(PE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(PE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Ep[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ep[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Wn.DashCase|Wn.Important)?e.style.setProperty(n,r,i&Wn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Wn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=tr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function PE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var wp=class extends Us{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=FE(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$s=class extends Us{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?FE(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ou=class extends $s{constructor(e,n,r,i,o,s,a,l){let c=i+"-"+r.id;super(e,n,r,o,s,a,l,c),this.contentAttr=s1(c),this.hostAttr=a1(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},l1=(()=>{let e=class e extends Gs{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(E(Xe))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),c1=(()=>{let e=class e extends Gs{constructor(r){super(r),this.delegate=_(rE,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(E(Xe))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),xE=["alt","control","meta","shift"],u1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},d1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},f1=(()=>{let e=class e extends Gs{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),xE.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=u1[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),xE.forEach(a=>{if(a!==o){let l=d1[a];l(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(E(Xe))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function LE(t,e){return nE(D({rootComponent:t},h1(e)))}function h1(t){return{appProviders:[...y1,...t?.providers??[]],platformProviders:v1}}function p1(){Dp.makeCurrent()}function g1(){return new Tn}function m1(){return K_(document),document}var v1=[{provide:et,useValue:fp},{provide:$h,useValue:p1,multi:!0},{provide:Xe,useFactory:m1,deps:[]}];var y1=[{provide:Tc,useValue:"root"},{provide:Tn,useFactory:g1,deps:[]},{provide:iu,useClass:l1,multi:!0,deps:[Xe,le,et]},{provide:iu,useClass:f1,multi:!0,deps:[Xe]},{provide:iu,useClass:c1,multi:!0},NE,OE,RE,{provide:po,useExisting:NE},{provide:Eo,useClass:t1,deps:[]},[]];var VE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(E(Xe))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var U="primary",aa=Symbol("RouteTitle"),Np=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Mo(t){return new Np(t)}function E1(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function T1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pn(t[n],e[n]))return!1;return!0}function Pn(t,e){let n=t?Pp(t):void 0,r=e?Pp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!zE(t[i],e[i]))return!1;return!0}function Pp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function zE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function qE(t){return t.length>0?t[t.length-1]:null}function Ar(t){return af(t)?t:hi(t)?de(Promise.resolve(t)):M(t)}var D1={exact:XE,subset:QE},KE={exact:w1,subset:b1,ignored:()=>!0};function BE(t,e,n){return D1[n.paths](t.root,e.root,n.matrixParams)&&KE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function w1(t,e){return Pn(t,e)}function XE(t,e,n){if(!vi(t.segments,e.segments)||!lu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!XE(t.children[r],e.children[r],n))return!1;return!0}function b1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>zE(t[n],e[n]))}function QE(t,e,n){return YE(t,e,e.segments,n)}function YE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!vi(i,n)||e.hasChildren()||!lu(i,n,r))}else if(t.segments.length===n.length){if(!vi(t.segments,n)||!lu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!QE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!vi(t.segments,i)||!lu(t.segments,i,r)||!t.children[U]?!1:YE(t.children[U],e,o,r)}}function lu(t,e,n){return e.every((r,i)=>KE[n](t[i].parameters,r.parameters))}var ir=class{constructor(e=new ue([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Mo(this.queryParams),this._queryParamMap}toString(){return M1.serialize(this)}},ue=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cu(this)}},mi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Mo(this.parameters),this._parameterMap}toString(){return JE(this)}};function S1(t,e){return vi(t,e)&&t.every((n,r)=>Pn(n.parameters,e[r].parameters))}function vi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function I1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===U&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==U&&(n=n.concat(e(i,r)))}),n}var rg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new Ys,providedIn:"root"});let t=e;return t})(),Ys=class{parse(e){let n=new Rp(e);return new ir(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ws(e.root,!0)}`,r=P1(e.queryParams),i=typeof e.fragment=="string"?`#${A1(e.fragment)}`:"";return`${n}${r}${i}`}},M1=new Ys;function cu(t){return t.segments.map(e=>JE(e)).join("/")}function Ws(t,e){if(!t.hasChildren())return cu(t);if(e){let n=t.children[U]?Ws(t.children[U],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==U&&r.push(`${i}:${Ws(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=I1(t,(r,i)=>i===U?[Ws(t.children[U],!1)]:[`${i}:${Ws(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[U]!=null?`${cu(t)}/${n[0]}`:`${cu(t)}/(${n.join("//")})`}}function ZE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function su(t){return ZE(t).replace(/%3B/gi,";")}function A1(t){return encodeURI(t)}function xp(t){return ZE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uu(t){return decodeURIComponent(t)}function HE(t){return uu(t.replace(/\+/g,"%20"))}function JE(t){return`${xp(t.path)}${N1(t.parameters)}`}function N1(t){return Object.entries(t).map(([e,n])=>`;${xp(e)}=${xp(n)}`).join("")}function P1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${su(n)}=${su(i)}`).join("&"):`${su(n)}=${su(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var x1=/^[^\/()?;#]+/;function Sp(t){let e=t.match(x1);return e?e[0]:""}var R1=/^[^\/()?;=#]+/;function O1(t){let e=t.match(R1);return e?e[0]:""}var k1=/^[^=?&#]+/;function F1(t){let e=t.match(k1);return e?e[0]:""}var L1=/^[^&#]+/;function V1(t){let e=t.match(L1);return e?e[0]:""}var Rp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[U]=new ue(e,n)),r}parseSegment(){let e=Sp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new mi(uu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=O1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Sp(this.remaining);i&&(r=i,this.capture(r))}e[uu(n)]=uu(r)}parseQueryParam(e){let n=F1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=V1(this.remaining);s&&(r=s,this.capture(r))}let i=HE(n),o=HE(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Sp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=U);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[U]:new ue([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}};function eT(t){return t.segments.length>0?new ue([],{[U]:t}):t}function tT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=tT(i);if(r===U&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ue(t.segments,e);return B1(n)}function B1(t){if(t.numberOfChildren===1&&t.children[U]){let e=t.children[U];return new ue(t.segments.concat(e.segments),e.children)}return t}function Zs(t){return t instanceof ir}function H1(t,e,n=null,r=null){let i=nT(t);return rT(i,e,n,r)}function nT(t){let e;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new ue(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=eT(r);return e??i}function rT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ip(i,i,i,n,r);let o=j1(e);if(o.toRoot())return Ip(i,i,new ue([],{}),n,r);let s=G1(o,i,t),a=s.processChildren?Ks(s.segmentGroup,s.index,o.commands):oT(s.segmentGroup,s.index,o.commands);return Ip(i,s.segmentGroup,a,n,r)}function du(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Js(t){return typeof t=="object"&&t!=null&&t.outlets}function Ip(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=n:s=iT(t,e,n);let a=eT(tT(s));return new ir(a,o,i)}function iT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=iT(o,e,n)}),new ue(t.segments,r)}var fu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&du(r[0]))throw new S(4003,!1);let i=r.find(Js);if(i&&i!==qE(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function j1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new fu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new fu(n,e,r)}var bo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function G1(t,e,n){if(t.isAbsolute)return new bo(e,!0,0);if(!n)return new bo(e,!1,NaN);if(n.parent===null)return new bo(n,!0,0);let r=du(t.commands[0])?0:1,i=n.segments.length-1+r;return U1(n,i,t.numberOfDoubleDots)}function U1(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new bo(r,!1,i-o)}function $1(t){return Js(t[0])?t[0].outlets:{[U]:t}}function oT(t,e,n){if(t??=new ue([],{}),t.segments.length===0&&t.hasChildren())return Ks(t,e,n);let r=W1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ue(t.segments.slice(0,r.pathIndex),{});return o.children[U]=new ue(t.segments.slice(r.pathIndex),t.children),Ks(o,0,i)}else return r.match&&i.length===0?new ue(t.segments,{}):r.match&&!t.hasChildren()?Op(t,e,n):r.match?Ks(t,0,i):Op(t,e,n)}function Ks(t,e,n){if(n.length===0)return new ue(t.segments,{});{let r=$1(n),i={};if(Object.keys(r).some(o=>o!==U)&&t.children[U]&&t.numberOfChildren===1&&t.children[U].segments.length===0){let o=Ks(t.children[U],e,n);return new ue(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=oT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ue(t.segments,i)}}function W1(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Js(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!GE(l,c,s))return o;r+=2}else{if(!GE(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Op(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Js(o)){let l=z1(o.outlets);return new ue(r,l)}if(i===0&&du(n[0])){let l=t.segments[e];r.push(new mi(l.path,jE(n[0]))),i++;continue}let s=Js(o)?o.outlets[U]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&du(a)?(r.push(new mi(s,jE(a))),i+=2):(r.push(new mi(s,{})),i++)}return new ue(r,{})}function z1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Op(new ue([],{}),0,r))}),e}function jE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function GE(t,e,n){return t==n.path&&Pn(e,n.parameters)}var Xs="imperative",Qe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Qe||{}),Wt=class{constructor(e,n){this.id=e,this.url=n}},ea=class extends Wt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Qe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yi=class extends Wt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Pt||{}),kp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(kp||{}),rr=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_i=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qe.NavigationSkipped}},ta=class extends Wt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hu=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fp=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lp=class extends Wt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Vp=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bp=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hp=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jp=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gp=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Up=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$p=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wp=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var na=class{},Ao=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function q1(t,e){return t.providers&&!t._injector&&(t._injector=op(t.providers,e,`Route: ${t.path}`)),t._injector??e}function cn(t){return t.outlet||U}function K1(t,e){let n=t.filter(r=>cn(r)===e);return n.push(...t.filter(r=>cn(r)!==e)),n}function la(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zp=class{get injector(){return la(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Cu(this.rootInjector),this.attachRef=null}},Cu=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new zp(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(E(wt))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=qp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=qp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Kp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Kp(e,this._root).map(n=>n.value)}};function qp(t,e){if(t===e.value)return e;for(let n of e.children){let r=qp(t,n);if(r)return r}return null}function Kp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Kp(t,n);if(r.length)return r.unshift(e),r}return[]}var Nt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function wo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gu=class extends pu{constructor(e,n){super(e),this.snapshot=n,ig(this,e)}toString(){return this.snapshot.toString()}};function sT(t){let e=X1(t),n=new Ke([new mi("",{})]),r=new Ke({}),i=new Ke({}),o=new Ke({}),s=new Ke(""),a=new No(n,r,o,s,i,U,t,e.root);return a.snapshot=e.root,new gu(new Nt(a,[]),e)}function X1(t){let e={},n={},r={},i="",o=new So([],e,r,i,n,U,t,null,{});return new vu("",new Nt(o,[]))}var No=class{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(A(c=>c[aa]))??M(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(A(e=>Mo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(A(e=>Mo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mu(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),t.params),data:D(D({},e.data),t.data),resolve:D(D(D(D({},t.data),e.data),i?.data),t._resolvedData)}:r={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},i&&lT(i)&&(r.resolve[aa]=i.title),r}var So=class{get title(){return this.data?.[aa]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Mo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Mo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},vu=class extends pu{constructor(e,n){super(n),this.url=e,ig(this,n)}toString(){return aT(this._root)}};function ig(t,e){e.value._routerState=t,e.children.forEach(n=>ig(t,n))}function aT(t){let e=t.children.length>0?` { ${t.children.map(aT).join(", ")} } `:"";return`${t.value}${e}`}function Mp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Pn(e.params,n.params)||t.paramsSubject.next(n.params),T1(e.url,n.url)||t.urlSubject.next(n.url),Pn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Xp(t,e){let n=Pn(t.params,e.params)&&S1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Xp(t.parent,e.parent))}function lT(t){return typeof t.title=="string"||t.title===null}var og=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=U,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=_(Cu),this.location=_(Rc),this.changeDetector=_(wr),this.inputBinder=_(sg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Qp(r,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Je({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Cr]});let t=e;return t})(),Qp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===No?this.route:e===Cu?this.childContexts:this.parent.get(e,n)}},sg=new w("");function Q1(t,e,n){let r=ra(t,e._root,n?n._root:void 0);return new gu(r,e)}function ra(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Y1(t,e,n);return new Nt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ra(t,a)),s}}let r=Z1(e.value),i=e.children.map(o=>ra(t,o));return new Nt(r,i)}}function Y1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ra(t,r,i);return ra(t,r)})}function Z1(t){return new No(new Ke(t.url),new Ke(t.params),new Ke(t.queryParams),new Ke(t.fragment),new Ke(t.data),t.outlet,t.component,t)}var ia=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},cT="ngNavigationCancelingError";function yu(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Zs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=uT(!1,Pt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function uT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[cT]=!0,n.cancellationCode=e,n}function J1(t){return dT(t)&&Zs(t.url)}function dT(t){return!!t&&t[cT]}var eR=(t,e,n,r)=>A(i=>(new Yp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Yp=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Mp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=wo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=wo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=wo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=wo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Wp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Up(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Mp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Mp(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},_u=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Io=class{constructor(e,n){this.component=e,this.route=n}};function tR(t,e,n){let r=t._root,i=e?e._root:null;return zs(r,i,n,[r.value])}function nR(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!R0(t)?t:e.get(t):r}function zs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=wo(e);return t.children.forEach(s=>{rR(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qs(a,n.getContext(s),i)),i}function rR(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=iR(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new _u(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?zs(t,e,a?a.children:null,r,i):zs(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Io(a.outlet.component,s))}else s&&Qs(e,a,i),i.canActivateChecks.push(new _u(r)),o.component?zs(t,null,a?a.children:null,r,i):zs(t,null,n,r,i);return i}function iR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!vi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!vi(t.url,e.url)||!Pn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xp(t,e)||!Pn(t.queryParams,e.queryParams);case"paramsChange":default:return!Xp(t,e)}}function Qs(t,e,n){let r=wo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Qs(s,e.children.getContext(o),n):Qs(s,null,n):Qs(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Io(e.outlet.component,i)):n.canDeactivateChecks.push(new Io(null,i)):n.canDeactivateChecks.push(new Io(null,i))}function ca(t){return typeof t=="function"}function oR(t){return typeof t=="boolean"}function sR(t){return t&&ca(t.canLoad)}function aR(t){return t&&ca(t.canActivate)}function lR(t){return t&&ca(t.canActivateChild)}function cR(t){return t&&ca(t.canDeactivate)}function uR(t){return t&&ca(t.canMatch)}function fT(t){return t instanceof tn||t?.name==="EmptyError"}var au=Symbol("INITIAL_VALUE");function Po(){return Te(t=>Fl(t.map(e=>e.pipe(Gn(1),gf(au)))).pipe(A(e=>{for(let n of e)if(n!==!0){if(n===au)return au;if(n===!1||dR(n))return n}return!0}),it(e=>e!==au),Gn(1)))}function dR(t){return Zs(t)||t instanceof ia}function fR(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?M(z(D({},n),{guardsResult:!0})):hR(s,r,i,t).pipe(Ve(a=>a&&oR(a)?pR(r,o,t,e):M(a)),A(a=>z(D({},n),{guardsResult:a})))})}function hR(t,e,n,r){return de(t).pipe(Ve(i=>_R(i.component,i.route,n,e,r)),ot(i=>i!==!0,!0))}function pR(t,e,n,r){return de(e).pipe(dr(i=>Wi(mR(i.route.parent,r),gR(i.route,r),yR(t,i.path,n),vR(t,i.route,n))),ot(i=>i!==!0,!0))}function gR(t,e){return t!==null&&e&&e(new $p(t)),M(!0)}function mR(t,e){return t!==null&&e&&e(new Gp(t)),M(!0)}function vR(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return M(!0);let i=r.map(o=>Ll(()=>{let s=la(e)??n,a=xo(o,s),l=aR(a)?a.canActivate(e,t):on(s,()=>a(e,t));return Ar(l).pipe(ot())}));return M(i).pipe(Po())}function yR(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>nR(s)).filter(s=>s!==null).map(s=>Ll(()=>{let a=s.guards.map(l=>{let c=la(s.node)??n,u=xo(l,c),d=lR(u)?u.canActivateChild(r,t):on(c,()=>u(r,t));return Ar(d).pipe(ot())});return M(a).pipe(Po())}));return M(o).pipe(Po())}function _R(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return M(!0);let s=o.map(a=>{let l=la(e)??i,c=xo(a,l),u=cR(c)?c.canDeactivate(t,e,n,r):on(l,()=>c(t,e,n,r));return Ar(u).pipe(ot())});return M(s).pipe(Po())}function CR(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return M(!0);let o=i.map(s=>{let a=xo(s,t),l=sR(a)?a.canLoad(e,n):on(t,()=>a(e,n));return Ar(l)});return M(o).pipe(Po(),hT(r))}function hT(t){return ef(Ne(e=>{if(typeof e!="boolean")throw yu(t,e)}),A(e=>e===!0))}function ER(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return M(!0);let o=i.map(s=>{let a=xo(s,t),l=uR(a)?a.canMatch(e,n):on(t,()=>a(e,n));return Ar(l)});return M(o).pipe(Po(),hT(r))}var oa=class{constructor(e){this.segmentGroup=e||null}},sa=class extends Error{constructor(e){super(),this.urlTree=e}};function Do(t){return jn(new oa(t))}function TR(t){return jn(new S(4e3,!1))}function DR(t){return jn(uT(!1,Pt.GuardRejected))}var Zp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return M(r);if(i.numberOfChildren>1||!i.children[U])return TR(`${e.redirectTo}`);i=i.children[U]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:g,title:y}=i,v=on(o,()=>a({params:h,data:g,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:y}));if(v instanceof ir)throw new sa(v);n=v}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new sa(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new ir(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new ue(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Jp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wR(t,e,n,r,i){let o=ag(t,e,n);return o.matched?(r=q1(e,r),ER(r,e,n,i).pipe(A(s=>s===!0?o:D({},Jp)))):M(o)}function ag(t,e,n){if(e.path==="**")return bR(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?D({},Jp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||E1)(n,t,e);if(!i)return D({},Jp);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function bR(t){return{matched:!0,parameters:t.length>0?qE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function UE(t,e,n,r){return n.length>0&&MR(t,n,r)?{segmentGroup:new ue(e,IR(r,new ue(n,t.children))),slicedSegments:[]}:n.length===0&&AR(t,n,r)?{segmentGroup:new ue(t.segments,SR(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ue(t.segments,t.children),slicedSegments:n}}function SR(t,e,n,r){let i={};for(let o of n)if(Eu(t,e,o)&&!r[cn(o)]){let s=new ue([],{});i[cn(o)]=s}return D(D({},r),i)}function IR(t,e){let n={};n[U]=e;for(let r of t)if(r.path===""&&cn(r)!==U){let i=new ue([],{});n[cn(r)]=i}return n}function MR(t,e,n){return n.some(r=>Eu(t,e,r)&&cn(r)!==U)}function AR(t,e,n){return n.some(r=>Eu(t,e,r))}function Eu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function NR(t,e,n,r){return cn(t)!==r&&(r===U||!Eu(e,n,t))?!1:ag(e,t,n).matched}function PR(t,e,n){return e.length===0&&!t.children[n]}var eg=class{};function xR(t,e,n,r,i,o,s="emptyOnly"){return new tg(t,e,n,r,i,s,o).recognize()}var RR=31,tg=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Zp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new S(4002,`'${e.segmentGroup}'`)}recognize(){let e=UE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(A(({children:n,rootSnapshot:r})=>{let i=new Nt(r,n),o=new vu("",i),s=H1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new So([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,U,n).pipe(A(r=>({children:r,rootSnapshot:n})),mn(r=>{if(r instanceof sa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(A(s=>s instanceof Nt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return de(o).pipe(dr(s=>{let a=r.children[s],l=K1(n,s);return this.processSegmentGroup(e,l,a,s,i)}),Ki((s,a)=>(s.push(...a),s)),fr(null),ff(),Ve(s=>{if(s===null)return Do(r);let a=pT(s);return OR(a),M(a)}))}processSegment(e,n,r,i,o,s,a){return de(n).pipe(dr(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,a).pipe(mn(c=>{if(c instanceof oa)return M(null);throw c}))),ot(l=>!!l),mn(l=>{if(fT(l))return PR(r,i,o)?M(new eg):Do(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return NR(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):Do(i):Do(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=ag(n,i,o);if(!l)return Do(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>RR&&(this.allowRedirects=!1));let h=new So(o,c,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,$E(i),cn(i),i.component??i._loadedComponent??null,i,WE(i)),g=mu(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let y=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,y).pipe(Ve(v=>this.processSegment(e,r,n,v.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=wR(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Te(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Te(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=l,g=new So(f,d,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,$E(r),cn(r),r.component??r._loadedComponent??null,r,WE(r)),y=mu(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let{segmentGroup:v,slicedSegments:T}=UE(n,f,h,c);if(T.length===0&&v.hasChildren())return this.processChildren(u,c,v,g).pipe(A(I=>new Nt(g,I)));if(c.length===0&&T.length===0)return M(new Nt(g,[]));let x=cn(r)===o;return this.processSegment(u,c,v,T,x?U:o,!0,g).pipe(A(I=>new Nt(g,I instanceof Nt?[I]:[])))}))):Do(n)))}getChildConfig(e,n,r){return n.children?M({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?M({routes:n._loadedRoutes,injector:n._loadedInjector}):CR(e,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,n).pipe(Ne(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):DR(n))):M({routes:[],injector:e})}};function OR(t){t.sort((e,n)=>e.value.outlet===U?-1:n.value.outlet===U?1:e.value.outlet.localeCompare(n.value.outlet))}function kR(t){let e=t.value.routeConfig;return e&&e.path===""}function pT(t){let e=[],n=new Set;for(let r of t){if(!kR(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=pT(r.children);e.push(new Nt(r.value,i))}return e.filter(r=>!n.has(r))}function $E(t){return t.data||{}}function WE(t){return t.resolve||{}}function FR(t,e,n,r,i,o){return Ve(s=>xR(t,e,n,r,s.extractedUrl,i,o).pipe(A(({state:a,tree:l})=>z(D({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function LR(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return M(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of gT(l))s.add(c);let a=0;return de(s).pipe(dr(l=>o.has(l)?VR(l,r,t,e):(l.data=mu(l,l.parent,t).resolve,M(void 0))),Ne(()=>a++),qi(1),Ve(l=>a===s.size?M(n):rt))})}function gT(t){let e=t.children.map(n=>gT(n)).flat();return[t,...e]}function VR(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!lT(i)&&(o[aa]=i.title),BR(o,t,e,r).pipe(A(s=>(t._resolvedData=s,t.data=mu(t,t.parent,n).resolve,null)))}function BR(t,e,n,r){let i=Pp(t);if(i.length===0)return M({});let o={};return de(i).pipe(Ve(s=>HR(t[s],e,n,r).pipe(ot(),Ne(a=>{if(a instanceof ia)throw yu(new Ys,a);o[s]=a}))),qi(1),uf(o),mn(s=>fT(s)?rt:jn(s)))}function HR(t,e,n,r){let i=la(e)??r,o=xo(t,i),s=o.resolve?o.resolve(e,n):on(i,()=>o(e,n));return Ar(s)}function Ap(t){return Te(e=>{let n=t(e);return n?de(n).pipe(A(()=>e)):M(e)})}var mT=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===U);return i}getResolvedTitleForRoute(r){return r.data[aa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(jR),providedIn:"root"});let t=e;return t})(),jR=(()=>{let e=class e extends mT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(E(VE))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lg=new w("",{providedIn:"root",factory:()=>({})}),GR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ht({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ut],decls:1,vars:0,template:function(i,o){i&1&&An(0,"router-outlet")},dependencies:[og],encapsulation:2});let t=e;return t})();function cg(t){let e=t.children&&t.children.map(cg),n=e?z(D({},t),{children:e}):D({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==U&&(n.component=GR),n}var ug=new w(""),UR=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(sp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return M(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ar(r.loadComponent()).pipe(A(vT),Ne(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),vn(()=>{this.componentLoaders.delete(r)})),o=new Hi(i,()=>new we).pipe(Bi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return M({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=$R(i,this.compiler,r,this.onLoadEndListener).pipe(vn(()=>{this.childrenLoaders.delete(i)})),a=new Hi(s,()=>new we).pipe(Bi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $R(t,e,n,r){return Ar(t.loadChildren()).pipe(A(vT),Ve(i=>i instanceof bs||Array.isArray(i)?M(i):de(e.compileModuleAsync(i))),A(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ug,[],{optional:!0,self:!0}).flat()),{routes:s.map(cg),injector:o}}))}function WR(t){return t&&typeof t=="object"&&"default"in t}function vT(t){return WR(t)?t.default:t}var dg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(zR),providedIn:"root"});let t=e;return t})(),zR=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qR=new w("");var KR=new w(""),XR=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new we,this.transitionAbortSubject=new we,this.configLoader=_(UR),this.environmentInjector=_(wt),this.urlSerializer=_(rg),this.rootContexts=_(Cu),this.location=_(Fs),this.inputBindingEnabled=_(sg,{optional:!0})!==null,this.titleStrategy=_(mT),this.options=_(lg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(dg),this.createViewTransition=_(qR,{optional:!0}),this.navigationErrorHandler=_(KR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Hp(o)),i=o=>this.events.next(new jp(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(z(D(D({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ke({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Xs,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(it(s=>s.id!==0),A(s=>z(D({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Te(s=>{let a=!1,l=!1;return M(s).pipe(Te(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Pt.SupersededByNewNavigation),rt;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?z(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new _i(c.id,this.urlSerializer.serialize(c.rawUrl),f,kp.IgnoredSameUrlNavigation)),c.resolve(!1),rt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return M(c).pipe(Te(f=>{let h=this.transitions?.getValue();return this.events.next(new ea(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?rt:Promise.resolve(f)}),FR(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ne(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=z(D({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new hu(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:g,restoredState:y,extras:v}=c,T=new ea(f,this.urlSerializer.serialize(h),g,y);this.events.next(T);let x=sT(this.rootComponentType).snapshot;return this.currentTransition=s=z(D({},c),{targetSnapshot:x,urlAfterRedirects:h,extras:z(D({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,M(s)}else{let f="";return this.events.next(new _i(c.id,this.urlSerializer.serialize(c.extractedUrl),f,kp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),rt}}),Ne(c=>{let u=new Fp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),A(c=>(this.currentTransition=s=z(D({},c),{guards:tR(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),fR(this.environmentInjector,c=>this.events.next(c)),Ne(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw yu(this.urlSerializer,c.guardsResult);let u=new Lp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),it(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Pt.GuardRejected),!1)),Ap(c=>{if(c.guards.canActivateChecks.length)return M(c).pipe(Ne(u=>{let d=new Vp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Te(u=>{let d=!1;return M(u).pipe(LR(this.paramsInheritanceStrategy,this.environmentInjector),Ne({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Pt.NoDataFromResolver)}}))}),Ne(u=>{let d=new Bp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Ap(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ne(h=>{d.component=h}),A(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Fl(u(c.targetSnapshot.root)).pipe(fr(null),Gn(1))}),Ap(()=>this.afterPreactivation()),Te(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?de(d).pipe(A(()=>s)):M(s)}),A(c=>{let u=Q1(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=z(D({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Ne(()=>{this.events.next(new na)}),eR(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Gn(1),Ne({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),mf(this.transitionAbortSubject.pipe(Ne(c=>{throw c}))),vn(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",Pt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),mn(c=>{if(l=!0,dT(c))this.events.next(new rr(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),J1(c)?this.events.next(new Ao(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let u=new ta(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let d=on(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof ia){let{message:f,cancellationCode:h}=yu(this.urlSerializer,d);this.events.next(new rr(s.id,this.urlSerializer.serialize(s.extractedUrl),f,h)),this.events.next(new Ao(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=r.errorHandler(c);s.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return rt}))}))}cancelNavigationTransition(r,i,o){let s=new rr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function QR(t){return t!==Xs}var YR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(ZR),providedIn:"root"});let t=e;return t})(),ng=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},ZR=(()=>{let e=class e extends ng{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=vo(e)))(o||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>_(JR),providedIn:"root"});let t=e;return t})(),JR=(()=>{let e=class e extends yT{constructor(){super(...arguments),this.location=_(Fs),this.urlSerializer=_(rg),this.options=_(lg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(dg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ir,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=sT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ea)this.stateMemento=this.createStateMemento();else if(r instanceof _i)this.rawUrlTree=i.initialUrl;else if(r instanceof hu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof na?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof rr&&(r.code===Pt.GuardRejected||r.code===Pt.NoDataFromResolver)?this.restoreHistory(i):r instanceof ta?this.restoreHistory(i,!0):r instanceof yi&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof ir?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=D(D({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=D(D({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=vo(e)))(o||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(qs||{});function eO(t,e){t.events.pipe(it(n=>n instanceof yi||n instanceof rr||n instanceof ta||n instanceof _i),A(n=>n instanceof yi||n instanceof _i?qs.COMPLETE:(n instanceof rr?n.code===Pt.Redirect||n.code===Pt.SupersededByNewNavigation:!1)?qs.REDIRECTING:qs.FAILED),it(n=>n!==qs.REDIRECTING),Gn(1)).subscribe(()=>{e()})}function tO(t){throw t}var nO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=_(kc),this.stateManager=_(yT),this.options=_(lg,{optional:!0})||{},this.pendingTasks=_(bn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(XR),this.urlSerializer=_(rg),this.location=_(Fs),this.urlHandlingStrategy=_(dg),this._events=new we,this.errorHandler=this.options.errorHandler||tO,this.navigated=!1,this.routeReuseStrategy=_(YR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(ug,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(sg,{optional:!0}),this.eventsSubscription=new Ae,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof rr&&i.code!==Pt.Redirect&&i.code!==Pt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof yi)this.navigated=!0;else if(i instanceof Ao){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c=D({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||QR(o.source)},a);this.scheduleNavigation(l,Xs,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}oO(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=D({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(cg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=D(D({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=nT(h)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),f=this.currentUrlTree.root}return rT(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Zs(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Xs,null,i)}navigate(r,i={skipLocationChange:!1}){return iO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=D({},nO):i===!1?o=D({},rO):o=i,Zs(r))return BE(this.currentUrlTree,r,o);let s=this.parseUrl(r);return BE(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});let d=this.pendingTasks.add();return eO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new S(4008,!1)}function oO(t){return!(t instanceof na)&&!(t instanceof Ao)}var sO=new w("");function _T(t,...e){return ui([{provide:ug,multi:!0,useValue:t},[],{provide:No,useFactory:aO,deps:[xn]},{provide:Fc,multi:!0,useFactory:lO},e.map(n=>n.\u0275providers)])}function aO(t){return t.routerState.root}function lO(){let t=_($n);return e=>{let n=t.get(pi);if(e!==n.components[0])return;let r=t.get(xn),i=t.get(cO);t.get(uO)===1&&r.initialNavigation(),t.get(dO,null,q.Optional)?.setUpPreloading(),t.get(sO,null,q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cO=new w("",{factory:()=>new we}),uO=new w("",{providedIn:"root",factory:()=>1});var dO=new w("");var MT=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(V(Sn),V(an))},e.\u0275dir=Je({type:e});let t=e;return t})(),AT=(()=>{let e=class e extends MT{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=vo(e)))(o||e)}})(),e.\u0275dir=Je({type:e,features:[In]});let t=e;return t})(),Fo=new w("");var fO={provide:Fo,useExisting:Dn(()=>Lo),multi:!0};function hO(){let t=tr()?tr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var pO=new w(""),Lo=(()=>{let e=class e extends MT{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hO())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(V(Sn),V(an),V(pO,8))},e.\u0275dir=Je({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&ht("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Dr([fO]),In]});let t=e;return t})();function Nr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function NT(t){return t!=null&&typeof t.length=="number"}var mg=new w(""),vg=new w(""),gO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ko=class{static min(e){return mO(e)}static max(e){return vO(e)}static required(e){return yO(e)}static requiredTrue(e){return _O(e)}static email(e){return CO(e)}static minLength(e){return EO(e)}static maxLength(e){return TO(e)}static pattern(e){return DO(e)}static nullValidator(e){return PT(e)}static compose(e){return LT(e)}static composeAsync(e){return BT(e)}};function mO(t){return e=>{if(Nr(e.value)||Nr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function vO(t){return e=>{if(Nr(e.value)||Nr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function yO(t){return Nr(t.value)?{required:!0}:null}function _O(t){return t.value===!0?null:{required:!0}}function CO(t){return Nr(t.value)||gO.test(t.value)?null:{email:!0}}function EO(t){return e=>Nr(e.value)||!NT(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function TO(t){return e=>NT(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function DO(t){if(!t)return PT;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Nr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function PT(t){return null}function xT(t){return t!=null}function RT(t){return hi(t)?de(t):t}function OT(t){let e={};return t.forEach(n=>{e=n!=null?D(D({},e),n):e}),Object.keys(e).length===0?null:e}function kT(t,e){return e.map(n=>n(t))}function wO(t){return!t.validate}function FT(t){return t.map(e=>wO(e)?e:n=>e.validate(n))}function LT(t){if(!t)return null;let e=t.filter(xT);return e.length==0?null:function(n){return OT(kT(n,e))}}function VT(t){return t!=null?LT(FT(t)):null}function BT(t){if(!t)return null;let e=t.filter(xT);return e.length==0?null:function(n){let r=kT(n,e).map(RT);return cf(r).pipe(A(OT))}}function HT(t){return t!=null?BT(FT(t)):null}function ET(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function jT(t){return t._rawValidators}function GT(t){return t._rawAsyncValidators}function fg(t){return t?Array.isArray(t)?t:[t]:[]}function Du(t,e){return Array.isArray(t)?t.includes(e):t===e}function TT(t,e){let n=fg(e);return fg(t).forEach(i=>{Du(n,i)||n.push(i)}),n}function DT(t,e){return fg(e).filter(n=>!Du(t,n))}var wu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=VT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=HT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ci=class extends wu{get formDirective(){return null}get path(){return null}},Ei=class extends wu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},bu=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},bO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},c5=z(D({},bO),{"[class.ng-submitted]":"isSubmitted"}),Vo=(()=>{let e=class e extends bu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(V(Ei,2))},e.\u0275dir=Je({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Oc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[In]});let t=e;return t})(),UT=(()=>{let e=class e extends bu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(V(Ci,10))},e.\u0275dir=Je({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Oc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[In]});let t=e;return t})();var ua="VALID",Tu="INVALID",Ro="PENDING",da="DISABLED",Pr=class{},Su=class extends Pr{constructor(e,n){super(),this.value=e,this.source=n}},fa=class extends Pr{constructor(e,n){super(),this.pristine=e,this.source=n}},ha=class extends Pr{constructor(e,n){super(),this.touched=e,this.source=n}},Oo=class extends Pr{constructor(e,n){super(),this.status=e,this.source=n}},hg=class extends Pr{constructor(e){super(),this.source=e}},pg=class extends Pr{constructor(e){super(),this.source=e}};function $T(t){return(Pu(t)?t.validators:t)||null}function SO(t){return Array.isArray(t)?VT(t):t||null}function WT(t,e){return(Pu(e)?e.asyncValidators:t)||null}function IO(t){return Array.isArray(t)?HT(t):t||null}function Pu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function MO(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")}function AO(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new S(1002,"")})}var Iu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ks(()=>this.statusReactive()),this.statusReactive=fi(void 0),this._pristine=ks(()=>this.pristineReactive()),this.pristineReactive=fi(!0),this._touched=ks(()=>this.touchedReactive()),this.touchedReactive=fi(!1),this._events=new we,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Zn(this.statusReactive)}set status(e){Zn(()=>this.statusReactive.set(e))}get valid(){return this.status===ua}get invalid(){return this.status===Tu}get pending(){return this.status==Ro}get disabled(){return this.status===da}get enabled(){return this.status!==da}get pristine(){return Zn(this.pristineReactive)}set pristine(e){Zn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Zn(this.touchedReactive)}set touched(e){Zn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(DT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(DT(e,this._rawAsyncValidators))}hasValidator(e){return Du(this._rawValidators,e)}hasAsyncValidator(e){return Du(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(z(D({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ha(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ha(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(z(D({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new fa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new fa(!0,r))}markAsPending(e={}){this.status=Ro;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Oo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(z(D({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=da,this.errors=null,this._forEachChild(i=>{i.disable(z(D({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Su(this.value,r)),this._events.next(new Oo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(D({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ua,this._forEachChild(r=>{r.enable(z(D({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(z(D({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ua||this.status===Ro)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Su(this.value,n)),this._events.next(new Oo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(z(D({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?da:ua}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ro,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=RT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Oo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?da:this.errors?Tu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ro)?Ro:this._anyControlsHaveStatus(Tu)?Tu:ua}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new fa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ha(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=SO(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=IO(this._rawAsyncValidators)}},Mu=class extends Iu{constructor(e,n,r){super($T(n),WT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){AO(this,!0,e),Object.keys(e).forEach(r=>{MO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var xu=new w("CallSetDisabledState",{providedIn:"root",factory:()=>Ru}),Ru="always";function zT(t,e){return[...e.path,t]}function gg(t,e,n=Ru){yg(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),PO(t,e),RO(t,e),xO(t,e),NO(t,e)}function wT(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Nu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Au(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function NO(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function yg(t,e){let n=jT(t);e.validator!==null?t.setValidators(ET(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=GT(t);e.asyncValidator!==null?t.setAsyncValidators(ET(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Au(e._rawValidators,i),Au(e._rawAsyncValidators,i)}function Nu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=jT(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=GT(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Au(e._rawValidators,r),Au(e._rawAsyncValidators,r),n}function PO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&qT(t,e)})}function xO(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&qT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function qT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function RO(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function OO(t,e){t==null,yg(t,e)}function kO(t,e){return Nu(t,e)}function KT(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function FO(t){return Object.getPrototypeOf(t.constructor)===AT}function LO(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function XT(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Lo?n=o:FO(o)?r=o:i=o}),i||r||n||null}function VO(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function bT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ST(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var pa=class extends Iu{constructor(e=null,n,r){super($T(n),WT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ST(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ST(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var BO=t=>t instanceof pa;var HO={provide:Ei,useExisting:Dn(()=>ga)},IT=Promise.resolve(),ga=(()=>{let e=class e extends Ei{constructor(r,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new pa,this._registered=!1,this.name="",this.update=new xe,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=XT(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),KT(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){gg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){IT.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Bc(i);IT.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?zT(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(V(Ci,9),V(mg,10),V(vg,10),V(Fo,10),V(wr,8),V(xu,8))},e.\u0275dir=Je({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Dr([HO]),In,Cr]});let t=e;return t})(),QT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Je({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var jO={provide:Fo,useExisting:Dn(()=>_g),multi:!0},_g=(()=>{let e=class e extends AT{writeValue(r){this.setProperty("value",parseFloat(r))}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=vo(e)))(o||e)}})(),e.\u0275dir=Je({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,o){i&1&&ht("change",function(a){return o.onChange(a.target.value)})("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Dr([jO]),In]});let t=e;return t})(),YT=new w("");var GO={provide:Ci,useExisting:Dn(()=>Cg)},Cg=(()=>{let e=class e extends Ci{get submitted(){return Zn(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=ks(()=>this._submittedReactive()),this._submittedReactive=fi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return gg(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){wT(r.control||null,r,!1),VO(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),LO(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new hg(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new pg(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(wT(i||null,r),BO(o)&&(gg(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);OO(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&kO(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yg(this.form,this),this._oldForm&&Nu(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(V(mg,10),V(vg,10),V(xu,8))},e.\u0275dir=Je({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&ht("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Dr([GO]),In,Cr]});let t=e;return t})();var UO={provide:Ei,useExisting:Dn(()=>Eg)},Eg=(()=>{let e=class e extends Ei{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new xe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=XT(this,s)}ngOnChanges(r){this._added||this._setUpControl(),KT(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return zT(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(V(Ci,13),V(mg,10),V(vg,10),V(Fo,10),V(YT,8))},e.\u0275dir=Je({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Dr([UO]),In,Cr]});let t=e;return t})();var ZT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=ut({});let t=e;return t})();var Ou=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:xu,useValue:r.callSetDisabledState??Ru}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=ut({imports:[ZT]});let t=e;return t})(),JT=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:YT,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:xu,useValue:r.callSetDisabledState??Ru}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=ut({imports:[ZT]});let t=e;return t})();function $O(t,e){if(t&1&&(ye(0,"span"),je(1),fe()),t&2){let n=e.$implicit,r=Gt();He(),yo(r.reverse?r.sliderLabels[r.sliderLabels.length-1-n]:n)}}var eD=(()=>{class t{reverse=!1;onChange=()=>{};onTouched=()=>{};sliderValue=0;maxValue=10;get value(){return this.reverse?this.maxValue-this.sliderValue:this.sliderValue}get sliderLabels(){return Array.from({length:this.maxValue+1},(n,r)=>r)}writeValue(n){this.sliderValue=this.reverse?this.maxValue-n:n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}onInput(n){let r=n.target;this.sliderValue=r.value?parseInt(r.value,10):0,this.onChange(this.value)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ht({type:t,selectors:[["app-slider"]],inputs:{reverse:"reverse"},standalone:!0,features:[Dr([{provide:Fo,useExisting:Dn(()=>t),multi:!0}]),Ut],decls:5,vars:2,consts:[[1,"slider-container"],["type","range","id","slider","min","0",3,"ngModelChange","input","ngModel","max"],[1,"slider-labels"]],template:function(r,i){r&1&&(ye(0,"div",0)(1,"input",1),Co("ngModelChange",function(s){return Os(i.sliderValue,s)||(i.sliderValue=s),s}),ht("input",function(s){return i.onInput(s)}),fe()(),ye(2,"div",2),VC(3,$O,2,1,"span",null,LC),fe()),r&2&&(He(),_o("ngModel",i.sliderValue),Mn("max",i.maxValue),He(2),BC(i.sliderLabels))},dependencies:[Ou,Lo,_g,Vo,ga],styles:[".slider-container[_ngcontent-%COMP%]{padding:.5rem}.slider-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.slider-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem}.slider-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-align:center}"]})}return t})();var ku=function(t){return t.WERKBEOORDELING="werkbeoordeling",t}(ku||{});var WO=["*"],ma=class{},zO=(()=>{let e=class e extends ma{constructor(r){super(),this.http=r}getSvg(r){return this.http.get(r,{responseType:"text"})}};e.\u0275fac=function(i){return new(i||e)(E(yp))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),qO=new w("SERVER_URL"),Fu=(()=>{let e=class e{constructor(){this.loader=_(ma),this.serverUrl=_(qO,{optional:!0}),this.document=_(Xe),this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map}addSvg(r,i){if(!this.iconsByUrl.has(r)){let o=this.document.createElement("DIV");o.innerHTML=i;let s=o.querySelector("svg");this.iconsByUrl.set(r,s)}}loadSvg(r,i=r){if(this.serverUrl&&r.match(/^(http(s)?):/)===null&&(r=this.serverUrl+r,i=r),this.iconsByUrl.has(i))return M(this.iconsByUrl.get(i));if(this.iconsLoadingByUrl.has(i))return this.iconsLoadingByUrl.get(i);let o=this.loader.getSvg(r).pipe(A(s=>{let a=this.document.createElement("DIV");return a.innerHTML=s,a.querySelector("svg")}),Ne(s=>this.iconsByUrl.set(i,s)),mn(s=>(console.error(s),jn(s))),vn(()=>this.iconsLoadingByUrl.delete(i)),Qr());return this.iconsLoadingByUrl.set(i,o),o}getSvgByName(r){return this.iconsByUrl.has(r)?M(this.iconsByUrl.get(r)):this.iconsLoadingByUrl.has(r)?this.iconsLoadingByUrl.get(r):jn(`No svg with name '${r}' has been loaded`)}unloadSvg(r){this.iconsByUrl.has(r)&&this.iconsByUrl.delete(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function KO(t){return t||new Fu}var XO={provide:Fu,deps:[[new ci,new Ec,Fu]],useFactory:KO},Lu=class{constructor(){this.loaded=!1}},tD=(()=>{let e=class e{constructor(){this.element=_(an),this.differs=_(Vc),this.renderer=_(Sn),this.iconReg=_(Fu),this.src=wn(),this.name=wn(),this.stretch=wn(!1),this.applyClass=wn(!1),this.svgClass=wn(),this.klass=wn(void 0,{alias:"class"}),this.viewBox=wn(),this.svgAriaLabel=wn(),this.svg=fi(0),this.svgStyle=wn(),this.helper=new Lu,Nn(()=>{(this.src()||this.name())&&(this.destroy(),this.init(this.src(),this.name()))},{allowSignalWrites:!0}),Nn(()=>{let o=this.viewBox();this.svg()&&this.updateViewBox(o)}),Nn(()=>{let o=this.svgStyle()||{};this.svg()&&this.applyChanges(this.helper.differ.diff(o))}),Nn(()=>{let o=this.svg();this.applyClass()?this.setClass(this.elemSvg,null,this.klass()):this.setClass(this.elemSvg,this.klass(),null)});let r;Nn(()=>{let o=this.svg();this.setClass(this.elemSvg,r,this.svgClass()),r=this.svgClass()});let i;Nn(()=>{let o=this.svg(),s=this.element.nativeElement;this.setClass(s,i,this.klass()),this.setClass(this.elemSvg,i,this.applyClass()?this.klass():null),i=this.klass()}),Nn(()=>{let o=this.svg();this.doAria(this.svgAriaLabel())}),Nn(()=>{let o=this.svg();this.stylize(this.stretch())})}ngOnDestroy(){this.destroy()}get elemSvg(){return this.element.nativeElement.firstChild}init(r,i){if(r&&i){let o=this.iconReg.loadSvg(r,i);o&&(this.helper.icnSub=o.subscribe(s=>this.initSvg(s)))}else if(i){let o=this.iconReg.getSvgByName(i);o&&(this.helper.icnSub=o.subscribe(s=>this.initSvg(s)))}else if(r){let o=this.iconReg.loadSvg(r);o&&(this.helper.icnSub=o.subscribe(s=>this.initSvg(s)))}else this.element.nativeElement.innerHTML="",this.svg.set(0)}initSvg(r){!this.helper.loaded&&r&&this.setSvg(r)}destroy(){this.helper.icnSub?.unsubscribe(),this.helper=new Lu,this.helper.differ=this.differs.find({}).create()}setSvg(r){if(!this.helper.loaded&&r){this.helper.svg=r;let i=r.cloneNode(!0),o=this.element.nativeElement;o.innerHTML="",this.renderer.appendChild(o,i),this.helper.loaded=!0,this.copyNgContentAttribute(o,i),this.svg.update(s=>s+1)}}updateViewBox(r){if(r){let i=this.elemSvg;if(r==="auto"){let o=i.getAttribute("width"),s=i.getAttribute("height");if(s&&o){let a=`0 0 ${o} ${s}`;this.renderer.setAttribute(i,"viewBox",a),this.renderer.removeAttribute(i,"width"),this.renderer.removeAttribute(i,"height")}}else r!==""&&(this.renderer.setAttribute(i,"viewBox",r),this.renderer.removeAttribute(i,"width"),this.renderer.removeAttribute(i,"height"))}}copyNgContentAttribute(r,i){let o=r.attributes,s=o.length;for(let a=0;a<s;a+=1){let l=o.item(a);if(l&&l.name.startsWith("_ngcontent")){this.setNgContentAttribute(i,l.name);break}}}setNgContentAttribute(r,i){this.renderer.setAttribute(r,i,"");let o=r.childNodes.length;for(let s=0;s<o;s+=1){let a=r.childNodes[s];a instanceof Element&&this.setNgContentAttribute(a,i)}}stylize(r){if(this.helper.svg){let i=this.element.nativeElement.firstChild;r===!0?this.renderer.setAttribute(i,"preserveAspectRatio","none"):r===!1&&this.renderer.removeAttribute(i,"preserveAspectRatio")}}applyChanges(r){r&&(r.forEachRemovedItem(i=>this.setStyle(i.key,null)),r.forEachAddedItem(i=>this.setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this.setStyle(i.key,i.currentValue)))}setStyle(r,i){let[o,s]=r.split(".");i=i!==null&&s?`${i}${s}`:i;let a=this.elemSvg;i!==null?this.renderer.setStyle(a,o,i):this.renderer.removeStyle(a,o)}setClass(r,i,o){if(r){if(i){let s=(Array.isArray(i)?i:i.split(" ")).filter(a=>a);for(let a of s)this.renderer.removeClass(r,a)}if(o){let s=(Array.isArray(o)?o:o.split(" ")).filter(a=>a);for(let a of s)this.renderer.addClass(r,a)}}}doAria(r){let i=this.element.nativeElement.firstChild;i&&!(r===void 0&&i.hasAttribute("aria-label"))&&(r===""?(this.renderer.setAttribute(i,"aria-hidden","true"),this.renderer.removeAttribute(i,"aria-label")):(this.renderer.removeAttribute(i,"aria-hidden"),this.renderer.setAttribute(i,"aria-label",r)))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ht({type:e,selectors:[["svg-icon"]],inputs:{src:[1,"src"],name:[1,"name"],stretch:[1,"stretch"],applyClass:[1,"applyClass"],svgClass:[1,"svgClass"],klass:[1,"class","klass"],viewBox:[1,"viewBox"],svgAriaLabel:[1,"svgAriaLabel"],svgStyle:[1,"svgStyle"]},standalone:!0,features:[Ut],ngContentSelectors:WO,decls:1,vars:0,template:function(i,o){i&1&&(GC(),UC(0))},encapsulation:2,changeDetection:0});let t=e;return t})();var nD=(()=>{let e=class e{static forRoot(r={}){return{ngModule:e,providers:[XO,r.loader||{provide:ma,useClass:zO}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=dt({type:e}),e.\u0275inj=ut({});let t=e;return t})();var Ye=function(t){return t.TOP="top",t.LEFT="left",t.RIGHT="right",t.BOTTOM="bottom",t}(Ye||{});var xr=function(t){return t.CLICK="click",t.HOVER="hover",t}(xr||{});var rD=(()=>{class t{element;renderer;popper="No text configured";popperTrigger=xr.HOVER;showByDefault=!1;popperPosition=Ye.BOTTOM;popperArrow=!0;popperClasses="";popperFadeOutDelay=1e3;popperDiv=null;firstClick=!0;removeTimeout=void 0;destroyListener=()=>{};resizeListener=()=>{};constructor(n,r){this.element=n,this.renderer=r}ngOnDestroy(){this.popperDiv&&this.removePopper(!0,!0),this.destroyListener&&this.destroyListener(),this.resizeListener&&this.resizeListener()}handleClick(){this.popperTrigger===xr.CLICK&&!this.popperDiv&&(this.createPopper(),this.destroyListener=this.renderer.listen("document","click",this.handleDocumentClick),this.resizeListener=this.renderer.listen("window","resize",this.handleDocumentResize),this.popperFadeOutDelay>0&&this.removePopper())}handleDocumentClick=n=>{if(this.popperDiv&&this.popperTrigger===xr.CLICK){let r=n.target;r!==this.popperDiv&&this.element.nativeElement!==r&&!this.element.nativeElement.contains(r)&&(this.removePopper(!0),this.destroyListener())}};handleDocumentResize=()=>{this.resizeListener(),this.removePopper(!0,!0)};onMouseEnter(){this.popperTrigger===xr.HOVER&&!this.popperDiv?(this.popperFadeOutDelay=100,this.createPopper()):this.popperTrigger===xr.HOVER&&this.popperDiv&&(this.removePopper(!0,!0),this.createPopper())}onMouseLeave(){this.popperDiv&&this.popperTrigger===xr.HOVER&&this.removePopper()}createPopper(){if(this.popperDiv&&this.removeTimeout&&this.removePopper(!0),this.popperDiv=this.renderer.createElement("div"),this.renderer.addClass(this.popperDiv,"popper"),typeof this.popper=="string"){let n=this.renderer.createText(this.popper);this.renderer.appendChild(this.popperDiv,n)}else this.renderer.appendChild(this.popperDiv,this.popper);this.renderer.appendChild(document.body,this.popperDiv),this.handlePopperFade(),this.addPopperClasses(this.popperClasses),this.calculatePopperPosition(),this.popperArrow&&this.createPopperArrow()}removePopper(n,r){n?n&&!r?(this.handlePopperFade(),clearTimeout(this.removeTimeout),this.removeTimeout=setTimeout(()=>{this.renderer.removeChild(document.body,this.popperDiv),this.popperDiv=null},150)):n&&r&&(clearTimeout(this.removeTimeout),this.renderer.removeChild(document.body,this.popperDiv),this.popperDiv=null):this.removeTimeout=setTimeout(()=>{this.handlePopperFade(),clearTimeout(this.removeTimeout),this.removeTimeout=setTimeout(()=>{this.renderer.removeChild(document.body,this.popperDiv),this.popperDiv=null},150)},this.popperFadeOutDelay)}calculatePopperPosition(){if(!this.popperDiv)return;let n=this.element.nativeElement.getBoundingClientRect(),r=4;if(this.popperPosition===Ye.BOTTOM||this.popperPosition===Ye.TOP){let i;this.popperPosition===Ye.BOTTOM?(this.popperArrow&&(r=this.popperDiv.clientHeight/4),i=n.top+n.height+r):(this.popperArrow&&(r=this.popperDiv.clientHeight*1.5),i=n.top-r);let o=n.left+n.width/2,s=this.popperDiv.offsetWidth,a=o-s/2;this.renderer.setStyle(this.popperDiv,"top",`${i}px`),this.renderer.setStyle(this.popperDiv,"left",`${a}px`)}else if(this.popperPosition===Ye.RIGHT||this.popperPosition===Ye.LEFT){let i=4;this.popperLikelyHasSecondLine()&&(i=2.5);let o=n.top-this.popperDiv.clientHeight/i,s;this.popperPosition===Ye.RIGHT?(this.popperArrow&&(r=this.popperDiv.clientHeight/5),s=n.left+n.width+r):(this.popperArrow&&(r=this.popperDiv.clientHeight*.25),s=n.left-this.popperDiv.clientWidth-r),this.renderer.setStyle(this.popperDiv,"top",`${o}px`),this.renderer.setStyle(this.popperDiv,"left",`${s}px`)}}createPopperArrow(){if(!this.popperDiv)return;let n=this.renderer.createElement("div");this.renderer.addClass(n,"popper-arrow");let r=2;this.popperLikelyHasSecondLine()&&(r=4),this.renderer.setStyle(n,"width",`${Math.floor(this.popperDiv.clientHeight/r)}px`),this.renderer.setStyle(n,"height",`${Math.floor(this.popperDiv.clientHeight/r)}px`);let i=this.popperDiv.clientHeight,o=4,s=6,a=Math.floor(this.popperDiv.clientHeight/r/5);this.popperPosition===Ye.TOP?this.renderer.setStyle(n,Ye.BOTTOM,`-${Math.floor(i/o)}px`):this.popperPosition===Ye.BOTTOM?this.renderer.setStyle(n,Ye.TOP,`-${Math.floor(i/o-a)}px`):this.popperPosition===Ye.RIGHT?this.renderer.setStyle(n,Ye.LEFT,`-${Math.floor(i/s-a)}px`):this.popperPosition===Ye.LEFT&&this.renderer.setStyle(n,Ye.RIGHT,`-${Math.floor(i/s-a)}px`),this.renderer.appendChild(this.popperDiv,n)}handlePopperFade(){if(!this.popperDiv)return;let n="full-opacity";this.popperDiv.classList.contains(n)?this.renderer.removeClass(this.popperDiv,n):setTimeout(()=>{this.renderer.addClass(this.popperDiv,n)})}popperLikelyHasSecondLine(){if(!this.popperDiv)return!1;let n=Math.floor(this.popperDiv.offsetWidth),r=Math.floor(parseInt(getComputedStyle(this.popperDiv).maxWidth));return n===r}addPopperClasses(n){if(n){let r=n.split(",").map(i=>i.trim());for(let i of r)this.renderer.addClass(this.popperDiv,i)}}static \u0275fac=function(r){return new(r||t)(V(an),V(Sn))};static \u0275dir=Je({type:t,selectors:[["","popper",""]],hostBindings:function(r,i){r&1&&ht("click",function(){return i.handleClick()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{popper:"popper",popperTrigger:"popperTrigger",showByDefault:"showByDefault",popperPosition:"popperPosition",popperArrow:"popperArrow",popperClasses:"popperClasses",popperFadeOutDelay:"popperFadeOutDelay"},standalone:!0})}return t})();var QO="firebase",YO="10.12.3";ur(QO,YO,"app");var va=new zn("ANGULARFIRE2_VERSION");var ZO=(t,e)=>{let n=e?[e]:ay(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ti=class{constructor(){return ZO(JO)}},JO="app-check";function Dg(){}var Vu=class{zone;delegate;constructor(e,n=of){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},wg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Dg,{},Dg,Dg)),n.pipe(Ne({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Bu=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Vu(Zone.current)),this.insideAngular=n.run(()=>new Vu(Zone.current,ps)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(E(le))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ek(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function or(t){return tk(ek())(t)}function tk(t){return function(n){return n=n.lift(new wg(t.ngZone)),n.pipe(en(t.outsideAngular),Lt(t.insideAngular))}}var ik=new Map,ok={activated:!1,tokenObservers:[]},sk={initialized:!1,enabled:!1};function un(t){return ik.get(t)||Object.assign({},ok)}function cD(){return sk}var ak="https://content-firebaseappcheck.googleapis.com/v1";var lk="exchangeDebugToken",oD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},K5=24*60*60*1e3;var Sg=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return oe(this,null,function*(){this.stop();try{this.pending=new Ue,this.pending.promise.catch(n=>{}),yield ck(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ue,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function ck(t){return new Promise(e=>{setTimeout(e,t)})}var uk={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Rr=new Jv("appCheck","AppCheck",uk);function uD(t){if(!un(t).activated)throw Rr.create("use-before-activation",{appName:t.name})}function dD(r,i){return oe(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(h){throw Rr.create("fetch-network-error",{originalErrorMessage:h?.message})}if(l.status!==200)throw Rr.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(h){throw Rr.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Rr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function fD(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${ak}/projects/${n}/apps/${r}:${lk}?key=${i}`,body:{debug_token:e}}}var dk="firebase-app-check-database",fk=1,Ig="firebase-app-check-store";var Hu=null;function hk(){return Hu||(Hu=new Promise((t,e)=>{try{let n=indexedDB.open(dk,fk);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Rr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ig,{keyPath:"compositeKey"})}}}catch(n){e(Rr.create("storage-open",{originalErrorMessage:n?.message}))}}),Hu)}function pk(t,e){return gk(mk(t),e)}function gk(t,e){return oe(this,null,function*(){let r=(yield hk()).transaction(Ig,"readwrite"),o=r.objectStore(Ig).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(Rr.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function mk(t){return`${t.options.appId}-${t.name}`}var Mg=new Ri("@firebase/app-check");function bg(t,e){return Zv()?pk(t,e).catch(n=>{Mg.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function hD(){return cD().enabled}function pD(){return oe(this,null,function*(){let t=cD();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var vk={error:"UNKNOWN_ERROR"};function yk(t){return tl.encodeString(JSON.stringify(t),!1)}function Ag(t,e=!1){return oe(this,null,function*(){let n=t.app;uD(n);let r=un(n),i=r.token,o;if(i&&!ya(i)&&(r.token=void 0,i=void 0),!i){let l=yield r.cachedTokenPromise;l&&(ya(l)?i=l:yield bg(n,void 0))}if(!e&&i&&ya(i))return{token:i.token};let s=!1;if(hD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=dD(fD(n,yield pD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let l=yield r.exchangeTokenPromise;return yield bg(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield un(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Mg.warn(l.message):Mg.error(l),o=l}let a;return i?o?ya(i)?a={token:i.token,internalError:o}:a=aD(o):(a={token:i.token},r.token=i,yield bg(n,i)):a=aD(o),s&&Tk(n,a),a})}function _k(t){return oe(this,null,function*(){let e=t.app;uD(e);let{provider:n}=un(e);if(hD()){let r=yield pD(),{token:i}=yield dD(fD(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function Ck(t,e,n,r){let{app:i}=t,o=un(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ya(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),sD(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>sD(t))}function gD(t,e){let n=un(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function sD(t){let{app:e}=t,n=un(e),r=n.tokenRefresher;r||(r=Ek(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ek(t){let{app:e}=t;return new Sg(()=>oe(this,null,function*(){let n=un(e),r;if(n.token?r=yield Ag(t,!0):r=yield Ag(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=un(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},oD.RETRIAL_MIN_WAIT,oD.RETRIAL_MAX_WAIT)}function Tk(t,e){let n=un(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ya(t){return t.expireTimeMillis-Date.now()>0}function aD(t){return{token:yk(vk),error:t}}var Ng=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=un(this.app);for(let n of e)gD(this.app,n.next);return Promise.resolve()}};function Dk(t,e){return new Ng(t,e)}function wk(t){return{getToken:e=>Ag(t,e),getLimitedUseToken:()=>_k(t),addTokenListener:e=>Ck(t,"INTERNAL",e),removeTokenListener:e=>gD(t.app,e)}}var bk="@firebase/app-check",Sk="0.8.5";var Ik="app-check",lD="app-check-internal";function Mk(){ls(new Hn(Ik,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Dk(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(lD).initialize()})),ls(new Hn(lD,t=>{let e=t.getProvider("app-check").getImmediate();return wk(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ur(bk,Sk)}Mk();var Ak=["localhost","0.0.0.0","127.0.0.1"],s$=typeof window<"u"&&Ak.includes(window.location.hostname);var Nk="firebase",Pk="10.12.3";St.registerVersion(Nk,Pk,"app-compat");var xk=["ngOnDestroy"],yD=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(xk.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return r?.spy?.apply&&r.spy.apply(o,c,d),d})})})});var ju=class{constructor(e){return e}},Bo=new w("angularfire2.app.options"),Ho=new w("angularfire2.app.name");function _a(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=St.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>St.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;Rk("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ju(s)}var Rk=(t,...e)=>{ap()&&typeof console<"u"&&console[t](...e)},Ok={provide:ju,useFactory:_a,deps:[Bo,le,[new ci,Ho]]},_D=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Bo,useValue:n},{provide:Ho,useValue:r}]}}constructor(n){St.registerVersion("angularfire",va.full,"core"),St.registerVersion("angularfire",va.full,"app-compat"),St.registerVersion("angular",qC.full,n.toString())}static \u0275fac=function(r){return new(r||t)(E(et))};static \u0275mod=dt({type:t});static \u0275inj=ut({providers:[Ok]})}return t})();function Gu(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return kk(i,s)||(vD("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Fk?" You may need to reload as Firebase is not HMR aware.":""}`),vD("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function kk(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var Fk=typeof module<"u"&&!!module.hot,vD=(t,...e)=>{ap()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Pg=new w("angularfire2.auth.use-emulator"),xg=new w("angularfire2.auth.settings"),Rg=new w("angularfire2.auth.tenant-id"),Og=new w("angularfire2.auth.langugage-code"),kg=new w("angularfire2.auth.use-device-language"),Fg=new w("angularfire.auth.persistence"),Lg=(t,e,n,r,i,o,s,a)=>Gu(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]),Uu=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,l,c,u,d,f,h){let g=new we,y=M(void 0).pipe(Lt(s.outsideAngular),Te(()=>o.runOutsideAngular(()=>import("./chunk-AY2MJX7P.js"))),A(()=>_a(n,o,r)),A(v=>Lg(v,o,a,c,u,d,l,f)),Bl({bufferSize:1,refCount:!1}));if(To(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=M(null);else{y.pipe(ot()).subscribe();let v=y.pipe(Te(I=>I.getRedirectResult().then(j=>j,()=>null)),or,Bl({bufferSize:1,refCount:!1})),T=y.pipe(Te(I=>new $(j=>({unsubscribe:o.runOutsideAngular(()=>I.onAuthStateChanged(Se=>j.next(Se),Se=>j.error(Se),()=>j.complete()))})))),x=y.pipe(Te(I=>new $(j=>({unsubscribe:o.runOutsideAngular(()=>I.onIdTokenChanged(Se=>j.next(Se),Se=>j.error(Se),()=>j.complete()))}))));this.authState=v.pipe(Hl(T),en(s.outsideAngular),Lt(s.insideAngular)),this.user=v.pipe(Hl(x),en(s.outsideAngular),Lt(s.insideAngular)),this.idToken=this.user.pipe(Te(I=>I?de(I.getIdToken()):M(null))),this.idTokenResult=this.user.pipe(Te(I=>I?de(I.getIdTokenResult()):M(null))),this.credential=zi(v,g,this.authState.pipe(it(I=>!I))).pipe(A(I=>I?.user?I:null),en(s.outsideAngular),Lt(s.insideAngular))}return yD(this,y,o,{spy:{apply:(v,T,x)=>{(v.startsWith("signIn")||v.startsWith("createUser"))&&x.then(I=>g.next(I))}}})}static \u0275fac=function(r){return new(r||t)(E(Bo),E(Ho,8),E(et),E(le),E(Bu),E(Pg,8),E(xg,8),E(Rg,8),E(Og,8),E(kg,8),E(Fg,8),E(Ti,8))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var ED="@firebase/database",TD="1.0.6";var Xm="";function Qm(t){Xm=t}var Wg=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Oe(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:nl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var zg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ft(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var JD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Wg(e)}}catch{}return new zg},wi=JD("localStorage"),qg=JD("sessionStorage");var $o=new Ri("@firebase/database"),ew=function(){let t=1;return function(){return t++}}(),tw=function(t){let e=iy(t),n=new ry;n.update(e);let r=n.digest();return tl.encodeByteArray(r)},Ua=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ua.apply(null,r):typeof r=="object"?e+=Oe(r):e+=r,e+=" "}return e},bi=null,DD=!0,nw=function(t,e){C(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?($o.logLevel=oy.VERBOSE,bi=$o.log.bind($o),e&&qg.set("logging_enabled",!0)):typeof t=="function"?bi=t:(bi=null,qg.remove("logging_enabled"))},$e=function(...t){if(DD===!0&&(DD=!1,bi===null&&qg.get("logging_enabled")===!0&&nw(!0)),bi){let e=Ua.apply(null,t);bi(e)}},$a=function(t){return function(...e){$e(t,...e)}},Kg=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ua(...t);$o.error(e)},kn=function(...t){let e=`FIREBASE FATAL ERROR: ${Ua(...t)}`;throw $o.error(e),new Error(e)},tt=function(...t){let e="FIREBASE WARNING: "+Ua(...t);$o.warn(e)},Lk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Vk=function(t){if(pn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Lr="[MIN_NAME]",sr="[MAX_NAME]",Ii=function(t,e){if(t===e)return 0;if(t===Lr||e===sr)return-1;if(e===Lr||t===sr)return 1;{let n=wD(t),r=wD(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Bk=function(t,e){return t===e?0:t<e?-1:1},Ca=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Oe(e))},Ym=function(t){if(typeof t!="object"||t===null)return Oe(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Oe(e[r]),n+=":",n+=Ym(t[e[r]]);return n+="}",n},rw=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function We(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var iw=function(t){C(!vd(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Hk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},jk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Gk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var Uk=new RegExp("^-?(0*)\\d{1,10}$"),$k=-2147483648,Wk=2147483647,wD=function(t){if(Uk.test(t)){let e=Number(t);if(e>=$k&&e<=Wk)return e}return null},Jo=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw tt("Exception was thrown by user callback.",n),e},Math.floor(0))}},zk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wa=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Xg=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){tt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Qg=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?($e("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tt(e)}},ba=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Wu="5",ow="v",sw="s",aw="r",lw="f",cw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uw="ls",dw="p",Yg="ac",fw="websocket",hw="long_polling";var zu=class{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function qk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function pw(t,e,n){C(typeof e=="string","typeof type must == string"),C(typeof n=="object","typeof params must == object");let r;if(e===fw)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===hw)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);qk(t)&&(n.ns=t.namespace);let i=[];return We(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Zg=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Ft(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Xv(this.counters_)}};var Vg={},Bg={};function Zm(t){let e=t.toString();return Vg[e]||(Vg[e]=new Zg),Vg[e]}function Kk(t,e){let n=t.toString();return Bg[n]||(Bg[n]=e()),Bg[n]}var Jg=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Jo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var bD="start",Xk="close",Qk="pLPCommand",Yk="pRTLPCB",gw="id",mw="pw",vw="ser",Zk="cb",Jk="seg",eF="ts",tF="d",nF="dframe",yw=1870,_w=30,rF=yw-_w,iF=25e3,oF=3e4,Aa=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$a(e),this.stats_=Zm(n),this.urlFn=l=>(this.appCheckToken&&(l[Yg]=this.appCheckToken),pw(n,hw,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Jg(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(oF)),Vk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new em((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===bD)this.id=a,this.password=l;else if(s===Xk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[bD]="t",r[vw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Zk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ow]=Wu,this.transportSessionId&&(r[sw]=this.transportSessionId),this.lastSessionId&&(r[uw]=this.lastSessionId),this.applicationId&&(r[dw]=this.applicationId),this.appCheckToken&&(r[Yg]=this.appCheckToken),typeof location<"u"&&location.hostname&&cw.test(location.hostname)&&(r[aw]=lw);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return pn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Hk()&&!jk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Oe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Kv(n),i=rw(r,rF);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(pn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[nF]="t",r[gw]=e,r[mw]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Oe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},em=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,pn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=ew(),window[Qk+this.uniqueCallbackIdentifier]=e,window[Yk+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){$e("frame writing exception"),a.stack&&$e(a.stack),$e(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||$e("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[gw]=this.myID,e[mw]=this.myPW,e[vw]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+_w+r.length<=yw;){let s=this.pendingSegs.shift();r=r+"&"+Jk+i+"="+s.seg+"&"+eF+i+"="+s.ts+"&"+tF+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(iF)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){pn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{$e("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var sF=16384,aF=45e3,qu=null;typeof MozWebSocket<"u"?qu=MozWebSocket:typeof WebSocket<"u"&&(qu=WebSocket);var Go=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$a(this.connId),this.stats_=Zm(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[ow]=Wu,!pn()&&typeof location<"u"&&location.hostname&&cw.test(location.hostname)&&(a[aw]=lw),r&&(a[sw]=r),i&&(a[uw]=i),o&&(a[Yg]=o),s&&(a[dw]=s),pw(n,fw,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wi.set("previous_websocket_failure",!0);try{let i;if(pn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Wu}/${Xm}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new qu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&qu!==null&&!t.forceDisallow_}static previouslyFailed(){return wi.isInMemoryStorage||wi.get("previous_websocket_failure")===!0}markConnectionHealthy(){wi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=nl(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(C(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Oe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=rw(r,sF);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(aF))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),Cw=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Aa,Go]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Go&&Go.isAvailable(),i=r&&!Go.previouslyFailed();if(n.webSocketOnly&&(r||tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Go];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),lF=6e4,cF=5e3,uF=10*1024,dF=100*1024,Hg="t",SD="d",fF="s",ID="r",hF="e",MD="o",AD="a",ND="n",PD="p",pF="h",tm=class{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$a("c:"+this.id+":"),this.transportManager_=new Cw(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=wa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>uF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Hg in e){let n=e[Hg];n===AD?this.upgradeIfSecondaryHealthy_():n===ID?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===MD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Ca("t",e),r=Ca("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:AD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ND,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Ca("t",e),r=Ca("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Ca(Hg,e);if(SD in e){let r=e[SD];if(n===pF){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===ND){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===fF?this.onConnectionShutdown_(r):n===ID?this.onReset_(r):n===hF?Kg("Server Error: "+r):n===MD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kg("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Wu!==r&&tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),wa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(lF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PD,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Ku=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Xu=class{constructor(e){this.allowedEvents_=e,this.listeners_={},C(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){C(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Qu=class t extends Xu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Gd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return C(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var xD=32,RD=768,ie=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function re(){return new ie("")}function K(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Vr(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ie(t.pieces_,e)}function Jm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function gF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Na(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Ew(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ie(e,0)}function De(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ie)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ie(n,0)}function X(t){return t.pieceNum_>=t.pieces_.length}function gt(t,e){let n=K(t),r=K(e);if(n===null)return e;if(n===r)return gt(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function mF(t,e){let n=Na(t,0),r=Na(e,0);for(let i=0;i<n.length&&i<r.length;i++){let o=Ii(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function ev(t,e){if(Vr(t)!==Vr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function zt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Vr(t)>Vr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var nm=class{constructor(e,n){this.errorPrefix_=n,this.parts_=Na(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=as(this.parts_[r]);Tw(this)}};function vF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=as(e),Tw(t)}function yF(t){let e=t.parts_.pop();t.byteLength_-=as(e),t.parts_.length>0&&(t.byteLength_-=1)}function Tw(t){if(t.byteLength_>RD)throw new Error(t.errorPrefix_+"has a key path longer than "+RD+" bytes ("+t.byteLength_+").");if(t.parts_.length>xD)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xD+") or object contains a cycle "+Di(t))}function Di(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var rm=class t extends Xu{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return C(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ea=1e3,_F=60*5*1e3,OD=30*1e3,CF=1.3,EF=3e4,TF="server_kill",kD=3,tv=(()=>{class t extends Ku{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=$a("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ea,this.maxReconnectDelay_=_F,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!pn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rm.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Qu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Oe(s)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Ue,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Ft(n,"w")){let i=cr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||ty(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=OD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=ey(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Oe(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Kg("Unrecognized action received from server: "+Oe(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ea,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ea,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>EF&&(this.reconnectDelay_=Ea),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*CF)}this.onConnectStatus_(!1)}establishConnection_(){return oe(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){C(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?$e("getToken() completed but was canceled"):($e("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new tm(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{tt(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(TF)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&tt(f),c())}}})}interrupt(n){$e("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){$e("Resuming connection for reason: "+n),delete this.interruptReasons_[n],rl(this.interruptReasons_)&&(this.reconnectDelay_=Ea,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Ym(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ie(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){$e("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kD&&(this.reconnectDelay_=OD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){$e("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";pn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Xm.replace(/\./g,"-")]=1,Gd()?n["framework.cordova"]=1:Yv()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Qu.getInstance().currentlyOnline();return rl(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Y=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Wo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Y(Lr,e),i=new Y(Lr,n);return this.compare(r,i)!==0}minPost(){return Y.MIN}};var $u,Yu=class extends Wo{static get __EMPTY_NODE(){return $u}static set __EMPTY_NODE(e){$u=e}compare(e,n){return Ii(e.name,n.name)}isDefinedOn(e){throw xi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(sr,$u)}makePost(e,n){return C(typeof e=="string","KeyIndex indexValue must always be a string."),new Y(e,$u)}toString(){return".key"}},On=new Yu;var Uo=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},dn=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??qt.EMPTY_NODE,this.right=s??qt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return qt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return qt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),im=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new dn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},qt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,dn.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Uo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Uo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Uo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Uo(this.root_,null,this.comparator_,!0,e)}};qt.EMPTY_NODE=new im;function DF(t,e){return Ii(t.name,e.name)}function nv(t,e){return Ii(t,e)}var om;function wF(t){om=t}var Dw=function(t){return typeof t=="number"?"number:"+iw(t):"string:"+t},ww=function(t){if(t.isLeafNode()){let e=t.val();C(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ft(e,".sv"),"Priority must be a string or number.")}else C(t===om||t.isEmpty(),"priority of unexpected type.");C(t===om||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var FD,zo=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ww(this.priorityNode_)}static set __childrenNodeConstructor(n){FD=n}static get __childrenNodeConstructor(){return FD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return X(n)?this:K(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=K(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(C(i!==".priority"||Vr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Dw(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=iw(this.value_):n+=this.value_,this.lazyHash_=tw(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(C(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return C(o>=0,"Unknown leaf type: "+r),C(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),bw,Sw;function bF(t){bw=t}function SF(t){Sw=t}var sm=class extends Wo{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ii(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(sr,new zo("[PRIORITY-POST]",Sw))}makePost(e,n){let r=bw(e);return new Y(n,new zo("[PRIORITY-POST]",r))}toString(){return".priority"}},Ce=new sm;var IF=Math.log(2),am=class{constructor(e){let n=o=>parseInt(Math.log(o)/IF,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Zu=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new dn(f,d.node,dn.BLACK,null,null);{let h=parseInt(u/2,10)+l,g=i(l,h),y=i(h+1,c);return d=t[h],f=n?n(d):d,new dn(f,d.node,dn.BLACK,g,y)}},o=function(l){let c=null,u=null,d=t.length,f=function(g,y){let v=d-g,T=d;d-=g;let x=i(v+1,T),I=t[v],j=n?n(I):I;h(new dn(j,I.node,y,null,x))},h=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){let y=l.nextBitIsOne(),v=Math.pow(2,l.count-(g+1));y?f(v,dn.BLACK):(f(v,dn.BLACK),f(v,dn.RED))}return u},s=new am(t.length),a=o(s);return new qt(r||e,a)};var jg,jo={},qo=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return C(jo&&Ce,"ChildrenNode.ts has not been loaded"),jg=jg||new t({".priority":jo},{".priority":Ce}),jg}get(e){let n=cr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof qt?n:null}hasIndex(e){return Ft(this.indexSet_,e.toString())}addIndex(e,n){C(e!==On,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(Y.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Zu(r,e.getCompare()):a=jo;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=ss(this.indexes_,(i,o)=>{let s=cr(this.indexSet_,o);if(C(s,"Missing index implementation for "+o),i===jo)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator(Y.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Zu(a,s.getCompare())}else return jo;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new Y(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=ss(this.indexes_,i=>{if(i===jo)return i;{let o=n.get(e.name);return o?i.remove(new Y(e.name,o)):i}});return new t(r,this.indexSet_)}};var Ta,B=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&ww(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ta||(Ta=new t(new qt(nv),null,qo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ta}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ta:r}}getChild(n){let r=K(n);return r===null?this:this.getImmediateChild(r).getChild(me(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(C(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Y(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Ta:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=K(n);if(i===null)return r;{C(K(n)!==".priority"||Vr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(me(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Ce,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Dw(this.getPriority().val())+":"),this.forEachChild(Ce,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":tw(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new Y(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Y(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Y(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,Y.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,Y.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Wa?-1:0}withIndex(n){if(n===On||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===On||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ce),o=r.getIterator(Ce),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===On?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),lm=class extends B{constructor(){super(new qt(nv),B.EMPTY_NODE,qo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return B.EMPTY_NODE}isEmpty(){return!1}},Wa=new lm;Object.defineProperties(Y,{MIN:{value:new Y(Lr,B.EMPTY_NODE)},MAX:{value:new Y(sr,Wa)}});Yu.__EMPTY_NODE=B.EMPTY_NODE;zo.__childrenNodeConstructor=B;wF(Wa);SF(Wa);var MF=!0;function be(t,e=null){if(t===null)return B.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),C(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new zo(n,be(e))}if(!(t instanceof Array)&&MF){let n=[],r=!1;if(We(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=be(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Y(s,l)))}}),n.length===0)return B.EMPTY_NODE;let o=Zu(n,DF,s=>s.name,nv);if(r){let s=Zu(n,Ce.getCompare());return new B(o,be(e),new qo({".priority":s},{".priority":Ce}))}else return new B(o,be(e),qo.Default)}else{let n=B.EMPTY_NODE;return We(t,(r,i)=>{if(Ft(t,r)&&r.substring(0,1)!=="."){let o=be(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(be(e))}}bF(be);var Pa=class extends Wo{constructor(e){super(),this.indexPath_=e,C(!X(e)&&K(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ii(e.name,n.name):o}makePost(e,n){let r=be(e),i=B.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,i)}maxPost(){let e=B.EMPTY_NODE.updateChild(this.indexPath_,Wa);return new Y(sr,e)}toString(){return Na(this.indexPath_,0).join("/")}};var cm=class extends Wo{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ii(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(e,n){let r=be(e);return new Y(n,r)}toString(){return".value"}},rv=new cm;function Iw(t){return{type:"value",snapshotNode:t}}function Ko(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function xa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ra(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function AF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Oa=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){C(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(xa(n,a)):C(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Ko(n,r)):s.trackChildChange(Ra(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ce,(i,o)=>{n.hasChild(i)||r.trackChildChange(xa(i,o))}),n.isLeafNode()||n.forEachChild(Ce,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ra(i,o,s))}else r.trackChildChange(Ko(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?B.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Ju=class t{constructor(e){this.indexedFilter_=new Oa(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Y(n,r))||(r=B.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=B.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(B.EMPTY_NODE);let o=this;return n.forEachChild(Ce,(s,a)=>{o.matches(new Y(s,a))||(i=i.updateImmediateChild(s,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var um=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ju(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Y(n,r))||(r=B.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=B.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(B.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;C(a.numChildren()===this.limit_,"");let l=new Y(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Ra(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(xa(n,d));let y=a.updateImmediateChild(n,B.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Ko(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(xa(c.name,c.node)),o.trackChildChange(Ko(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,B.EMPTY_NODE)):e}};var ka=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Lr}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ce}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function NF(t){return t.loadsAllData()?new Oa(t.getIndex()):t.hasLimit()?new um(t):new Ju(t)}function PF(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function xF(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function dm(t,e,n){let r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function RF(t,e,n){let r;return t.index_===On||n?r=dm(t,e,n):r=dm(t,e,sr),r.startAfterSet_=!0,r}function fm(t,e,n){let r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function OF(t,e,n){let r;return t.index_===On||n?r=fm(t,e,n):r=fm(t,e,Lr),r.endBeforeSet_=!0,r}function yd(t,e){let n=t.copy();return n.index_=e,n}function LD(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Ce?n="$priority":t.index_===rv?n="$value":t.index_===On?n="$key":(C(t.index_ instanceof Pa,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Oe(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Oe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Oe(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Oe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Oe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function VD(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ce&&(e.i=t.index_.toString()),e}var hm=class t extends Ku{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=$a("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(C(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let l=LD(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),cr(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=LD(e._queryParams),r=e._path.toString(),i=new Ue;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ny(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=nl(a.responseText)}catch{tt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&tt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var pm=class{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function ed(){return{value:null,children:new Map}}function es(t,e,n){if(X(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=K(e);t.children.has(r)||t.children.set(r,ed());let i=t.children.get(r);e=me(e),es(i,e,n)}}function gm(t,e){if(X(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(Ce,(r,i)=>{es(t,new ie(r),i)}),gm(t,e)}}else if(t.children.size>0){let n=K(e);return e=me(e),t.children.has(n)&&gm(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function mm(t,e,n){t.value!==null?n(e,t.value):kF(t,(r,i)=>{let o=new ie(e.toString()+"/"+r);mm(i,o,n)})}function kF(t,e){t.children.forEach((n,r)=>{e(r,n)})}var vm=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&We(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var BD=10*1e3,FF=30*1e3,LF=5*60*1e3,ym=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new vm(e);let r=BD+(FF-BD)*Math.random();wa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;We(e,(i,o)=>{o>0&&Ft(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),wa(this.reportStats_.bind(this),Math.floor(Math.random()*2*LF))}};var Rn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Rn||{});function iv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ov(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var _m=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Rn.ACK_USER_WRITE,this.source=iv()}operationForChild(e){if(X(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ie(e));return new t(re(),n,this.revert)}}else return C(K(this.path)===e,"operationForChild called for unrelated child."),new t(me(this.path),this.affectedTree,this.revert)}};var td=class t{constructor(e,n){this.source=e,this.path=n,this.type=Rn.LISTEN_COMPLETE}operationForChild(e){return X(this.path)?new t(this.source,re()):new t(this.source,me(this.path))}};var Xo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Rn.OVERWRITE}operationForChild(e){return X(this.path)?new t(this.source,re(),this.snap.getImmediateChild(e)):new t(this.source,me(this.path),this.snap)}};var Fa=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Rn.MERGE}operationForChild(e){if(X(this.path)){let n=this.children.subtree(new ie(e));return n.isEmpty()?null:n.value?new Xo(this.source,re(),n.value):new t(this.source,re(),n)}else return C(K(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Fn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(X(e))return this.isFullyInitialized()&&!this.filtered_;let n=K(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Cm=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function VF(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(AF(s.childName,s.snapshotNode))}),Da(t,i,"child_removed",e,r,n),Da(t,i,"child_added",e,r,n),Da(t,i,"child_moved",o,r,n),Da(t,i,"child_changed",e,r,n),Da(t,i,"value",e,r,n),i}function Da(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>HF(t,a,l)),s.forEach(a=>{let l=BF(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function BF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function HF(t,e,n){if(e.childName==null||n.childName==null)throw xi("Should only compare child_ events.");let r=new Y(e.childName,e.snapshotNode),i=new Y(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function _d(t,e){return{eventCache:t,serverCache:e}}function Sa(t,e,n,r){return _d(new Fn(e,n,r),t.serverCache)}function Mw(t,e,n,r){return _d(t.eventCache,new Fn(e,n,r))}function nd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Si(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Gg,jF=()=>(Gg||(Gg=new qt(Bk)),Gg),mt=class t{constructor(e,n=jF()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return We(e,(r,i)=>{n=n.set(new ie(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:re(),value:this.value};if(X(e))return null;{let r=K(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(me(e),n);return o!=null?{path:De(new ie(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(X(e))return this;{let n=K(e),r=this.children.get(n);return r!==null?r.subtree(me(e)):new t(null)}}set(e,n){if(X(e))return new t(n,this.children);{let r=K(e),o=(this.children.get(r)||new t(null)).set(me(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(X(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=K(e),r=this.children.get(n);if(r){let i=r.remove(me(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(X(e))return this.value;{let n=K(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(X(e))return n;{let r=K(e),o=(this.children.get(r)||new t(null)).setTree(me(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(re(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(De(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,re(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(X(e))return null;{let o=K(e),s=this.children.get(o);return s?s.findOnPath_(me(e),De(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,re(),n)}foreachOnPath_(e,n,r){if(X(e))return this;{this.value&&r(n,this.value);let i=K(e),o=this.children.get(i);return o?o.foreachOnPath_(me(e),De(n,i),r):new t(null)}}foreach(e){this.foreach_(re(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(De(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var fn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new mt(null))}};function Ia(t,e,n){if(X(e))return new fn(new mt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=gt(i,e);return o=o.updateChild(s,n),new fn(t.writeTree_.set(i,o))}else{let i=new mt(n),o=t.writeTree_.setTree(e,i);return new fn(o)}}}function Em(t,e,n){let r=t;return We(n,(i,o)=>{r=Ia(r,De(e,i),o)}),r}function HD(t,e){if(X(e))return fn.empty();{let n=t.writeTree_.setTree(e,new mt(null));return new fn(n)}}function Tm(t,e){return Mi(t,e)!=null}function Mi(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(gt(n.path,e)):null}function jD(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ce,(r,i)=>{e.push(new Y(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Y(r,i.value))}),e}function kr(t,e){if(X(e))return t;{let n=Mi(t,e);return n!=null?new fn(new mt(n)):new fn(t.writeTree_.subtree(e))}}function Dm(t){return t.writeTree_.isEmpty()}function Qo(t,e){return Aw(re(),t.writeTree_,e)}function Aw(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(C(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Aw(De(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(De(t,".priority"),r)),n}}function Cd(t,e){return Rw(e,t)}function GF(t,e,n,r,i){C(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ia(t.visibleWrites,e,n)),t.lastWriteId=r}function UF(t,e,n,r){C(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Em(t.visibleWrites,e,n),t.lastWriteId=r}function $F(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function WF(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);C(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&zF(a,r.path)?i=!1:zt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return qF(t),!0;if(r.snap)t.visibleWrites=HD(t.visibleWrites,r.path);else{let a=r.children;We(a,l=>{t.visibleWrites=HD(t.visibleWrites,De(r.path,l))})}return!0}else return!1}function zF(t,e){if(t.snap)return zt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&zt(De(t.path,n),e))return!0;return!1}function qF(t){t.visibleWrites=Nw(t.allWrites,KF,re()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function KF(t){return t.visible}function Nw(t,e,n){let r=fn.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)zt(n,s)?(a=gt(n,s),r=Ia(r,a,o.snap)):zt(s,n)&&(a=gt(s,n),r=Ia(r,re(),o.snap.getChild(a)));else if(o.children){if(zt(n,s))a=gt(n,s),r=Em(r,a,o.children);else if(zt(s,n))if(a=gt(s,n),X(a))r=Em(r,re(),o.children);else{let l=cr(o.children,K(a));if(l){let c=l.getChild(me(a));r=Ia(r,re(),c)}}}else throw xi("WriteRecord should have .snap or .children")}}return r}function Pw(t,e,n,r,i){if(!r&&!i){let o=Mi(t.visibleWrites,e);if(o!=null)return o;{let s=kr(t.visibleWrites,e);if(Dm(s))return n;if(n==null&&!Tm(s,re()))return null;{let a=n||B.EMPTY_NODE;return Qo(s,a)}}}else{let o=kr(t.visibleWrites,e);if(!i&&Dm(o))return n;if(!i&&n==null&&!Tm(o,re()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(zt(c.path,e)||zt(e,c.path))},a=Nw(t.allWrites,s,e),l=n||B.EMPTY_NODE;return Qo(a,l)}}}function XF(t,e,n){let r=B.EMPTY_NODE,i=Mi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ce,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=kr(t.visibleWrites,e);return n.forEachChild(Ce,(s,a)=>{let l=Qo(kr(o,new ie(s)),a);r=r.updateImmediateChild(s,l)}),jD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=kr(t.visibleWrites,e);return jD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function QF(t,e,n,r,i){C(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=De(e,n);if(Tm(t.visibleWrites,o))return null;{let s=kr(t.visibleWrites,o);return Dm(s)?i.getChild(n):Qo(s,i.getChild(n))}}function YF(t,e,n,r){let i=De(e,n),o=Mi(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=kr(t.visibleWrites,i);return Qo(s,r.getNode().getImmediateChild(n))}else return null}function ZF(t,e){return Mi(t.visibleWrites,e)}function JF(t,e,n,r,i,o,s){let a,l=kr(t.visibleWrites,e),c=Mi(l,re());if(c!=null)a=c;else if(n!=null)a=Qo(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function eL(){return{visibleWrites:fn.empty(),allWrites:[],lastWriteId:-1}}function rd(t,e,n,r){return Pw(t.writeTree,t.treePath,e,n,r)}function av(t,e){return XF(t.writeTree,t.treePath,e)}function GD(t,e,n,r){return QF(t.writeTree,t.treePath,e,n,r)}function id(t,e){return ZF(t.writeTree,De(t.treePath,e))}function tL(t,e,n,r,i,o){return JF(t.writeTree,t.treePath,e,n,r,i,o)}function lv(t,e,n){return YF(t.writeTree,t.treePath,e,n)}function xw(t,e){return Rw(De(t.treePath,e),t.writeTree)}function Rw(t,e){return{treePath:t,writeTree:e}}var wm=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;C(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),C(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ra(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,xa(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Ko(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ra(r,e.snapshotNode,i.oldSnap));else throw xi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var bm=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},Ow=new bm,La=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Fn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return lv(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Si(this.viewCache_),o=tL(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function nL(t){return{filter:t}}function rL(t,e){C(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),C(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function iL(t,e,n,r,i){let o=new wm,s,a;if(n.type===Rn.OVERWRITE){let c=n;c.source.fromUser?s=Sm(t,e,c.path,c.snap,r,i,o):(C(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!X(c.path),s=od(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===Rn.MERGE){let c=n;c.source.fromUser?s=sL(t,e,c.path,c.children,r,i,o):(C(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=Im(t,e,c.path,c.children,r,i,a,o))}else if(n.type===Rn.ACK_USER_WRITE){let c=n;c.revert?s=cL(t,e,c.path,r,i,o):s=aL(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===Rn.LISTEN_COMPLETE)s=lL(t,e,n.path,r,o);else throw xi("Unknown operation type: "+n.type);let l=o.getChanges();return oL(e,s,l),{viewCache:s,changes:l}}function oL(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=nd(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Iw(nd(e)))}}function kw(t,e,n,r,i,o){let s=e.eventCache;if(id(r,n)!=null)return e;{let a,l;if(X(n))if(C(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=Si(e),u=c instanceof B?c:B.EMPTY_NODE,d=av(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let c=rd(r,Si(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{let c=K(n);if(c===".priority"){C(Vr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=e.serverCache.getNode();let d=GD(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=me(n),d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();let f=GD(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=lv(r,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return Sa(e,a,s.isFullyInitialized()||X(n),t.filter.filtersNodes())}}function od(t,e,n,r,i,o,s,a){let l=e.serverCache,c,u=s?t.filter:t.filter.getIndexedFilter();if(X(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=K(n);if(!l.isCompleteForPath(n)&&Vr(n)>1)return e;let g=me(n),v=l.getNode().getImmediateChild(h).updateChild(g,r);h===".priority"?c=u.updatePriority(l.getNode(),v):c=u.updateChild(l.getNode(),h,v,g,Ow,null)}let d=Mw(e,c,l.isFullyInitialized()||X(n),u.filtersNodes()),f=new La(i,d,o);return kw(t,d,n,i,f,a)}function Sm(t,e,n,r,i,o,s){let a=e.eventCache,l,c,u=new La(i,e,o);if(X(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Sa(e,c,!0,t.filter.filtersNodes());else{let d=K(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Sa(e,c,a.isFullyInitialized(),a.isFiltered());else{let f=me(n),h=a.getNode().getImmediateChild(d),g;if(X(f))g=r;else{let y=u.getCompleteChild(d);y!=null?Jm(f)===".priority"&&y.getChild(Ew(f)).isEmpty()?g=y:g=y.updateChild(f,r):g=B.EMPTY_NODE}if(h.equals(g))l=e;else{let y=t.filter.updateChild(a.getNode(),d,g,f,u,s);l=Sa(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function UD(t,e){return t.eventCache.isCompleteForChild(e)}function sL(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{let u=De(n,l);UD(e,K(u))&&(a=Sm(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{let u=De(n,l);UD(e,K(u))||(a=Sm(t,a,u,c,i,o,s))}),a}function $D(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Im(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;X(n)?c=r:c=new mt(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),g=$D(t,h,f);l=od(t,l,new ie(d),g,i,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let g=e.serverCache.getNode().getImmediateChild(d),y=$D(t,g,f);l=od(t,l,new ie(d),y,i,o,s,a)}}),l}function aL(t,e,n,r,i,o,s){if(id(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(X(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return od(t,e,n,l.getNode().getChild(n),i,o,a,s);if(X(n)){let c=new mt(null);return l.getNode().forEachChild(On,(u,d)=>{c=c.set(new ie(u),d)}),Im(t,e,n,c,i,o,a,s)}else return e}else{let c=new mt(null);return r.foreach((u,d)=>{let f=De(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Im(t,e,n,c,i,o,a,s)}}function lL(t,e,n,r,i){let o=e.serverCache,s=Mw(e,o.getNode(),o.isFullyInitialized()||X(n),o.isFiltered());return kw(t,s,n,r,Ow,i)}function cL(t,e,n,r,i,o){let s;if(id(r,n)!=null)return e;{let a=new La(r,e,i),l=e.eventCache.getNode(),c;if(X(n)||K(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=rd(r,Si(e));else{let d=e.serverCache.getNode();C(d instanceof B,"serverChildren would be complete if leaf node"),u=av(r,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{let u=K(n),d=lv(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,me(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,B.EMPTY_NODE,me(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=rd(r,Si(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||id(r,re())!=null,Sa(e,c,s,t.filter.filtersNodes())}}var Mm=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Oa(r.getIndex()),o=NF(r);this.processor_=nL(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(B.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(B.EMPTY_NODE,a.getNode(),null),u=new Fn(l,s.isFullyInitialized(),i.filtersNodes()),d=new Fn(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=_d(d,u),this.eventGenerator_=new Cm(this.query_)}get query(){return this.query_}};function uL(t){return t.viewCache_.serverCache.getNode()}function dL(t){return nd(t.viewCache_)}function fL(t,e){let n=Si(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!X(e)&&!n.getImmediateChild(K(e)).isEmpty())?n.getChild(e):null}function WD(t){return t.eventRegistrations_.length===0}function hL(t,e){t.eventRegistrations_.push(e)}function zD(t,e,n){let r=[];if(n){C(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function qD(t,e,n,r){e.type===Rn.MERGE&&e.source.queryId!==null&&(C(Si(t.viewCache_),"We should always have a full cache before handling merges"),C(nd(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=iL(t.processor_,i,e,n,r);return rL(t.processor_,o.viewCache),C(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Fw(t,o.changes,o.viewCache.eventCache.getNode(),null)}function pL(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ce,(o,s)=>{r.push(Ko(o,s))}),n.isFullyInitialized()&&r.push(Iw(n.getNode())),Fw(t,r,n.getNode(),e)}function Fw(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return VF(t.eventGenerator_,e,n,i)}var sd,ad=class{constructor(){this.views=new Map}};function gL(t){C(!sd,"__referenceConstructor has already been defined"),sd=t}function mL(){return C(sd,"Reference.ts has not been loaded"),sd}function vL(t){return t.views.size===0}function cv(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return C(o!=null,"SyncTree gave us an op for an invalid query."),qD(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(qD(s,e,n,r));return o}}function Lw(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=rd(n,i?r:null),l=!1;a?l=!0:r instanceof B?(a=av(n,r),l=!1):(a=B.EMPTY_NODE,l=!1);let c=_d(new Fn(a,l,!1),new Fn(r,i,!1));return new Mm(e,c)}return s}function yL(t,e,n,r,i,o){let s=Lw(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),hL(s,n),pL(s,n)}function _L(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=Br(t);if(i==="default")for(let[l,c]of t.views.entries())s=s.concat(zD(c,n,r)),WD(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=t.views.get(i);l&&(s=s.concat(zD(l,n,r)),WD(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Br(t)&&o.push(new(mL())(e._repo,e._path)),{removed:o,events:s}}function Vw(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Fr(t,e){let n=null;for(let r of t.views.values())n=n||fL(r,e);return n}function Bw(t,e){if(e._queryParams.loadsAllData())return Ed(t);{let r=e._queryIdentifier;return t.views.get(r)}}function Hw(t,e){return Bw(t,e)!=null}function Br(t){return Ed(t)!=null}function Ed(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var ld;function CL(t){C(!ld,"__referenceConstructor has already been defined"),ld=t}function EL(){return C(ld,"Reference.ts has not been loaded"),ld}var TL=1,cd=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new mt(null),this.pendingWriteTree_=eL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function uv(t,e,n,r,i){return GF(t.pendingWriteTree_,e,n,r,i),i?ts(t,new Xo(iv(),e,n)):[]}function DL(t,e,n,r){UF(t.pendingWriteTree_,e,n,r);let i=mt.fromObject(n);return ts(t,new Fa(iv(),e,i))}function Or(t,e,n=!1){let r=$F(t.pendingWriteTree_,e);if(WF(t.pendingWriteTree_,e)){let o=new mt(null);return r.snap!=null?o=o.set(re(),!0):We(r.children,s=>{o=o.set(new ie(s),!0)}),ts(t,new _m(r.path,o,n))}else return[]}function za(t,e,n){return ts(t,new Xo(ov(),e,n))}function wL(t,e,n){let r=mt.fromObject(n);return ts(t,new Fa(ov(),e,r))}function bL(t,e){return ts(t,new td(ov(),e))}function SL(t,e,n){let r=dv(t,n);if(r){let i=fv(r),o=i.path,s=i.queryId,a=gt(o,e),l=new td(sv(s),a);return hv(t,o,l)}else return[]}function ud(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||Hw(s,e))){let l=_L(s,e,n,r);vL(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>Br(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=AL(f);for(let g=0;g<h.length;++g){let y=h[g],v=y.query,T=$w(t,y);t.listenProvider_.startListening(Ma(v),Va(t,v),T.hashFn,T.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Ma(e),null):c.forEach(f=>{let h=t.queryToTagMap.get(Dd(f));t.listenProvider_.stopListening(Ma(f),h)}))}NL(t,c)}return a}function jw(t,e,n,r){let i=dv(t,r);if(i!=null){let o=fv(i),s=o.path,a=o.queryId,l=gt(s,e),c=new Xo(sv(a),l,n);return hv(t,s,c)}else return[]}function IL(t,e,n,r){let i=dv(t,r);if(i){let o=fv(i),s=o.path,a=o.queryId,l=gt(s,e),c=mt.fromObject(n),u=new Fa(sv(a),l,c);return hv(t,s,u)}else return[]}function Am(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let g=gt(f,i);o=o||Fr(h,g),s=s||Br(h)});let a=t.syncPointTree_.get(i);a?(s=s||Br(a),o=o||Fr(a,re())):(a=new ad,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=B.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,g)=>{let y=Fr(g,re());y&&(o=o.updateImmediateChild(h,y))}));let c=Hw(a,e);if(!c&&!e._queryParams.loadsAllData()){let f=Dd(e);C(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=PL();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=Cd(t.pendingWriteTree_,i),d=yL(a,e,n,u,o,l);if(!c&&!s&&!r){let f=Bw(a,e);d=d.concat(xL(t,e,f))}return d}function Td(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=gt(s,e),c=Fr(a,l);if(c)return c});return Pw(i,e,o,n,!0)}function ML(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=gt(c,n);r=r||Fr(u,d)});let i=t.syncPointTree_.get(n);i?r=r||Fr(i,re()):(i=new ad,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new Fn(r,!0,!1):null,a=Cd(t.pendingWriteTree_,e._path),l=Lw(i,e,a,o?s.getNode():B.EMPTY_NODE,o);return dL(l)}function ts(t,e){return Gw(e,t.syncPointTree_,null,Cd(t.pendingWriteTree_,re()))}function Gw(t,e,n,r){if(X(t.path))return Uw(t,e,n,r);{let i=e.get(re());n==null&&i!=null&&(n=Fr(i,re()));let o=[],s=K(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=xw(r,s);o=o.concat(Gw(a,l,c,u))}return i&&(o=o.concat(cv(i,t,r,n))),o}}function Uw(t,e,n,r){let i=e.get(re());n==null&&i!=null&&(n=Fr(i,re()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=xw(r,s),u=t.operationForChild(s);u&&(o=o.concat(Uw(u,a,l,c)))}),i&&(o=o.concat(cv(i,t,r,n))),o}function $w(t,e){let n=e.query,r=Va(t,n);return{hashFn:()=>(uL(e)||B.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?SL(t,n._path,r):bL(t,n._path);{let o=Gk(i,n);return ud(t,n,null,o)}}}}function Va(t,e){let n=Dd(e);return t.queryToTagMap.get(n)}function Dd(t){return t._path.toString()+"$"+t._queryIdentifier}function dv(t,e){return t.tagToQueryMap.get(e)}function fv(t){let e=t.indexOf("$");return C(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ie(t.substr(0,e))}}function hv(t,e,n){let r=t.syncPointTree_.get(e);C(r,"Missing sync point for query tag that we're tracking");let i=Cd(t.pendingWriteTree_,e);return cv(r,n,i,null)}function AL(t){return t.fold((e,n,r)=>{if(n&&Br(n))return[Ed(n)];{let i=[];return n&&(i=Vw(n)),We(r,(o,s)=>{i=i.concat(s)}),i}})}function Ma(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(EL())(t._repo,t._path):t}function NL(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Dd(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function PL(){return TL++}function xL(t,e,n){let r=e._path,i=Va(t,e),o=$w(t,n),s=t.listenProvider_.startListening(Ma(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)C(!Br(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!X(c)&&u&&Br(u))return[Ed(u).query];{let f=[];return u&&(f=f.concat(Vw(u).map(h=>h.query))),We(d,(h,g)=>{f=f.concat(g)}),f}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(Ma(u),Va(t,u))}}return s}var Nm=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Pm=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=De(this.path_,e);return new t(this.syncTree_,n)}node(){return Td(this.syncTree_,this.path_)}},RL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},KD=function(t,e,n){if(!t||typeof t!="object")return t;if(C(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return OL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kL(t[".sv"],e);C(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},OL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:C(!1,"Unexpected server value: "+t)}},kL=function(t,e,n){t.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&C(!1,"Unexpected increment value: "+r);let i=e.node();if(C(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},Ww=function(t,e,n,r){return gv(e,new Pm(n,t),r)},pv=function(t,e,n){return gv(t,new Nm(e),n)};function gv(t,e,n){let r=t.getPriority().val(),i=KD(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=KD(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new zo(a,be(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new zo(i))),s.forEachChild(Ce,(a,l)=>{let c=gv(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Ba=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function wd(t,e){let n=e instanceof ie?e:new ie(e),r=t,i=K(n);for(;i!==null;){let o=cr(r.node.children,i)||{children:{},childCount:0};r=new Ba(i,r,o),n=me(n),i=K(n)}return r}function Ai(t){return t.node.value}function mv(t,e){t.node.value=e,xm(t)}function zw(t){return t.node.childCount>0}function FL(t){return Ai(t)===void 0&&!zw(t)}function bd(t,e){We(t.node.children,(n,r)=>{e(new Ba(n,t,r))})}function qw(t,e,n,r){n&&!r&&e(t),bd(t,i=>{qw(i,e,!0,r)}),n&&r&&e(t)}function LL(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function qa(t){return new ie(t.parent===null?t.name:qa(t.parent)+"/"+t.name)}function xm(t){t.parent!==null&&VL(t.parent,t.name,t)}function VL(t,e,n){let r=FL(n),i=Ft(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,xm(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,xm(t))}var BL=/[\[\].#$\/\u0000-\u001F\u007F]/,HL=/[\[\].#$\u0000-\u001F\u007F]/,Ug=10*1024*1024,Sd=function(t){return typeof t=="string"&&t.length!==0&&!BL.test(t)},Kw=function(t){return typeof t=="string"&&t.length!==0&&!HL.test(t)},jL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Kw(t)},Ha=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!vd(t)||t&&typeof t=="object"&&Ft(t,".sv")},Ln=function(t,e,n,r){r&&e===void 0||Ka(Ct(t,"value"),e,n)},Ka=function(t,e,n){let r=n instanceof ie?new nm(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Di(r));if(typeof e=="function")throw new Error(t+"contains a function "+Di(r)+" with contents = "+e.toString());if(vd(e))throw new Error(t+"contains "+e.toString()+" "+Di(r));if(typeof e=="string"&&e.length>Ug/3&&as(e)>Ug)throw new Error(t+"contains a string greater than "+Ug+" utf8 bytes "+Di(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(We(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Sd(s)))throw new Error(t+" contains an invalid key ("+s+") "+Di(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vF(r,s),Ka(t,a,r),yF(r)}),i&&o)throw new Error(t+' contains ".value" child '+Di(r)+" in addition to actual children.")}},GL=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let o=Na(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Sd(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(mF);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&zt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Xw=function(t,e,n,r){if(r&&e===void 0)return;let i=Ct(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let o=[];We(e,(s,a)=>{let l=new ie(s);if(Ka(i,a,De(n,l)),Jm(l)===".priority"&&!Ha(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),GL(i,o)},vv=function(t,e,n){if(!(n&&e===void 0)){if(vd(e))throw new Error(Ct(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ha(e))throw new Error(Ct(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Xa=function(t,e,n,r){if(!(r&&n===void 0)&&!Sd(n))throw new Error(Ct(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},ns=function(t,e,n,r){if(!(r&&n===void 0)&&!Kw(n))throw new Error(Ct(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},UL=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ns(t,e,n,r)},xt=function(t,e){if(K(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Qw=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Sd(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!jL(n))throw new Error(Ct(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Rm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Id(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!ev(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Yw(t,e,n){Id(t,n),Zw(t,r=>ev(r,e))}function Rt(t,e,n){Id(t,n),Zw(t,r=>zt(r,e)||zt(e,r))}function Zw(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?($L(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function $L(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();bi&&$e("event: "+n.toString()),Jo(r)}}}var Jw="repo_interrupt",WL=25,Om=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ed(),this.transactionQueueTree_=new Ba,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function zL(t,e,n){if(t.stats_=Zm(t.repoInfo_),t.forceRestClient_||zk())t.server_=new hm(t.repoInfo_,(r,i,o,s)=>{XD(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>QD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Oe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new tv(t.repoInfo_,e,(r,i,o,s)=>{XD(t,r,i,o,s)},r=>{QD(t,r)},r=>{qL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Kk(t.repoInfo_,()=>new ym(t.stats_,t.server_)),t.infoData_=new pm,t.infoSyncTree_=new cd({startListening:(r,i,o,s)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=za(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),yv(t,"connected",!1),t.serverSyncTree_=new cd({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{let c=s(a,l);Rt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function eb(t){let n=t.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qa(t){return RL({timestamp:eb(t)})}function XD(t,e,n,r,i){t.dataUpdateCount++;let o=new ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let l=ss(n,c=>be(c));s=IL(t.serverSyncTree_,o,l,i)}else{let l=be(n);s=jw(t.serverSyncTree_,o,l,i)}else if(r){let l=ss(n,c=>be(c));s=wL(t.serverSyncTree_,o,l)}else{let l=be(n);s=za(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Yo(t,o)),Rt(t.eventQueue_,a,s)}function QD(t,e){yv(t,"connected",e),e===!1&&QL(t)}function qL(t,e){We(e,(n,r)=>{yv(t,n,r)})}function yv(t,e,n){let r=new ie("/.info/"+e),i=be(n);t.infoData_.updateSnapshot(r,i);let o=za(t.infoSyncTree_,r,i);Rt(t.eventQueue_,r,o)}function Md(t){return t.nextWriteId_++}function KL(t,e,n){let r=ML(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=be(i).withIndex(e._queryParams.getIndex());Am(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=za(t.serverSyncTree_,e._path,o);else{let a=Va(t.serverSyncTree_,e);s=jw(t.serverSyncTree_,e._path,o,a)}return Rt(t.eventQueue_,e._path,s),ud(t.serverSyncTree_,e,n,null,!0),o},i=>(rs(t,"get for query "+Oe(e)+" failed: "+i),Promise.reject(new Error(i))))}function _v(t,e,n,r,i){rs(t,"set",{path:e.toString(),value:n,priority:r});let o=Qa(t),s=be(n,r),a=Td(t.serverSyncTree_,e),l=pv(s,a,o),c=Md(t),u=uv(t.serverSyncTree_,e,l,c,!0);Id(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let g=f==="ok";g||tt("set at "+e+" failed: "+f);let y=Or(t.serverSyncTree_,c,!g);Rt(t.eventQueue_,e,y),Hr(t,i,f,h)});let d=Ev(t,e);Yo(t,d),Rt(t.eventQueue_,d,[])}function XL(t,e,n,r){rs(t,"update",{path:e.toString(),value:n});let i=!0,o=Qa(t),s={};if(We(n,(a,l)=>{i=!1,s[a]=Ww(De(e,a),be(l),t.serverSyncTree_,o)}),i)$e("update() called with empty data.  Don't do anything."),Hr(t,r,"ok",void 0);else{let a=Md(t),l=DL(t.serverSyncTree_,e,s,a);Id(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let d=c==="ok";d||tt("update at "+e+" failed: "+c);let f=Or(t.serverSyncTree_,a,!d),h=f.length>0?Yo(t,e):e;Rt(t.eventQueue_,h,f),Hr(t,r,c,u)}),We(n,c=>{let u=Ev(t,De(e,c));Yo(t,u)}),Rt(t.eventQueue_,e,[])}}function QL(t){rs(t,"onDisconnectEvents");let e=Qa(t),n=ed();mm(t.onDisconnect_,re(),(i,o)=>{let s=Ww(i,o,t.serverSyncTree_,e);es(n,i,s)});let r=[];mm(n,re(),(i,o)=>{r=r.concat(za(t.serverSyncTree_,i,o));let s=Ev(t,i);Yo(t,s)}),t.onDisconnect_=ed(),Rt(t.eventQueue_,re(),r)}function YL(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&gm(t.onDisconnect_,e),Hr(t,n,r,i)})}function YD(t,e,n,r){let i=be(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{o==="ok"&&es(t.onDisconnect_,e,i),Hr(t,r,o,s)})}function ZL(t,e,n,r,i){let o=be(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{s==="ok"&&es(t.onDisconnect_,e,o),Hr(t,i,s,a)})}function JL(t,e,n,r){if(rl(n)){$e("onDisconnect().update() called with empty data.  Don't do anything."),Hr(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{i==="ok"&&We(n,(s,a)=>{let l=be(a);es(t.onDisconnect_,De(e,s),l)}),Hr(t,r,i,o)})}function eV(t,e,n){let r;K(e._path)===".info"?r=Am(t.infoSyncTree_,e,n):r=Am(t.serverSyncTree_,e,n),Yw(t.eventQueue_,e._path,r)}function km(t,e,n){let r;K(e._path)===".info"?r=ud(t.infoSyncTree_,e,n):r=ud(t.serverSyncTree_,e,n),Yw(t.eventQueue_,e._path,r)}function tb(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Jw)}function tV(t){t.persistentConnection_&&t.persistentConnection_.resume(Jw)}function rs(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),$e(n,...e)}function Hr(t,e,n,r){e&&Jo(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function nV(t,e,n,r,i,o){rs(t,"transaction on "+e);let s={path:e,update:n,onComplete:r,status:null,order:ew(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Cv(t,e,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Ka("transaction failed: Data returned ",l,s.path),s.status=0;let c=wd(t.transactionQueueTree_,e),u=Ai(c)||[];u.push(s),mv(c,u);let d;typeof l=="object"&&l!==null&&Ft(l,".priority")?(d=cr(l,".priority"),C(Ha(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Td(t.serverSyncTree_,e)||B.EMPTY_NODE).getPriority().val();let f=Qa(t),h=be(l,d),g=pv(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=g,s.currentWriteId=Md(t);let y=uv(t.serverSyncTree_,e,g,s.currentWriteId,s.applyLocally);Rt(t.eventQueue_,e,y),Ad(t,t.transactionQueueTree_)}}function Cv(t,e,n){return Td(t.serverSyncTree_,e,n)||B.EMPTY_NODE}function Ad(t,e=t.transactionQueueTree_){if(e||Nd(t,e),Ai(e)){let n=rb(t,e);C(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&rV(t,qa(e),n)}else zw(e)&&bd(e,n=>{Ad(t,n)})}function rV(t,e,n){let r=n.map(c=>c.currentWriteId),i=Cv(t,e,r),o=i,s=i.hash();for(let c=0;c<n.length;c++){let u=n[c];C(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=gt(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{rs(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Or(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Nd(t,wd(t.transactionQueueTree_,e)),Ad(t,t.transactionQueueTree_),Rt(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Jo(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{tt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Yo(t,e)}},s)}function Yo(t,e){let n=nb(t,e),r=qa(n),i=rb(t,n);return iV(t,i,r),r}function iV(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=gt(n,l.path),u=!1,d;if(C(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Or(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=WL)u=!0,d="maxretry",i=i.concat(Or(t.serverSyncTree_,l.currentWriteId,!0));else{let f=Cv(t,l.path,s);l.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){Ka("transaction failed: Data returned ",h,l.path);let g=be(h);typeof h=="object"&&h!=null&&Ft(h,".priority")||(g=g.updatePriority(f.getPriority()));let v=l.currentWriteId,T=Qa(t),x=pv(g,f,T);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=x,l.currentWriteId=Md(t),s.splice(s.indexOf(v),1),i=i.concat(uv(t.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(Or(t.serverSyncTree_,v,!0))}else u=!0,d="nodata",i=i.concat(Or(t.serverSyncTree_,l.currentWriteId,!0))}Rt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Nd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Jo(r[a]);Ad(t,t.transactionQueueTree_)}function nb(t,e){let n,r=t.transactionQueueTree_;for(n=K(e);n!==null&&Ai(r)===void 0;)r=wd(r,n),e=me(e),n=K(e);return r}function rb(t,e){let n=[];return ib(t,e,n),n.sort((r,i)=>r.order-i.order),n}function ib(t,e,n){let r=Ai(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);bd(e,i=>{ib(t,i,n)})}function Nd(t,e){let n=Ai(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,mv(e,n.length>0?n:void 0)}bd(e,r=>{Nd(t,r)})}function Ev(t,e){let n=qa(nb(t,e)),r=wd(t.transactionQueueTree_,e);return LL(r,i=>{$g(t,i)}),$g(t,r),qw(r,i=>{$g(t,i)}),n}function $g(t,e){let n=Ai(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(C(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(C(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Or(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?mv(e,void 0):n.length=o+1,Rt(t.eventQueue_,qa(e),i);for(let s=0;s<r.length;s++)Jo(r[s])}}function oV(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function sV(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):tt(`Invalid query segment '${n}' in query '${t}'`)}return e}var Fm=function(t,e){let n=aV(t),r=n.namespace;n.domain==="firebase.com"&&kn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Lk();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new zu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ie(n.pathString)}},aV=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=oV(t.substring(u,d)));let f=sV(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var ZD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lV=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=ZD.charAt(n%64),n=Math.floor(n/64);C(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=ZD.charAt(e[i]);return C(s.length===20,"nextPushId: Length should be 20."),s}}();var dd=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Oe(this.snapshot.exportVal())}},fd=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var ja=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return C(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var hd=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new Ue;return YL(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){xt("OnDisconnect.remove",this._path);let e=new Ue;return YD(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){xt("OnDisconnect.set",this._path),Ln("OnDisconnect.set",e,this._path,!1);let n=new Ue;return YD(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){xt("OnDisconnect.setWithPriority",this._path),Ln("OnDisconnect.setWithPriority",e,this._path,!1),vv("OnDisconnect.setWithPriority",n,!1);let r=new Ue;return ZL(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){xt("OnDisconnect.update",this._path),Xw("OnDisconnect.update",e,this._path,!1);let n=new Ue;return JL(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var vt=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return X(this._path)?null:Jm(this._path)}get ref(){return new Ot(this._repo,this._path)}get _queryIdentifier(){let e=VD(this._queryParams),n=Ym(e);return n==="{}"?"default":n}get _queryObject(){return VD(this._queryParams)}isEqual(e){if(e=nt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=ev(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+gF(this._path)}};function Pd(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Gr(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===On){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Lr)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==sr)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Ce){if(e!=null&&!Ha(e)||n!=null&&!Ha(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(C(t.getIndex()instanceof Pa||t.getIndex()===rv,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function xd(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ot=class t extends vt{constructor(e,n){super(e,n,new ka,!1)}get parent(){let e=Ew(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Zo=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new ie(e),r=jr(this.ref,e);return new t(this._node.getChild(n),r,Ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,jr(this.ref,r),Ce)))}hasChild(e){let n=new ie(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Tv(t,e){return t=nt(t),t._checkNotDeleted("ref"),e!==void 0?jr(t._root,e):t._root}function Dv(t,e){t=nt(t),t._checkNotDeleted("refFromURL");let n=Fm(e,t._repo.repoInfo_.nodeAdmin);Qw("refFromURL",n);let r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&kn("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Tv(t,n.path.toString())}function jr(t,e){return t=nt(t),K(t._path)===null?UL("child","path",e,!1):ns("child","path",e,!1),new Ot(t._repo,De(t._path,e))}function ob(t,e){t=nt(t),xt("push",t._path),Ln("push",e,t._path,!0);let n=eb(t._repo),r=lV(n),i=jr(t,r),o=jr(t,r),s;return e!=null?s=Rd(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function sb(t){return xt("remove",t._path),Rd(t,null)}function Rd(t,e){t=nt(t),xt("set",t._path),Ln("set",e,t._path,!1);let n=new Ue;return _v(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function ab(t,e){t=nt(t),xt("setPriority",t._path),vv("setPriority",e,!1);let n=new Ue;return _v(t._repo,De(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function lb(t,e,n){if(xt("setWithPriority",t._path),Ln("setWithPriority",e,t._path,!1),vv("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let r=new Ue;return _v(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function cb(t,e){Xw("update",e,t._path,!1);let n=new Ue;return XL(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function ub(t){t=nt(t);let e=new ja(()=>{}),n=new Ga(e);return KL(t._repo,t,n).then(r=>new Zo(r,new Ot(t._repo,t._path),t._queryParams.getIndex()))}var Ga=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new dd("value",this,new Zo(e.snapshotNode,new Ot(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new fd(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},pd=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new fd(this,e,n):null}createEvent(e,n){C(e.childName!=null,"Child events should have a childName.");let r=jr(new Ot(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new dd(e.type,this,new Zo(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Ya(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{km(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new ja(n,o||void 0),a=e==="value"?new Ga(s):new pd(e,s);return eV(t._repo,t,a),()=>km(t._repo,t,a)}function Od(t,e,n,r){return Ya(t,"value",e,n,r)}function wv(t,e,n,r){return Ya(t,"child_added",e,n,r)}function bv(t,e,n,r){return Ya(t,"child_changed",e,n,r)}function Sv(t,e,n,r){return Ya(t,"child_moved",e,n,r)}function Iv(t,e,n,r){return Ya(t,"child_removed",e,n,r)}function Mv(t,e,n){let r=null,i=n?new ja(n):null;e==="value"?r=new Ga(i):e&&(r=new pd(e,i)),km(t._repo,t,r)}var kt=class{},gd=class extends kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Ln("endAt",this._value,e._path,!0);let n=fm(e._queryParams,this._value,this._key);if(xd(n),Gr(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vt(e._repo,e._path,n,e._orderByCalled)}};function db(t,e){return Xa("endAt","key",e,!0),new gd(t,e)}var Lm=class extends kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Ln("endBefore",this._value,e._path,!1);let n=OF(e._queryParams,this._value,this._key);if(xd(n),Gr(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vt(e._repo,e._path,n,e._orderByCalled)}};function fb(t,e){return Xa("endBefore","key",e,!0),new Lm(t,e)}var md=class extends kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Ln("startAt",this._value,e._path,!0);let n=dm(e._queryParams,this._value,this._key);if(xd(n),Gr(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new vt(e._repo,e._path,n,e._orderByCalled)}};function hb(t=null,e){return Xa("startAt","key",e,!0),new md(t,e)}var Vm=class extends kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){Ln("startAfter",this._value,e._path,!1);let n=RF(e._queryParams,this._value,this._key);if(xd(n),Gr(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new vt(e._repo,e._path,n,e._orderByCalled)}};function pb(t,e){return Xa("startAfter","key",e,!0),new Vm(t,e)}var Bm=class extends kt{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new vt(e._repo,e._path,PF(e._queryParams,this._limit),e._orderByCalled)}};function gb(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Bm(t)}var Hm=class extends kt{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new vt(e._repo,e._path,xF(e._queryParams,this._limit),e._orderByCalled)}};function mb(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Hm(t)}var jm=class extends kt{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Pd(e,"orderByChild");let n=new ie(this._path);if(X(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new Pa(n),i=yd(e._queryParams,r);return Gr(i),new vt(e._repo,e._path,i,!0)}};function vb(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ns("orderByChild","path",t,!1),new jm(t)}var Gm=class extends kt{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){Pd(e,"orderByKey");let n=yd(e._queryParams,On);return Gr(n),new vt(e._repo,e._path,n,!0)}};function yb(){return new Gm}var Um=class extends kt{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){Pd(e,"orderByPriority");let n=yd(e._queryParams,Ce);return Gr(n),new vt(e._repo,e._path,n,!0)}};function _b(){return new Um}var $m=class extends kt{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){Pd(e,"orderByValue");let n=yd(e._queryParams,rv);return Gr(n),new vt(e._repo,e._path,n,!0)}};function Cb(){return new $m}var Wm=class extends kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Ln("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new gd(this._value,this._key)._apply(new md(this._value,this._key)._apply(e))}};function Eb(t,e){return Xa("equalTo","key",e,!0),new Wm(t,e)}function Kt(t,...e){let n=nt(t);for(let r of e)n=r._apply(n);return n}gL(Ot);CL(Ot);var cV="FIREBASE_DATABASE_EMULATOR_HOST",zm={},uV=!1;function dV(t,e,n,r){t.repoInfo_=new zu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Av(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$e("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Fm(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[cV]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=Fm(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let u=i&&l?new ba(ba.OWNER):new Qg(t.name,t.options,e);Qw("Invalid Firebase Database URL",s),X(s.path)||kn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=hV(a,t,u,new Xg(t.name,n));return new qm(d,t)}function fV(t,e){let n=zm[e];(!n||n[t.key]!==t)&&kn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),tb(t),delete n[t.key]}function hV(t,e,n,r){let i=zm[e.name];i||(i={},zm[e.name]=i);let o=i[t.toURLString()];return o&&kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Om(t,uV,n,r),i[t.toURLString()]=o,o}var qm=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ot(this._repo,re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&kn("Cannot call "+e+" on a deleted database.")}};function Tb(){Cw.IS_TRANSPORT_INITIALIZED&&tt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Db(){Tb(),Aa.forceDisallow()}function wb(){Tb(),Go.forceDisallow(),Aa.forceAllow()}function bb(t,e,n,r={}){t=nt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&kn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ba(ba.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:Qv(r.mockUserToken,t.app.options.projectId);o=new ba(s)}dV(i,e,n,o)}function Sb(t){t=nt(t),t._checkNotDeleted("goOffline"),tb(t._repo)}function Ib(t){t=nt(t),t._checkNotDeleted("goOnline"),tV(t._repo)}function Mb(t,e){nw(t,e)}function pV(t){Qm(sy),ls(new Hn("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Av(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),ur(ED,TD,t),ur(ED,TD,"esm2017")}var gV={".sv":"timestamp"};function Ab(){return gV}function Nb(t){return{".sv":{increment:t}}}var Km=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Pb(t,e,n){var r;if(t=nt(t),xt("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,o=new Ue,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new Zo(u,new Ot(t._repo,t._path),Ce),o.resolve(new Km(c,d)))},a=Od(t,()=>{});return nV(t._repo,t._path,e,s,a,i),o.promise}tv.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};tv.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};pV();var mV="@firebase/database-compat",vV="1.0.6";var yV=new Ri("@firebase/database-compat"),xb=function(t){let e="FIREBASE WARNING: "+t;yV.warn(e)};var _V=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Ct(t,e)+"must be a boolean.")},CV=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ct(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var Nv=class{constructor(e){this._delegate=e}cancel(e){P("OnDisconnect.cancel",0,1,arguments.length),Fe("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){P("OnDisconnect.remove",0,1,arguments.length),Fe("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){P("OnDisconnect.set",1,2,arguments.length),Fe("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){P("OnDisconnect.setWithPriority",2,3,arguments.length),Fe("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if(P("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,xb("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Fe("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}};var Pv=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return P("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Ni=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return P("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return P("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return P("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return P("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return P("DataSnapshot.child",0,1,arguments.length),e=String(e),ns("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return P("DataSnapshot.hasChild",1,1,arguments.length),ns("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return P("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return P("DataSnapshot.forEach",1,1,arguments.length),Fe("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return P("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return P("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return P("DataSnapshot.ref",0,0,arguments.length),new ar(this._database,this._delegate.ref)}get ref(){return this.getRef()}},kd=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;P("Query.on",2,4,arguments.length),Fe("Query.on","callback",n,!1);let s=t.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new Ni(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(e){case"value":return Od(this._delegate,a,l),n;case"child_added":return wv(this._delegate,a,l),n;case"child_removed":return Iv(this._delegate,a,l),n;case"child_changed":return bv(this._delegate,a,l),n;case"child_moved":return Sv(this._delegate,a,l),n;default:throw new Error(Ct("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(P("Query.off",0,3,arguments.length),CV("Query.off",e,!0),Fe("Query.off","callback",n,!0),Ud("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,Mv(this._delegate,e,i)}else Mv(this._delegate,e)}get(){return ub(this._delegate).then(e=>new Ni(this.database,e))}once(e,n,r,i){P("Query.once",1,4,arguments.length),Fe("Query.once","callback",n,!0);let o=t.getCancelAndContextArgs_("Query.once",r,i),s=new Ue,a=(c,u)=>{let d=new Ni(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(e){case"value":Od(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":wv(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":Iv(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":bv(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Sv(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Ct("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return P("Query.limitToFirst",1,1,arguments.length),new t(this.database,Kt(this._delegate,gb(e)))}limitToLast(e){return P("Query.limitToLast",1,1,arguments.length),new t(this.database,Kt(this._delegate,mb(e)))}orderByChild(e){return P("Query.orderByChild",1,1,arguments.length),new t(this.database,Kt(this._delegate,vb(e)))}orderByKey(){return P("Query.orderByKey",0,0,arguments.length),new t(this.database,Kt(this._delegate,yb()))}orderByPriority(){return P("Query.orderByPriority",0,0,arguments.length),new t(this.database,Kt(this._delegate,_b()))}orderByValue(){return P("Query.orderByValue",0,0,arguments.length),new t(this.database,Kt(this._delegate,Cb()))}startAt(e=null,n){return P("Query.startAt",0,2,arguments.length),new t(this.database,Kt(this._delegate,hb(e,n)))}startAfter(e=null,n){return P("Query.startAfter",0,2,arguments.length),new t(this.database,Kt(this._delegate,pb(e,n)))}endAt(e=null,n){return P("Query.endAt",0,2,arguments.length),new t(this.database,Kt(this._delegate,db(e,n)))}endBefore(e=null,n){return P("Query.endBefore",0,2,arguments.length),new t(this.database,Kt(this._delegate,fb(e,n)))}equalTo(e,n){return P("Query.equalTo",1,2,arguments.length),new t(this.database,Kt(this._delegate,Eb(e,n)))}toString(){return P("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return P("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(P("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Fe(e,"cancel",i.cancel,!0),i.context=r,Ud(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Ct(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new ar(this.database,new Ot(this._delegate._repo,this._delegate._path))}},ar=class t extends kd{constructor(e,n){super(e,new vt(n._repo,n._path,new ka,!1)),this.database=e,this._delegate=n}getKey(){return P("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return P("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,jr(this._delegate,e))}getParent(){P("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return P("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){P("Reference.set",1,2,arguments.length),Fe("Reference.set","onComplete",n,!0);let r=Rd(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(P("Reference.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,xb("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xt("Reference.update",this._delegate._path),Fe("Reference.update","onComplete",n,!0);let r=cb(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){P("Reference.setWithPriority",2,3,arguments.length),Fe("Reference.setWithPriority","onComplete",r,!0);let i=lb(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){P("Reference.remove",0,1,arguments.length),Fe("Reference.remove","onComplete",e,!0);let n=sb(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){P("Reference.transaction",1,3,arguments.length),Fe("Reference.transaction","transactionUpdate",e,!1),Fe("Reference.transaction","onComplete",n,!0),_V("Reference.transaction","applyLocally",r,!0);let i=Pb(this._delegate,e,{applyLocally:r}).then(o=>new Pv(o.committed,new Ni(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){P("Reference.setPriority",1,2,arguments.length),Fe("Reference.setPriority","onComplete",n,!0);let r=ab(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){P("Reference.push",0,2,arguments.length),Fe("Reference.push","onComplete",n,!0);let r=ob(this._delegate,e),i=r.then(s=>new t(this.database,s));n&&i.then(()=>n(null),s=>n(s));let o=new t(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return xt("Reference.onDisconnect",this._delegate._path),new Nv(new hd(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Pi=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Db,forceLongPolling:wb}}useEmulator(e,n,r={}){bb(this._delegate,e,n,r)}ref(e){if(P("database.ref",0,1,arguments.length),e instanceof ar){let n=Dv(this._delegate,e.toString());return new ar(this,n)}else{let n=Tv(this._delegate,e);return new ar(this,n)}}refFromURL(e){P("database.refFromURL",1,1,arguments.length);let r=Dv(this._delegate,e);return new ar(this,r)}goOffline(){return P("database.goOffline",0,0,arguments.length),Sb(this._delegate)}goOnline(){return P("database.goOnline",0,0,arguments.length),Ib(this._delegate)}};Pi.ServerValue={TIMESTAMP:Ab(),increment:t=>Nb(t)};function EV({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){Qm(n);let a=new $d("database-standalone"),l=new il("auth-internal",a);l.setComponent(new Hn("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new il("app-check-internal",a),c.setComponent(new Hn("app-check-internal",()=>i,"PRIVATE"))),{instance:new Pi(Av(t,l,c,e,s),t),namespace:o}}var TV=Object.freeze({__proto__:null,initStandalone:EV});var DV=Pi.ServerValue;function wV(t){t.INTERNAL.registerComponent(new Hn("database-compat",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Pi(i,r)},"PUBLIC").setServiceProps({Reference:ar,Query:kd,Database:Pi,DataSnapshot:Ni,enableLogging:Mb,INTERNAL:TV,ServerValue:DV}).setMultipleInstances(!0)),t.registerVersion(mV,vV)}wV(St);function Za(t,e,n="on",r=ps){return new $(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),n==="on"?{unsubscribe(){o!=null&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(A(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),Qr())}function bV(t){return typeof t=="string"}function SV(t){return typeof t.exportVal=="function"}function Lb(t){return t==null}function Vb(t){return typeof t.set=="function"}function Rb(t,e){return Vb(e)?e:t.ref(e)}function Bb(t,e){if(bV(t))return e.stringCase();if(Vb(t))return e.firebaseCase();if(SV(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function Hb(t){return(Lb(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function jb(t,e,n){e=Hb(e);let r=e.map(i=>Za(t,i,"on",n));return zi(...r)}function IV(t,e,n){let r=jb(t,e).pipe(Ki((i,o)=>[...i,o],[]));return AV(t,r,n)}function MV(t,e){return Za(t,"value","on",e).pipe(A(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function AV(t,e,n){return MV(t,n).pipe(vf(e),A(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),pf(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),A(i=>i.actions))}function Ob(t,e){return function(r,i){return Bb(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function NV(t){return function(n){return n?Bb(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function PV(t,e,n){return Za(t,"value","once",n).pipe(Te(r=>{let i=[M(r)];return e.forEach(o=>i.push(Za(t,o,"on",n))),zi(...i).pipe(Ki(RV,[]))}),df())}function Gb(t,e){let n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function xV(t,e){if(Lb(e))return 0;{let n=Gb(t,e);return n===-1?t.length:n+1}}function RV(t,e){let{payload:n,prevKey:r,key:i}=e,o=Gb(t,i),s=xV(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,t=[...t,c],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(l=>l.payload.key!==n.key),t.splice(s,0,e));else{if(r==null)return[e,...t];t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){let a=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,a),t}return t;default:return t}}function kb(t,e,n){return e=Hb(e),PV(t,e,n)}function OV(t,e){let n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Ob(r,"update"),set:Ob(r,"set"),push:i=>r.push(i),remove:NV(r),snapshotChanges(i){return kb(t,i,n).pipe(or)},stateChanges(i){return jb(t,i,n).pipe(or)},auditTrail(i){return IV(t,i,n).pipe(or)},valueChanges(i,o){return kb(t,i,n).pipe(A(a=>a.map(l=>o&&o.idField?z(D({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),or)}}}function Fb(t,e){return function(){return Za(t,"value","on",e)}}function kV(t,e){return{query:t,snapshotChanges(){return Fb(t,e.schedulers.outsideAngular)().pipe(or)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return Fb(t,e.schedulers.outsideAngular)().pipe(or,A(r=>r.payload.exists()?r.payload.val():null))}}}var FV=new w("angularfire2.realtimeDatabaseURL"),LV=new w("angularfire2.database.use-emulator"),Ub=(()=>{class t{schedulers;database;constructor(n,r,i,o,s,a,l,c,u,d,f,h,g,y,v){this.schedulers=a;let T=l,x=_a(n,s,r);c&&Lg(x,s,u,f,h,g,d,y),this.database=Gu(`${x.name}.database.${i}`,"AngularFireDatabase",x.name,()=>{let I=s.runOutsideAngular(()=>x.database(i||void 0));return T&&I.useEmulator(...T),I},[T])}list(n,r){let i=this.schedulers.ngZone.runOutsideAngular(()=>Rb(this.database,n)),o=i;return r&&(o=r(i)),OV(o,this)}object(n){let r=this.schedulers.ngZone.runOutsideAngular(()=>Rb(this.database,n));return kV(r,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||t)(E(Bo),E(Ho,8),E(FV,8),E(et),E(le),E(Bu),E(LV,8),E(Uu,8),E(Pg,8),E(xg,8),E(Rg,8),E(Og,8),E(kg,8),E(Fg,8),E(Ti,8))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var Ur=(()=>{class t{fbAuth;fbDb;router;get user(){return this.fbAuth.user.pipe(ot()).toPromise()}constructor(n,r,i){this.fbAuth=n,this.fbDb=r,this.router=i}login(n,r){return oe(this,null,function*(){console.log("Logging in...");let i=yield this.fbAuth.signInWithEmailAndPassword(n,r);console.log("Login result:",i)})}addData(n,r){return oe(this,null,function*(){console.log("Adding data...");let i=yield this.fbDb.list(n).push(r);console.log("Added data:",i)})}getRecentValue(n,r){return oe(this,null,function*(){let i=this.fbDb.list(n,s=>s.orderByChild("email").equalTo(r).limitToLast(1)).valueChanges(),o=yield lf(i);return o.length>0?o[0]:null})}logout(){return oe(this,null,function*(){yield this.fbAuth.signOut(),yield this.router.navigate(["/login"])})}static \u0275fac=function(r){return new(r||t)(E(Uu),E(Ub),E(xn))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var xv={};(function t(e,n,r,i){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var m=new OffscreenCanvas(1,1),p=m.getContext("2d");p.fillRect(0,0,1,1);var N=m.transferToImageBitmap();try{p.createPattern(N,"no-repeat")}catch{return!1}return!0}();function l(){}function c(m){var p=n.exports.Promise,N=p!==void 0?p:e.Promise;return typeof N=="function"?new N(m):(m(l,l),null)}var u=function(m,p){return{transform:function(N){if(m)return N;if(p.has(N))return p.get(N);var k=new OffscreenCanvas(N.width,N.height),W=k.getContext("2d");return W.drawImage(N,0,0),p.set(N,k),k},clear:function(){p.clear()}}}(a,new Map),d=function(){var m=Math.floor(16.666666666666668),p,N,k={},W=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(p=function(Q){var ee=Math.random();return k[ee]=requestAnimationFrame(function R(te){W===te||W+m-1<te?(W=te,delete k[ee],Q()):k[ee]=requestAnimationFrame(R)}),ee},N=function(Q){k[Q]&&cancelAnimationFrame(k[Q])}):(p=function(Q){return setTimeout(Q,m)},N=function(Q){return clearTimeout(Q)}),{frame:p,cancel:N}}(),f=function(){var m,p,N={};function k(W){function Q(ee,R){W.postMessage({options:ee||{},callback:R})}W.init=function(R){var te=R.transferControlToOffscreen();W.postMessage({canvas:te},[te])},W.fire=function(R,te,ve){if(p)return Q(R,null),p;var Ie=Math.random().toString(36).slice(2);return p=c(function(Ee){function Me(ze){ze.data.callback===Ie&&(delete N[Ie],W.removeEventListener("message",Me),p=null,u.clear(),ve(),Ee())}W.addEventListener("message",Me),Q(R,Ie),N[Ie]=Me.bind(null,{data:{callback:Ie}})}),p},W.reset=function(){W.postMessage({reset:!0});for(var R in N)N[R](),delete N[R]}}return function(){if(m)return m;if(!r&&o){var W=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{m=new Worker(URL.createObjectURL(new Blob([W])))}catch(Q){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",Q),null}k(m)}return m}}(),h={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(m,p){return p?p(m):m}function y(m){return m!=null}function v(m,p,N){return g(m&&y(m[p])?m[p]:h[p],N)}function T(m){return m<0?0:Math.floor(m)}function x(m,p){return Math.floor(Math.random()*(p-m))+m}function I(m){return parseInt(m,16)}function j(m){return m.map(Se)}function Se(m){var p=String(m).replace(/[^0-9a-f]/gi,"");return p.length<6&&(p=p[0]+p[0]+p[1]+p[1]+p[2]+p[2]),{r:I(p.substring(0,2)),g:I(p.substring(2,4)),b:I(p.substring(4,6))}}function Pe(m){var p=v(m,"origin",Object);return p.x=v(p,"x",Number),p.y=v(p,"y",Number),p}function yt(m){m.width=document.documentElement.clientWidth,m.height=document.documentElement.clientHeight}function lr(m){var p=m.getBoundingClientRect();m.width=p.width,m.height=p.height}function Vd(m){var p=document.createElement("canvas");return p.style.position="fixed",p.style.top="0px",p.style.left="0px",p.style.pointerEvents="none",p.style.zIndex=m,p}function Bd(m,p,N,k,W,Q,ee,R,te){m.save(),m.translate(p,N),m.rotate(Q),m.scale(k,W),m.arc(0,0,1,ee,R,te),m.restore()}function oS(m){var p=m.angle*(Math.PI/180),N=m.spread*(Math.PI/180);return{x:m.x,y:m.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:m.startVelocity*.5+Math.random()*m.startVelocity,angle2D:-p+(.5*N-Math.random()*N),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:m.color,shape:m.shape,tick:0,totalTicks:m.ticks,decay:m.decay,drift:m.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:m.gravity*3,ovalScalar:.6,scalar:m.scalar,flat:m.flat}}function sS(m,p){p.x+=Math.cos(p.angle2D)*p.velocity+p.drift,p.y+=Math.sin(p.angle2D)*p.velocity+p.gravity,p.velocity*=p.decay,p.flat?(p.wobble=0,p.wobbleX=p.x+10*p.scalar,p.wobbleY=p.y+10*p.scalar,p.tiltSin=0,p.tiltCos=0,p.random=1):(p.wobble+=p.wobbleSpeed,p.wobbleX=p.x+10*p.scalar*Math.cos(p.wobble),p.wobbleY=p.y+10*p.scalar*Math.sin(p.wobble),p.tiltAngle+=.1,p.tiltSin=Math.sin(p.tiltAngle),p.tiltCos=Math.cos(p.tiltAngle),p.random=Math.random()+2);var N=p.tick++/p.totalTicks,k=p.x+p.random*p.tiltCos,W=p.y+p.random*p.tiltSin,Q=p.wobbleX+p.random*p.tiltCos,ee=p.wobbleY+p.random*p.tiltSin;if(m.fillStyle="rgba("+p.color.r+", "+p.color.g+", "+p.color.b+", "+(1-N)+")",m.beginPath(),s&&p.shape.type==="path"&&typeof p.shape.path=="string"&&Array.isArray(p.shape.matrix))m.fill(lS(p.shape.path,p.shape.matrix,p.x,p.y,Math.abs(Q-k)*.1,Math.abs(ee-W)*.1,Math.PI/10*p.wobble));else if(p.shape.type==="bitmap"){var R=Math.PI/10*p.wobble,te=Math.abs(Q-k)*.1,ve=Math.abs(ee-W)*.1,Ie=p.shape.bitmap.width*p.scalar,Ee=p.shape.bitmap.height*p.scalar,Me=new DOMMatrix([Math.cos(R)*te,Math.sin(R)*te,-Math.sin(R)*ve,Math.cos(R)*ve,p.x,p.y]);Me.multiplySelf(new DOMMatrix(p.shape.matrix));var ze=m.createPattern(u.transform(p.shape.bitmap),"no-repeat");ze.setTransform(Me),m.globalAlpha=1-N,m.fillStyle=ze,m.fillRect(p.x-Ie/2,p.y-Ee/2,Ie,Ee),m.globalAlpha=1}else if(p.shape==="circle")m.ellipse?m.ellipse(p.x,p.y,Math.abs(Q-k)*p.ovalScalar,Math.abs(ee-W)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI):Bd(m,p.x,p.y,Math.abs(Q-k)*p.ovalScalar,Math.abs(ee-W)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI);else if(p.shape==="star")for(var ne=Math.PI/2*3,_t=4*p.scalar,Xt=8*p.scalar,Qt=p.x,Bn=p.y,Wr=5,hn=Math.PI/Wr;Wr--;)Qt=p.x+Math.cos(ne)*Xt,Bn=p.y+Math.sin(ne)*Xt,m.lineTo(Qt,Bn),ne+=hn,Qt=p.x+Math.cos(ne)*_t,Bn=p.y+Math.sin(ne)*_t,m.lineTo(Qt,Bn),ne+=hn;else m.moveTo(Math.floor(p.x),Math.floor(p.y)),m.lineTo(Math.floor(p.wobbleX),Math.floor(W)),m.lineTo(Math.floor(Q),Math.floor(ee)),m.lineTo(Math.floor(k),Math.floor(p.wobbleY));return m.closePath(),m.fill(),p.tick<p.totalTicks}function aS(m,p,N,k,W){var Q=p.slice(),ee=m.getContext("2d"),R,te,ve=c(function(Ie){function Ee(){R=te=null,ee.clearRect(0,0,k.width,k.height),u.clear(),W(),Ie()}function Me(){r&&!(k.width===i.width&&k.height===i.height)&&(k.width=m.width=i.width,k.height=m.height=i.height),!k.width&&!k.height&&(N(m),k.width=m.width,k.height=m.height),ee.clearRect(0,0,k.width,k.height),Q=Q.filter(function(ze){return sS(ee,ze)}),Q.length?R=d.frame(Me):Ee()}R=d.frame(Me),te=Ee});return{addFettis:function(Ie){return Q=Q.concat(Ie),ve},canvas:m,promise:ve,reset:function(){R&&d.cancel(R),te&&te()}}}function Bv(m,p){var N=!m,k=!!v(p||{},"resize"),W=!1,Q=v(p,"disableForReducedMotion",Boolean),ee=o&&!!v(p||{},"useWorker"),R=ee?f():null,te=N?yt:lr,ve=m&&R?!!m.__confetti_initialized:!1,Ie=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ee;function Me(ne,_t,Xt){for(var Qt=v(ne,"particleCount",T),Bn=v(ne,"angle",Number),Wr=v(ne,"spread",Number),hn=v(ne,"startVelocity",Number),dS=v(ne,"decay",Number),fS=v(ne,"gravity",Number),hS=v(ne,"drift",Number),jv=v(ne,"colors",j),pS=v(ne,"ticks",Number),Gv=v(ne,"shapes"),gS=v(ne,"scalar"),mS=!!v(ne,"flat"),Uv=Pe(ne),$v=Qt,jd=[],vS=m.width*Uv.x,yS=m.height*Uv.y;$v--;)jd.push(oS({x:vS,y:yS,angle:Bn,spread:Wr,startVelocity:hn,color:jv[$v%jv.length],shape:Gv[x(0,Gv.length)],ticks:pS,decay:dS,gravity:fS,drift:hS,scalar:gS,flat:mS}));return Ee?Ee.addFettis(jd):(Ee=aS(m,jd,te,_t,Xt),Ee.promise)}function ze(ne){var _t=Q||v(ne,"disableForReducedMotion",Boolean),Xt=v(ne,"zIndex",Number);if(_t&&Ie)return c(function(hn){hn()});N&&Ee?m=Ee.canvas:N&&!m&&(m=Vd(Xt),document.body.appendChild(m)),k&&!ve&&te(m);var Qt={width:m.width,height:m.height};R&&!ve&&R.init(m),ve=!0,R&&(m.__confetti_initialized=!0);function Bn(){if(R){var hn={getBoundingClientRect:function(){if(!N)return m.getBoundingClientRect()}};te(hn),R.postMessage({resize:{width:hn.width,height:hn.height}});return}Qt.width=Qt.height=null}function Wr(){Ee=null,k&&(W=!1,e.removeEventListener("resize",Bn)),N&&m&&(document.body.contains(m)&&document.body.removeChild(m),m=null,ve=!1)}return k&&!W&&(W=!0,e.addEventListener("resize",Bn,!1)),R?R.fire(ne,Qt,Wr):Me(ne,Qt,Wr)}return ze.reset=function(){R&&R.reset(),Ee&&Ee.reset()},ze}var Hd;function Hv(){return Hd||(Hd=Bv(null,{useWorker:!0,resize:!0})),Hd}function lS(m,p,N,k,W,Q,ee){var R=new Path2D(m),te=new Path2D;te.addPath(R,new DOMMatrix(p));var ve=new Path2D;return ve.addPath(te,new DOMMatrix([Math.cos(ee)*W,Math.sin(ee)*W,-Math.sin(ee)*Q,Math.cos(ee)*Q,N,k])),ve}function cS(m){if(!s)throw new Error("path confetti are not supported in this browser");var p,N;typeof m=="string"?p=m:(p=m.path,N=m.matrix);var k=new Path2D(p),W=document.createElement("canvas"),Q=W.getContext("2d");if(!N){for(var ee=1e3,R=ee,te=ee,ve=0,Ie=0,Ee,Me,ze=0;ze<ee;ze+=2)for(var ne=0;ne<ee;ne+=2)Q.isPointInPath(k,ze,ne,"nonzero")&&(R=Math.min(R,ze),te=Math.min(te,ne),ve=Math.max(ve,ze),Ie=Math.max(Ie,ne));Ee=ve-R,Me=Ie-te;var _t=10,Xt=Math.min(_t/Ee,_t/Me);N=[Xt,0,0,Xt,-Math.round(Ee/2+R)*Xt,-Math.round(Me/2+te)*Xt]}return{type:"path",path:p,matrix:N}}function uS(m){var p,N=1,k="#000000",W='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof m=="string"?p=m:(p=m.text,N="scalar"in m?m.scalar:N,W="fontFamily"in m?m.fontFamily:W,k="color"in m?m.color:k);var Q=10*N,ee=""+Q+"px "+W,R=new OffscreenCanvas(Q,Q),te=R.getContext("2d");te.font=ee;var ve=te.measureText(p),Ie=Math.ceil(ve.actualBoundingBoxRight+ve.actualBoundingBoxLeft),Ee=Math.ceil(ve.actualBoundingBoxAscent+ve.actualBoundingBoxDescent),Me=2,ze=ve.actualBoundingBoxLeft+Me,ne=ve.actualBoundingBoxAscent+Me;Ie+=Me+Me,Ee+=Me+Me,R=new OffscreenCanvas(Ie,Ee),te=R.getContext("2d"),te.font=ee,te.fillStyle=k,te.fillText(p,ze,ne);var _t=1/N;return{type:"bitmap",bitmap:R.transferToImageBitmap(),matrix:[_t,0,0,_t,-Ie*_t/2,-Ee*_t/2]}}n.exports=function(){return Hv().apply(this,arguments)},n.exports.reset=function(){Hv().reset()},n.exports.create=Bv,n.exports.shapeFromPath=cS,n.exports.shapeFromText=uS})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),xv,!1);var Wb=xv.exports,aW=xv.exports.create;var zb=(()=>{class t{shoot(){Wb({particleCount:500,spread:250,scalar:2,colors:["#FFC0CB","#FFB6C1","#FF69B4","#FF1493","#DB7093","#FF7F50","#FF6EB4","#FF00FF","#FF6347","#FFD700"]})}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var qb=(()=>{class t{TIMESLOTS=[[800,1100],[1100,1400],[1400,1700]];get nextAvailableTime(){let n=new Date,r=n.getHours()*100+n.getMinutes(),i;for(let s of this.TIMESLOTS)if(r<s[0]){i=s;break}i||(new Date(n).setDate(n.getDate()+1),i=this.TIMESLOTS[0]);let o=new Date(n);return o.setHours(Math.floor(i[0]/100),i[0]%100,0,0),o}canPerformAction(n){let r=new Date,i=r.getHours()*100+r.getMinutes(),o=this.TIMESLOTS.find(([u,d])=>u<=i&&i<d);if(!o)return null;if(n===void 0)return!0;let s=new Date(n),a=new Date(r.getFullYear(),r.getMonth(),r.getDate()),l=new Date(s.getFullYear(),s.getMonth(),s.getDate());if(a.getTime()!==l.getTime())return!0;let c=s.getHours()*100+s.getMinutes();return!(o[0]<=c&&c<o[1])}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jV(t,e){if(t&1&&(ye(0,"div",2)(1,"h1"),je(2),fe()()),t&2){let n=Gt();He(2),yo(n.loading)}}function GV(t,e){if(t&1&&(ye(0,"div",2)(1,"h1",5),je(2),fe(),ye(3,"h3",5),je(4),WC(5,"date"),fe()()),t&2){let n=Gt();He(2),yo(n.canPerformAction===null?"Het is buiten werkuren, je kunt geen waardes invullen":"Je hebt al waardes ingevuld voor dit dagdeel"),He(2),Rs("Je kan weer een score invullen op ",zC(5,2,n.nextAvailableTime,"HH:mm"),"")}}function UV(t,e){t&1&&(ye(0,"h6",10),je(1,"Er is iets misgegaan met het verzenden van je waardes"),fe())}function $V(t,e){if(t&1){let n=HC();ye(0,"div",3)(1,"div",6)(2,"h2",5),je(3,"Hoe zuur ben je?"),fe(),ye(4,"app-slider",7),Co("ngModelChange",function(i){Sc(n);let o=Gt();return Os(o.acidity,i)||(o.acidity=i),Ic(i)}),fe()(),ye(5,"div",6)(6,"h2",5),je(7,"Wat is je gemoedstoestand?"),fe(),ye(8,"app-slider",8),Co("ngModelChange",function(i){Sc(n);let o=Gt();return Os(o.feeling,i)||(o.feeling=i),Ic(i)}),fe()(),ye(9,"button",9),ht("click",function(){Sc(n);let i=Gt();return Ic(i.sendValues())}),je(10,"Verzenden!"),fe(),Qn(11,UV,2,0,"h6",10),fe()}if(t&2){let n=Gt();He(4),Mn("reverse",!0),_o("ngModel",n.acidity),He(4),_o("ngModel",n.feeling),He(3),Yn(n.submitFailed?11:-1)}}function WV(t,e){t&1&&(ye(0,"div",4)(1,"h1"),je(2,"Je waardes zijn verzonden!"),fe()())}var Kb=(()=>{class t{fireBaseProvider;confettiProvider;timeProvider;acidity=0;feeling=0;loading="";submitFailed=!1;submitted=!1;canPerformAction=!1;nextAvailableTime=new Date;email="";constructor(n,r,i){this.fireBaseProvider=n,this.confettiProvider=r,this.timeProvider=i}ngOnInit(){return oe(this,null,function*(){this.email=(yield this.fireBaseProvider.user)?.email??"",this.nextAvailableTime=this.timeProvider.nextAvailableTime,yield this.checkValues()})}checkValues(){return oe(this,null,function*(){try{this.loading="We checken of je al een beoordeling hebt ingevuld...";let n=yield this.fireBaseProvider.getRecentValue(ku.WERKBEOORDELING,this.email);this.canPerformAction=this.timeProvider.canPerformAction(n?.timestamp)}catch(n){console.error(n)}this.loading=""})}sendValues(){return oe(this,null,function*(){try{this.loading="We zijn je beoordeling aan het opslaan";let n={acidity:this.acidity,feeling:this.feeling,timestamp:new Date().getTime(),email:this.email};yield this.fireBaseProvider.addData(ku.WERKBEOORDELING,n),this.confettiProvider.shoot(),this.submitted=!0}catch(n){console.error(n),this.submitFailed=!0}this.loading=""})}logout(){return oe(this,null,function*(){yield this.fireBaseProvider.logout()})}static \u0275fac=function(r){return new(r||t)(V(Ur),V(zb),V(qb))};static \u0275cmp=Ht({type:t,selectors:[["app-fill-score"]],standalone:!0,features:[Ut],decls:7,vars:4,consts:[["popperClasses","red","red","",1,"email","center",3,"click","popper"],["src","assets/svg/logout.svg",1,"svg",3,"applyClass"],[1,"vh-center"],[1,"values","vh-center"],[1,"submitted","vh-center"],[1,"center"],[1,"value"],[3,"ngModelChange","reverse","ngModel"],[3,"ngModelChange","ngModel"],[3,"click"],[1,"center","red"]],template:function(r,i){r&1&&(ye(0,"h4",0),ht("click",function(){return i.logout()}),je(1),An(2,"svg-icon",1),fe(),Qn(3,jV,3,1,"div",2)(4,GV,6,5,"div",2)(5,$V,12,4,"div",3)(6,WV,3,0,"div",4)),r&2&&(Mn("popper","Uitloggen?"),He(),Rs("Je bent ingelogd als: ",i.email," "),He(),Mn("applyClass",!0),He(),Yn(i.loading?3:i.canPerformAction?i.submitted?i.submitted?6:-1:5:4))},dependencies:[eD,Ou,Vo,ga,tD,rD,gE],styles:["[_nghost-%COMP%]{padding:2rem}[_nghost-%COMP%]   .values[_ngcontent-%COMP%]{max-width:32rem;min-width:16rem;width:100%;gap:2rem}[_nghost-%COMP%]   .email[_ngcontent-%COMP%]{display:flex;gap:1rem;cursor:pointer}[_nghost-%COMP%]   .email[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .email[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem}[_nghost-%COMP%]   .email[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}return t})();function zV(t,e){t&1&&(ye(0,"small"),je(1,"Email is verplicht"),fe())}function qV(t,e){t&1&&(ye(0,"small"),je(1,"Ongeldig email adres"),fe())}function KV(t,e){if(t&1&&Qn(0,zV,2,0,"small")(1,qV,2,0,"small"),t&2){let n=Gt();Yn(!(n.email==null||n.email.errors==null)&&n.email.errors.required?0:-1),He(),Yn(!(n.email==null||n.email.errors==null)&&n.email.errors.email?1:-1)}}function XV(t,e){t&1&&(ye(0,"small"),je(1,"Wachtwoord is verplicht"),fe())}function QV(t,e){if(t&1&&Qn(0,XV,2,0,"small"),t&2){let n=Gt();Yn(!(n.password==null||n.password.errors==null)&&n.password.errors.required?0:-1)}}var Xb=(()=>{class t{fireBaseProvider;router;loginForm=new Mu({email:new pa("",[ko.required,ko.email]),password:new pa("",[ko.required])});loginFailed=!1;loading=!1;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}constructor(n,r){this.fireBaseProvider=n,this.router=r}login(){return oe(this,null,function*(){try{this.loading=!0,yield this.fireBaseProvider.login(this.email?.value,this.password?.value),yield this.router.navigate(["/fill-score"])}catch(n){console.error(n),this.loginFailed=!0}this.loading=!1})}static \u0275fac=function(r){return new(r||t)(V(Ur),V(xn))};static \u0275cmp=Ht({type:t,selectors:[["app-login"]],standalone:!0,features:[Ut],decls:13,vars:4,consts:[[3,"ngSubmit","formGroup"],["for","email"],["id","email","formControlName","email","type","email"],["for","password"],["id","password","formControlName","password","type","password"],["type","submit",3,"disabled"]],template:function(r,i){r&1&&(ye(0,"form",0),ht("ngSubmit",function(){return i.login()}),ye(1,"div")(2,"label",1),je(3,"Email:"),fe(),An(4,"input",2),Qn(5,KV,2,2),fe(),ye(6,"div")(7,"label",3),je(8,"Password:"),fe(),An(9,"input",4),Qn(10,QV,1,1),fe(),ye(11,"button",5),je(12,"Login"),fe()()),r&2&&(Mn("formGroup",i.loginForm),He(5),Yn(i.email!=null&&i.email.invalid&&(i.email!=null&&i.email.dirty||i.email!=null&&i.email.touched)?5:-1),He(5),Yn(i.password!=null&&i.password.invalid&&(i.password!=null&&i.password.dirty||i.password!=null&&i.password.touched)?10:-1),He(),Mn("disabled",i.loginForm.invalid))},dependencies:[JT,QT,Lo,Vo,UT,Cg,Eg]})}return t})();var Qb=(t,e)=>oe(void 0,null,function*(){let n=_(xn);return(yield _(Ur).user)?(yield n.navigate(["/fill-score"]),!1):!0});var Yb=(t,e)=>oe(void 0,null,function*(){let n=_(xn);return(yield _(Ur).user)?!0:(yield n.navigate(["/login"]),!1)});var Zb=[{path:"login",component:Xb,pathMatch:"full",canActivate:[Qb]},{path:"fill-score",component:Kb,pathMatch:"full",canActivate:[Yb]},{path:"**",redirectTo:"fill-score",pathMatch:"full"}];var Fd={firebaseConfig:{apiKey:"AIzaSyCuRcP3yE6bQna_3QejsMh2BE3wttptI-8",authDomain:"werkbeoordeelisator-69.firebaseapp.com",projectId:"werkbeoordeelisator-69",storageBucket:"werkbeoordeelisator-69.appspot.com",messagingSenderId:"918835579953",appId:"1:918835579953:web:624a944336b5ac78e55910",measurementId:"G-3RM2SN6XM0",databaseURL:"https://werkbeoordeelisator-69-default-rtdb.europe-west1.firebasedatabase.app"},rootFontSize:18};var Jb={providers:[JC({eventCoalescing:!0}),_T(Zb),Ah(_D.initializeApp(Fd.firebaseConfig),nD.forRoot(),AE)]};var os={UKNOWN:"Unknown"},Vv={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:os.UKNOWN},Ld={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp(`Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|
      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|
      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|
      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|
      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|
      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|
      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052`),SAMSUNG:new RegExp(`\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|
      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|
      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|
      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|
      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|
      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|
      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|
      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|
      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|
      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|
      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|
      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|
      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|
      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|
      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|
      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|
      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|
      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|
      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|
      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|
      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|
      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|
      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|
      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|
      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|
      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|
      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|
      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|
      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|
      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|
      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|
      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|
      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|
      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|
      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|
      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|
      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|
      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|
      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|
      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|
      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|
      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|
      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|
      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|
      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|
      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|
      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|
      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|
      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|
      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|
      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|
      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|
      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|
      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|
      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F`),LG:new RegExp(`\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|
      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|
      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|
      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|
      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|
      MS323|M257)`),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp(`PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|
        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|
        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|
        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|
        P2000|P7040|P7000|C790`),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp(`KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|
        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|
        CINK KING|CINK PEAX|CINK SLIM|SUBLIM`),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp(`Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|
        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser`)},is={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp(`SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|
        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|
        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|
        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|
        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|
        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|
        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|
        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|
        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|
        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|
        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|
        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|
        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|
        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|
        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|
        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|
        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|
        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|
        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970`),Kindle:new RegExp(`Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|
        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)`),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp(`^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|
        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|
        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|
        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|
        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b`),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp(`Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|
        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|
        \\bA3-A20\\b|\\bA3-A30`),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp(`PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|
        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|
        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|
        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|
        PMT5887|PMT5001|PMT5002`),LenovoTablet:new RegExp(`Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|
        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|
        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F`),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp(`Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|
        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|
        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|
        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|
        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b`),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp(`\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|
         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b`),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp(`Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|
        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|
        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|
        SGP612|SGP712`),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp(`MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|
        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010`),MIDTablet:new RegExp(`M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|
        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|
        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10`),MSITablet:new RegExp(`MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|
        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b`),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp(`Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|
        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus`),HuaweiTablet:new RegExp(`MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|
        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09`),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp(`NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|
        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|
        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|
        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|
        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|
        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|
        TB-436|TB-416|TB-146SE|TB-126SE`),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp(`Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|
        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b`),DanyTechTablet:`Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|
        Genius TAB GII|Genius TAB GIII|Genius Tab S1`,GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp(`\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|
        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|
        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|
        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b`),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp(`TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|
        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|
        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|
        TPC10111|TPC10203|TPC10205|TPC10503`),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp(`TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|
        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|
        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|
        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10`),OvermaxTablet:new RegExp(`OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|
        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027`),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp(`GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|
        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|
        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|
        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|
        TAB R104|TAB R83.3|TAB A1042`),ModecomTablet:new RegExp(`FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|
        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|
        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003`),VoninoTablet:new RegExp(`\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|
        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|
        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b`),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp(`Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|
        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|
        P1000|P300|S18|S6600|S9100)\\b`),iJoyTablet:new RegExp(`Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|
        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|
        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|
        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|
        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)`),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp(`KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|
        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|
        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|
        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151`),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp(`NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|
        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S`),TeclastTablet:new RegExp(`T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|
        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|
        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|
        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|
        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|
        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|
        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|
        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|
        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi`),OndaTablet:new RegExp(`\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|
        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|
        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|
        Vi40)\\b[s]+|V10 \\b4G\\b`),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp(`MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|
        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|
        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010`),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp(`miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|
        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|
        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b`),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp(`TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|
        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100`),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp(`Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|
        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|
        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107`)},$r={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:os.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},eS=[$r.PS4,$r.CHROME_BOOK,$r.MAC,$r.DELL,$r.ASUS,$r.UNKNOWN],YV={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:os.UKNOWN},ZV={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:os.UKNOWN.toLowerCase()},tS={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},JV={CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},e2=z(D(D(D({},Ld),is),tS),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),Ov={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},kv={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},t2=Object.keys(Ov).reduce((t,e)=>(t[e]=Ov[e],t),{}),nS=Object.keys(kv).reduce((t,e)=>(t[Vv[e]]=kv[e],t),{}),Vn=Object.freeze({__proto__:null,BROWSERS:Vv,BROWSERS_RE:JV,BROWSER_VERSIONS_RE:nS,BROWSER_VERSIONS_RE_MAP:kv,DESKTOP_DEVICES:eS,DEVICES:$r,DEVICES_RE:e2,GENERAL:os,MOBILES_RE:Ld,OS:YV,OS_RE:tS,OS_VERSIONS:ZV,OS_VERSIONS_RE:t2,OS_VERSIONS_RE_MAP:Ov,TABLETS_RE:is}),Fv=class{constructor(){}test(e,n){return typeof n=="string"&&(n=new RegExp(n)),n instanceof RegExp?n.test(e):n&&Array.isArray(n.and)?n.and.every(r=>this.test(e,r)):n&&Array.isArray(n.or)?n.or.some(r=>this.test(e,r)):n&&n.not?!this.test(e,n.not):!1}exec(e,n){return typeof n=="string"&&(n=new RegExp(n)),n instanceof RegExp?n.exec(e):n&&Array.isArray(n)?n.reduce((r,i)=>r||this.exec(e,i),null):null}},Ja=function(t){return t.Mobile="mobile",t.Tablet="tablet",t.Desktop="desktop",t.Unknown="unknown",t}(Ja||{}),Lv=function(t){return t.Portrait="portrait",t.Landscape="landscape",t}(Lv||{}),Rv="iPad",rS=(()=>{let e=class e{constructor(r){this.platformId=r,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new Fv,this.deviceType="",this.orientation="",Jc(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(r=this.userAgent){r!==this.userAgent&&(this.userAgent=r);let i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(o=>{this[o.prop]=Object.keys(Vn[o.const]).reduce((s,a)=>Vn[o.const][a]==="device"&&Jc(this.platformId)&&(this.reTree.test(this.userAgent,is[Rv])||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)?(s[Vn[o.const][a]]=Rv,Object):(s[Vn[o.const][a]]=this.reTree.test(r,Vn[`${o.const}_RE`][a]),s),{})}),i.forEach(o=>{this[o.prop]=Object.keys(Vn[o.const]).map(s=>Vn[o.const][s]).reduce((s,a)=>o.prop==="device"&&s===Vn[o.const].ANDROID?this[o.prop][a]?a:s:s===Vn[o.const].UNKNOWN&&this[o.prop][a]?a:s,Vn[o.const].UNKNOWN)}),this.browser_version="0",this.browser!==Vv.UNKNOWN){let o=nS[this.browser],s=this.reTree.exec(r,o);s&&(this.browser_version=s[1])}typeof window<"u"&&window.matchMedia?this.orientation=window.matchMedia("(orientation: landscape)").matches?Lv.Landscape:Lv.Portrait:this.orientation=os.UKNOWN,this.deviceType=this.isTablet()?Ja.Tablet:this.isMobile(this.userAgent)?Ja.Mobile:this.isDesktop(this.userAgent)?Ja.Desktop:Ja.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(r=this.userAgent){return this.isTablet(r)?!1:!!Object.keys(Ld).find(o=>this.reTree.test(r,Ld[o]))}isTablet(r=this.userAgent){return Jc(this.platformId)&&(this.reTree.test(this.userAgent,is[Rv])||typeof navigator<"u"&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)?!0:!!Object.keys(is).find(o=>!!this.reTree.test(r,is[o]))}isDesktop(r=this.userAgent){return this.device===$r.UNKNOWN&&(this.isMobile(r)||this.isTablet(r))?!1:eS.indexOf(this.device)>-1}};e.\u0275fac=function(i){return new(i||e)(E(et))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var iS=(()=>{class t{deviceDetectorService;constructor(n){this.deviceDetectorService=n}ngOnInit(){this.determineFontSize(window.innerWidth),window.addEventListener("resize",()=>this.determineFontSize(window.innerWidth))}determineFontSize(n){let r=window.innerWidth>window.innerHeight?"landscape":"portrait",i=Fd.rootFontSize,o=1920;this.deviceDetectorService.isMobile()?r==="landscape"?(o=915,i=13):(o=412,i=12):this.deviceDetectorService.isTablet()&&(r==="landscape"?o=1280:o=768);let s=window.outerWidth/window.outerHeight,a=2,l=i;s>a&&n>o&&this.deviceDetectorService.isDesktop()||(l=n/o*i),document.documentElement.style.setProperty("font-size",`${l.toFixed(3)}px`)}static \u0275fac=function(r){return new(r||t)(V(rS))};static \u0275cmp=Ht({type:t,selectors:[["app-root"]],standalone:!0,features:[Ut],decls:1,vars:0,consts:[[1,"outlet"]],template:function(r,i){r&1&&An(0,"router-outlet",0)},dependencies:[og],styles:[".frikandelbroodje[_ngcontent-%COMP%]{color:red}"]})}return t})();LE(iS,Jb).catch(t=>console.error(t));
